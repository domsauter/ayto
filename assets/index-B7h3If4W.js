(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(c){if(c.ep)return;c.ep=!0;const f=r(c);fetch(c.href,f)}})();var Mo={exports:{}},yl={};var Em;function pv(){if(Em)return yl;Em=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(s,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var m in c)m!=="key"&&(f[m]=c[m])}else f=c;return c=f.ref,{$$typeof:i,type:s,key:h,ref:c!==void 0?c:null,props:f}}return yl.Fragment=a,yl.jsx=r,yl.jsxs=r,yl}var xm;function yv(){return xm||(xm=1,Mo.exports=pv()),Mo.exports}var v=yv(),Bo={exports:{}},ce={};var Tm;function vv(){if(Tm)return ce;Tm=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=S&&T[S]||T["@@iterator"],typeof T=="function"?T:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,k={};function L(T,G,J){this.props=T,this.context=G,this.refs=k,this.updater=J||A}L.prototype.isReactComponent={},L.prototype.setState=function(T,G){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,G,"setState")},L.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function z(){}z.prototype=L.prototype;function M(T,G,J){this.props=T,this.context=G,this.refs=k,this.updater=J||A}var Q=M.prototype=new z;Q.constructor=M,j(Q,L.prototype),Q.isPureReactComponent=!0;var Y=Array.isArray;function F(){}var V={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function ie(T,G,J){var P=J.ref;return{$$typeof:i,type:T,key:G,ref:P!==void 0?P:null,props:J}}function Le(T,G){return ie(T.type,G,T.props)}function st(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function X(T){var G={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(J){return G[J]})}var ne=/\/+/g;function re(T,G){return typeof T=="object"&&T!==null&&T.key!=null?X(""+T.key):G.toString(36)}function te(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(F,F):(T.status="pending",T.then(function(G){T.status==="pending"&&(T.status="fulfilled",T.value=G)},function(G){T.status==="pending"&&(T.status="rejected",T.reason=G)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function N(T,G,J,P,fe){var me=typeof T;(me==="undefined"||me==="boolean")&&(T=null);var Te=!1;if(T===null)Te=!0;else switch(me){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(T.$$typeof){case i:case a:Te=!0;break;case b:return Te=T._init,N(Te(T._payload),G,J,P,fe)}}if(Te)return fe=fe(T),Te=P===""?"."+re(T,0):P,Y(fe)?(J="",Te!=null&&(J=Te.replace(ne,"$&/")+"/"),N(fe,G,J,"",function(xi){return xi})):fe!=null&&(st(fe)&&(fe=Le(fe,J+(fe.key==null||T&&T.key===fe.key?"":(""+fe.key).replace(ne,"$&/")+"/")+Te)),G.push(fe)),1;Te=0;var ot=P===""?".":P+":";if(Y(T))for(var Ge=0;Ge<T.length;Ge++)P=T[Ge],me=ot+re(P,Ge),Te+=N(P,G,J,me,fe);else if(Ge=w(T),typeof Ge=="function")for(T=Ge.call(T),Ge=0;!(P=T.next()).done;)P=P.value,me=ot+re(P,Ge++),Te+=N(P,G,J,me,fe);else if(me==="object"){if(typeof T.then=="function")return N(te(T),G,J,P,fe);throw G=String(T),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Te}function K(T,G,J){if(T==null)return T;var P=[],fe=0;return N(T,P,"","",function(me){return G.call(J,me,fe++)}),P}function Z(T){if(T._status===-1){var G=T._result;G=G(),G.then(function(J){(T._status===0||T._status===-1)&&(T._status=1,T._result=J)},function(J){(T._status===0||T._status===-1)&&(T._status=2,T._result=J)}),T._status===-1&&(T._status=0,T._result=G)}if(T._status===1)return T._result.default;throw T._result}var Ee=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},_e={map:K,forEach:function(T,G,J){K(T,function(){G.apply(this,arguments)},J)},count:function(T){var G=0;return K(T,function(){G++}),G},toArray:function(T){return K(T,function(G){return G})||[]},only:function(T){if(!st(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ce.Activity=_,ce.Children=_e,ce.Component=L,ce.Fragment=r,ce.Profiler=c,ce.PureComponent=M,ce.StrictMode=s,ce.Suspense=g,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,ce.__COMPILER_RUNTIME={__proto__:null,c:function(T){return V.H.useMemoCache(T)}},ce.cache=function(T){return function(){return T.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(T,G,J){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var P=j({},T.props),fe=T.key;if(G!=null)for(me in G.key!==void 0&&(fe=""+G.key),G)!le.call(G,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&G.ref===void 0||(P[me]=G[me]);var me=arguments.length-2;if(me===1)P.children=J;else if(1<me){for(var Te=Array(me),ot=0;ot<me;ot++)Te[ot]=arguments[ot+2];P.children=Te}return ie(T.type,fe,P)},ce.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:f,_context:T},T},ce.createElement=function(T,G,J){var P,fe={},me=null;if(G!=null)for(P in G.key!==void 0&&(me=""+G.key),G)le.call(G,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(fe[P]=G[P]);var Te=arguments.length-2;if(Te===1)fe.children=J;else if(1<Te){for(var ot=Array(Te),Ge=0;Ge<Te;Ge++)ot[Ge]=arguments[Ge+2];fe.children=ot}if(T&&T.defaultProps)for(P in Te=T.defaultProps,Te)fe[P]===void 0&&(fe[P]=Te[P]);return ie(T,me,fe)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(T){return{$$typeof:m,render:T}},ce.isValidElement=st,ce.lazy=function(T){return{$$typeof:b,_payload:{_status:-1,_result:T},_init:Z}},ce.memo=function(T,G){return{$$typeof:p,type:T,compare:G===void 0?null:G}},ce.startTransition=function(T){var G=V.T,J={};V.T=J;try{var P=T(),fe=V.S;fe!==null&&fe(J,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(F,Ee)}catch(me){Ee(me)}finally{G!==null&&J.types!==null&&(G.types=J.types),V.T=G}},ce.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},ce.use=function(T){return V.H.use(T)},ce.useActionState=function(T,G,J){return V.H.useActionState(T,G,J)},ce.useCallback=function(T,G){return V.H.useCallback(T,G)},ce.useContext=function(T){return V.H.useContext(T)},ce.useDebugValue=function(){},ce.useDeferredValue=function(T,G){return V.H.useDeferredValue(T,G)},ce.useEffect=function(T,G){return V.H.useEffect(T,G)},ce.useEffectEvent=function(T){return V.H.useEffectEvent(T)},ce.useId=function(){return V.H.useId()},ce.useImperativeHandle=function(T,G,J){return V.H.useImperativeHandle(T,G,J)},ce.useInsertionEffect=function(T,G){return V.H.useInsertionEffect(T,G)},ce.useLayoutEffect=function(T,G){return V.H.useLayoutEffect(T,G)},ce.useMemo=function(T,G){return V.H.useMemo(T,G)},ce.useOptimistic=function(T,G){return V.H.useOptimistic(T,G)},ce.useReducer=function(T,G,J){return V.H.useReducer(T,G,J)},ce.useRef=function(T){return V.H.useRef(T)},ce.useState=function(T){return V.H.useState(T)},ce.useSyncExternalStore=function(T,G,J){return V.H.useSyncExternalStore(T,G,J)},ce.useTransition=function(){return V.H.useTransition()},ce.version="19.2.4",ce}var Am;function fc(){return Am||(Am=1,Bo.exports=vv()),Bo.exports}var R=fc(),Lo={exports:{}},vl={},qo={exports:{}},Ho={};var Rm;function bv(){return Rm||(Rm=1,(function(i){function a(N,K){var Z=N.length;N.push(K);e:for(;0<Z;){var Ee=Z-1>>>1,_e=N[Ee];if(0<c(_e,K))N[Ee]=K,N[Z]=_e,Z=Ee;else break e}}function r(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var K=N[0],Z=N.pop();if(Z!==K){N[0]=Z;e:for(var Ee=0,_e=N.length,T=_e>>>1;Ee<T;){var G=2*(Ee+1)-1,J=N[G],P=G+1,fe=N[P];if(0>c(J,Z))P<_e&&0>c(fe,J)?(N[Ee]=fe,N[P]=Z,Ee=P):(N[Ee]=J,N[G]=Z,Ee=G);else if(P<_e&&0>c(fe,Z))N[Ee]=fe,N[P]=Z,Ee=P;else break e}}return K}function c(N,K){var Z=N.sortIndex-K.sortIndex;return Z!==0?Z:N.id-K.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],p=[],b=1,_=null,S=3,w=!1,A=!1,j=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function Q(N){for(var K=r(p);K!==null;){if(K.callback===null)s(p);else if(K.startTime<=N)s(p),K.sortIndex=K.expirationTime,a(g,K);else break;K=r(p)}}function Y(N){if(j=!1,Q(N),!A)if(r(g)!==null)A=!0,F||(F=!0,X());else{var K=r(p);K!==null&&te(Y,K.startTime-N)}}var F=!1,V=-1,le=5,ie=-1;function Le(){return k?!0:!(i.unstable_now()-ie<le)}function st(){if(k=!1,F){var N=i.unstable_now();ie=N;var K=!0;try{e:{A=!1,j&&(j=!1,z(V),V=-1),w=!0;var Z=S;try{t:{for(Q(N),_=r(g);_!==null&&!(_.expirationTime>N&&Le());){var Ee=_.callback;if(typeof Ee=="function"){_.callback=null,S=_.priorityLevel;var _e=Ee(_.expirationTime<=N);if(N=i.unstable_now(),typeof _e=="function"){_.callback=_e,Q(N),K=!0;break t}_===r(g)&&s(g),Q(N)}else s(g);_=r(g)}if(_!==null)K=!0;else{var T=r(p);T!==null&&te(Y,T.startTime-N),K=!1}}break e}finally{_=null,S=Z,w=!1}K=void 0}}finally{K?X():F=!1}}}var X;if(typeof M=="function")X=function(){M(st)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,re=ne.port2;ne.port1.onmessage=st,X=function(){re.postMessage(null)}}else X=function(){L(st,0)};function te(N,K){V=L(function(){N(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(N){N.callback=null},i.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<N?Math.floor(1e3/N):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(N){switch(S){case 1:case 2:case 3:var K=3;break;default:K=S}var Z=S;S=K;try{return N()}finally{S=Z}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(N,K){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Z=S;S=N;try{return K()}finally{S=Z}},i.unstable_scheduleCallback=function(N,K,Z){var Ee=i.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Ee+Z:Ee):Z=Ee,N){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=Z+_e,N={id:b++,callback:K,priorityLevel:N,startTime:Z,expirationTime:_e,sortIndex:-1},Z>Ee?(N.sortIndex=Z,a(p,N),r(g)===null&&N===r(p)&&(j?(z(V),V=-1):j=!0,te(Y,Z-Ee))):(N.sortIndex=_e,a(g,N),A||w||(A=!0,F||(F=!0,X()))),N},i.unstable_shouldYield=Le,i.unstable_wrapCallback=function(N){var K=S;return function(){var Z=S;S=K;try{return N.apply(this,arguments)}finally{S=Z}}}})(Ho)),Ho}var Om;function _v(){return Om||(Om=1,qo.exports=bv()),qo.exports}var $o={exports:{}},ut={};var jm;function wv(){if(jm)return ut;jm=1;var i=fc();function a(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(g,p,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:_==null?null:""+_,children:g,containerInfo:p,implementation:b}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ut.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return f(g,p,null,b)},ut.flushSync=function(g){var p=h.T,b=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=b,s.d.f()}},ut.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},ut.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},ut.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,_=m(b,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:w}):b==="script"&&s.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ut.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},ut.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,_=m(b,p.crossOrigin);s.d.L(g,b,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ut.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},ut.requestFormReset=function(g){s.d.r(g)},ut.unstable_batchedUpdates=function(g,p){return g(p)},ut.useFormState=function(g,p,b){return h.H.useFormState(g,p,b)},ut.useFormStatus=function(){return h.H.useHostTransitionStatus()},ut.version="19.2.4",ut}var Cm;function ug(){if(Cm)return $o.exports;Cm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),$o.exports=wv(),$o.exports}var Nm;function Sv(){if(Nm)return vl;Nm=1;var i=_v(),a=fc(),r=ug();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(s(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var o=u.alternate;if(o===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===n)return g(u),e;if(o===l)return g(u),t;o=o.sibling}throw Error(s(188))}if(n.return!==l.return)n=u,l=o;else{for(var d=!1,y=u.child;y;){if(y===n){d=!0,n=u,l=o;break}if(y===l){d=!0,l=u,n=o;break}y=y.sibling}if(!d){for(y=o.child;y;){if(y===n){d=!0,n=o,l=u;break}if(y===l){d=!0,l=o,n=u;break}y=y.sibling}if(!d)throw Error(s(189))}}if(n.alternate!==l)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),M=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),Le=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=st&&e[st]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case L:return"Profiler";case k:return"StrictMode";case Y:return"Suspense";case F:return"SuspenseList";case ie:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case M:return e.displayName||"Context";case z:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:re(e.type)||"Memo";case le:t=e._payload,e=e._init;try{return re(e(t))}catch{}}return null}var te=Array.isArray,N=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},Ee=[],_e=-1;function T(e){return{current:e}}function G(e){0>_e||(e.current=Ee[_e],Ee[_e]=null,_e--)}function J(e,t){_e++,Ee[_e]=e.current,e.current=t}var P=T(null),fe=T(null),me=T(null),Te=T(null);function ot(e,t){switch(J(me,t),J(fe,e),J(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Xd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Xd(t),e=Qd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(P),J(P,e)}function Ge(){G(P),G(fe),G(me)}function xi(e){e.memoizedState!==null&&J(Te,e);var t=P.current,n=Qd(t,e.type);t!==n&&(J(fe,e),J(P,n))}function Dl(e){fe.current===e&&(G(P),G(fe)),Te.current===e&&(G(Te),dl._currentValue=Z)}var ys,wc;function Fn(e){if(ys===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ys=t&&t[1]||"",wc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+e+wc}var vs=!1;function bs(e,t){if(!e||vs)return"";vs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(B){var D=B}Reflect.construct(e,[],$)}else{try{$.call()}catch(B){D=B}e.call($.prototype)}}else{try{throw Error()}catch(B){D=B}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(B){if(B&&D&&typeof B.stack=="string")return[B.stack,D.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=l.DetermineComponentFrameRoot(),d=o[0],y=o[1];if(d&&y){var E=d.split(`
`),U=y.split(`
`);for(u=l=0;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;for(;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;if(l===E.length||u===U.length)for(l=E.length-1,u=U.length-1;1<=l&&0<=u&&E[l]!==U[u];)u--;for(;1<=l&&0<=u;l--,u--)if(E[l]!==U[u]){if(l!==1||u!==1)do if(l--,u--,0>u||E[l]!==U[u]){var q=`
`+E[l].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=l&&0<=u);break}}}finally{vs=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Fn(n):""}function Qg(e,t){switch(e.tag){case 26:case 27:case 5:return Fn(e.type);case 16:return Fn("Lazy");case 13:return e.child!==t&&t!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return bs(e.type,!1);case 11:return bs(e.type.render,!1);case 1:return bs(e.type,!0);case 31:return Fn("Activity");default:return""}}function Sc(e){try{var t="",n=null;do t+=Qg(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _s=Object.prototype.hasOwnProperty,ws=i.unstable_scheduleCallback,Ss=i.unstable_cancelCallback,Jg=i.unstable_shouldYield,Zg=i.unstable_requestPaint,vt=i.unstable_now,Ig=i.unstable_getCurrentPriorityLevel,Ec=i.unstable_ImmediatePriority,xc=i.unstable_UserBlockingPriority,zl=i.unstable_NormalPriority,Pg=i.unstable_LowPriority,Tc=i.unstable_IdlePriority,Wg=i.log,Fg=i.unstable_setDisableYieldValue,Ti=null,bt=null;function Tn(e){if(typeof Wg=="function"&&Fg(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Ti,e)}catch{}}var _t=Math.clz32?Math.clz32:np,ep=Math.log,tp=Math.LN2;function np(e){return e>>>=0,e===0?32:31-(ep(e)/tp|0)|0}var Ml=256,Bl=262144,Ll=4194304;function ea(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ql(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,o=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var y=l&134217727;return y!==0?(l=y&~o,l!==0?u=ea(l):(d&=y,d!==0?u=ea(d):n||(n=y&~e,n!==0&&(u=ea(n))))):(y=l&~o,y!==0?u=ea(y):d!==0?u=ea(d):n||(n=l&~e,n!==0&&(u=ea(n)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:u}function Ai(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ap(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ac(){var e=Ll;return Ll<<=1,(Ll&62914560)===0&&(Ll=4194304),e}function Es(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ri(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ip(e,t,n,l,u,o){var d=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var y=e.entanglements,E=e.expirationTimes,U=e.hiddenUpdates;for(n=d&~n;0<n;){var q=31-_t(n),$=1<<q;y[q]=0,E[q]=-1;var D=U[q];if(D!==null)for(U[q]=null,q=0;q<D.length;q++){var B=D[q];B!==null&&(B.lane&=-536870913)}n&=~$}l!==0&&Rc(e,l,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(d&~t))}function Rc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-_t(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Oc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-_t(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function jc(e,t){var n=t&-t;return n=(n&42)!==0?1:xs(n),(n&(e.suspendedLanes|t))!==0?0:n}function xs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ts(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Cc(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:pm(e.type))}function Nc(e,t){var n=K.p;try{return K.p=e,t()}finally{K.p=n}}var An=Math.random().toString(36).slice(2),et="__reactFiber$"+An,ft="__reactProps$"+An,Ta="__reactContainer$"+An,As="__reactEvents$"+An,lp="__reactListeners$"+An,rp="__reactHandles$"+An,Uc="__reactResources$"+An,Oi="__reactMarker$"+An;function Rs(e){delete e[et],delete e[ft],delete e[As],delete e[lp],delete e[rp]}function Aa(e){var t=e[et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ta]||n[et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=em(e);e!==null;){if(n=e[et])return n;e=em(e)}return t}e=n,n=e.parentNode}return null}function Ra(e){if(e=e[et]||e[Ta]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ji(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Oa(e){var t=e[Uc];return t||(t=e[Uc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Oi]=!0}var kc=new Set,Dc={};function ta(e,t){ja(e,t),ja(e+"Capture",t)}function ja(e,t){for(Dc[e]=t,e=0;e<t.length;e++)kc.add(t[e])}var sp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zc={},Mc={};function up(e){return _s.call(Mc,e)?!0:_s.call(zc,e)?!1:sp.test(e)?Mc[e]=!0:(zc[e]=!0,!1)}function Hl(e,t,n){if(up(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function $l(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function en(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function op(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,o=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(d){n=""+d,o.call(this,d)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(d){n=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Os(e){if(!e._valueTracker){var t=Bc(e)?"checked":"value";e._valueTracker=op(e,t,""+e[t])}}function Lc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Bc(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cp=/[\n"\\]/g;function Ut(e){return e.replace(cp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function js(e,t,n,l,u,o,d,y){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Nt(t)):e.value!==""+Nt(t)&&(e.value=""+Nt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Cs(e,d,Nt(t)):n!=null?Cs(e,d,Nt(n)):l!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Nt(y):e.removeAttribute("name")}function qc(e,t,n,l,u,o,d,y){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){Os(e);return}n=n!=null?""+Nt(n):"",t=t!=null?""+Nt(t):n,y||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=y?e.checked:!!l,e.defaultChecked=!!l,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Os(e)}function Cs(e,t,n){t==="number"&&Gl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ca(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Nt(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Hc(e,t,n){if(t!=null&&(t=""+Nt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Nt(n):""}function $c(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(s(92));if(te(l)){if(1<l.length)throw Error(s(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Nt(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Os(e)}function Na(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gc(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||fp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Vc(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Gc(e,u,l)}else for(var o in t)t.hasOwnProperty(o)&&Gc(e,o,t[o])}function Ns(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vl(e){return dp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function tn(){}var Us=null;function ks(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,ka=null;function Kc(e){var t=Ra(e);if(t&&(e=t.stateNode)){var n=e[ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(js(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ut(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[ft]||null;if(!u)throw Error(s(90));js(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Lc(l)}break e;case"textarea":Hc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ca(e,!!n.multiple,t,!1)}}}var Ds=!1;function Yc(e,t,n){if(Ds)return e(t,n);Ds=!0;try{var l=e(t);return l}finally{if(Ds=!1,(Ua!==null||ka!==null)&&(Cr(),Ua&&(t=Ua,e=ka,ka=Ua=null,Kc(t),e)))for(t=0;t<e.length;t++)Kc(e[t])}}function Ci(e,t){var n=e.stateNode;if(n===null)return null;var l=n[ft]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(nn)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){zs=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{zs=!1}var Rn=null,Ms=null,Kl=null;function Xc(){if(Kl)return Kl;var e,t=Ms,n=t.length,l,u="value"in Rn?Rn.value:Rn.textContent,o=u.length;for(e=0;e<n&&t[e]===u[e];e++);var d=n-e;for(l=1;l<=d&&t[n-l]===u[o-l];l++);return Kl=u.slice(e,1<l?1-l:void 0)}function Yl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xl(){return!0}function Qc(){return!1}function ht(e){function t(n,l,u,o,d){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(o):o[y]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xl:Qc,this.isPropagationStopped=Qc,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),t}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=ht(na),Ui=_({},na,{view:0,detail:0}),mp=ht(Ui),Bs,Ls,ki,Jl=_({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ki&&(ki&&e.type==="mousemove"?(Bs=e.screenX-ki.screenX,Ls=e.screenY-ki.screenY):Ls=Bs=0,ki=e),Bs)},movementY:function(e){return"movementY"in e?e.movementY:Ls}}),Jc=ht(Jl),gp=_({},Jl,{dataTransfer:0}),pp=ht(gp),yp=_({},Ui,{relatedTarget:0}),qs=ht(yp),vp=_({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),bp=ht(vp),_p=_({},na,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wp=ht(_p),Sp=_({},na,{data:0}),Zc=ht(Sp),Ep={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ap(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tp[e])?!!t[e]:!1}function Hs(){return Ap}var Rp=_({},Ui,{key:function(e){if(e.key){var t=Ep[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(e){return e.type==="keypress"?Yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Op=ht(Rp),jp=_({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ic=ht(jp),Cp=_({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),Np=ht(Cp),Up=_({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),kp=ht(Up),Dp=_({},Jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zp=ht(Dp),Mp=_({},na,{newState:0,oldState:0}),Bp=ht(Mp),Lp=[9,13,27,32],$s=nn&&"CompositionEvent"in window,Di=null;nn&&"documentMode"in document&&(Di=document.documentMode);var qp=nn&&"TextEvent"in window&&!Di,Pc=nn&&(!$s||Di&&8<Di&&11>=Di),Wc=" ",Fc=!1;function ef(e,t){switch(e){case"keyup":return Lp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function Hp(e,t){switch(e){case"compositionend":return tf(t);case"keypress":return t.which!==32?null:(Fc=!0,Wc);case"textInput":return e=t.data,e===Wc&&Fc?null:e;default:return null}}function $p(e,t){if(Da)return e==="compositionend"||!$s&&ef(e,t)?(e=Xc(),Kl=Ms=Rn=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pc&&t.locale!=="ko"?null:t.data;default:return null}}var Gp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gp[e.type]:t==="textarea"}function af(e,t,n,l){Ua?ka?ka.push(l):ka=[l]:Ua=l,t=Br(t,"onChange"),0<t.length&&(n=new Ql("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var zi=null,Mi=null;function Vp(e){Hd(e,0)}function Zl(e){var t=ji(e);if(Lc(t))return e}function lf(e,t){if(e==="change")return t}var rf=!1;if(nn){var Gs;if(nn){var Vs="oninput"in document;if(!Vs){var sf=document.createElement("div");sf.setAttribute("oninput","return;"),Vs=typeof sf.oninput=="function"}Gs=Vs}else Gs=!1;rf=Gs&&(!document.documentMode||9<document.documentMode)}function uf(){zi&&(zi.detachEvent("onpropertychange",of),Mi=zi=null)}function of(e){if(e.propertyName==="value"&&Zl(Mi)){var t=[];af(t,Mi,e,ks(e)),Yc(Vp,t)}}function Kp(e,t,n){e==="focusin"?(uf(),zi=t,Mi=n,zi.attachEvent("onpropertychange",of)):e==="focusout"&&uf()}function Yp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zl(Mi)}function Xp(e,t){if(e==="click")return Zl(t)}function Qp(e,t){if(e==="input"||e==="change")return Zl(t)}function Jp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:Jp;function Bi(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!_s.call(t,u)||!wt(e[u],t[u]))return!1}return!0}function cf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ff(e,t){var n=cf(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cf(n)}}function hf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function df(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Gl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gl(e.document)}return t}function Ks(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Zp=nn&&"documentMode"in document&&11>=document.documentMode,za=null,Ys=null,Li=null,Xs=!1;function mf(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xs||za==null||za!==Gl(l)||(l=za,"selectionStart"in l&&Ks(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Li&&Bi(Li,l)||(Li=l,l=Br(Ys,"onSelect"),0<l.length&&(t=new Ql("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=za)))}function aa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ma={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},Qs={},gf={};nn&&(gf=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function ia(e){if(Qs[e])return Qs[e];if(!Ma[e])return e;var t=Ma[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gf)return Qs[e]=t[n];return e}var pf=ia("animationend"),yf=ia("animationiteration"),vf=ia("animationstart"),Ip=ia("transitionrun"),Pp=ia("transitionstart"),Wp=ia("transitioncancel"),bf=ia("transitionend"),_f=new Map,Js="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Js.push("scrollEnd");function $t(e,t){_f.set(e,t),ta(t,[e])}var Il=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kt=[],Ba=0,Zs=0;function Pl(){for(var e=Ba,t=Zs=Ba=0;t<e;){var n=kt[t];kt[t++]=null;var l=kt[t];kt[t++]=null;var u=kt[t];kt[t++]=null;var o=kt[t];if(kt[t++]=null,l!==null&&u!==null){var d=l.pending;d===null?u.next=u:(u.next=d.next,d.next=u),l.pending=u}o!==0&&wf(n,u,o)}}function Wl(e,t,n,l){kt[Ba++]=e,kt[Ba++]=t,kt[Ba++]=n,kt[Ba++]=l,Zs|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Is(e,t,n,l){return Wl(e,t,n,l),Fl(e)}function la(e,t){return Wl(e,null,null,t),Fl(e)}function wf(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,o=e.return;o!==null;)o.childLanes|=n,l=o.alternate,l!==null&&(l.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-_t(n),e=o.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),o):null}function Fl(e){if(50<rl)throw rl=0,lo=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var La={};function Fp(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,l){return new Fp(e,t,n,l)}function Ps(e){return e=e.prototype,!(!e||!e.isReactComponent)}function an(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Sf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function er(e,t,n,l,u,o){var d=0;if(l=e,typeof e=="function")Ps(e)&&(d=1);else if(typeof e=="string")d=iv(e,n,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ie:return e=St(31,n,t,u),e.elementType=ie,e.lanes=o,e;case j:return ra(n.children,u,o,t);case k:d=8,u|=24;break;case L:return e=St(12,n,t,u|2),e.elementType=L,e.lanes=o,e;case Y:return e=St(13,n,t,u),e.elementType=Y,e.lanes=o,e;case F:return e=St(19,n,t,u),e.elementType=F,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:d=10;break e;case z:d=9;break e;case Q:d=11;break e;case V:d=14;break e;case le:d=16,l=null;break e}d=29,n=Error(s(130,e===null?"null":typeof e,"")),l=null}return t=St(d,n,t,u),t.elementType=e,t.type=l,t.lanes=o,t}function ra(e,t,n,l){return e=St(7,e,l,t),e.lanes=n,e}function Ws(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function Ef(e){var t=St(18,null,null,0);return t.stateNode=e,t}function Fs(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xf=new WeakMap;function Dt(e,t){if(typeof e=="object"&&e!==null){var n=xf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Sc(t)},xf.set(e,t),t)}return{value:e,source:t,stack:Sc(t)}}var qa=[],Ha=0,tr=null,qi=0,zt=[],Mt=0,On=null,Jt=1,Zt="";function ln(e,t){qa[Ha++]=qi,qa[Ha++]=tr,tr=e,qi=t}function Tf(e,t,n){zt[Mt++]=Jt,zt[Mt++]=Zt,zt[Mt++]=On,On=e;var l=Jt;e=Zt;var u=32-_t(l)-1;l&=~(1<<u),n+=1;var o=32-_t(t)+u;if(30<o){var d=u-u%5;o=(l&(1<<d)-1).toString(32),l>>=d,u-=d,Jt=1<<32-_t(t)+u|n<<u|l,Zt=o+e}else Jt=1<<o|n<<u|l,Zt=e}function eu(e){e.return!==null&&(ln(e,1),Tf(e,1,0))}function tu(e){for(;e===tr;)tr=qa[--Ha],qa[Ha]=null,qi=qa[--Ha],qa[Ha]=null;for(;e===On;)On=zt[--Mt],zt[Mt]=null,Zt=zt[--Mt],zt[Mt]=null,Jt=zt[--Mt],zt[Mt]=null}function Af(e,t){zt[Mt++]=Jt,zt[Mt++]=Zt,zt[Mt++]=On,Jt=t.id,Zt=t.overflow,On=e}var tt=null,De=null,be=!1,jn=null,Bt=!1,nu=Error(s(519));function Cn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hi(Dt(t,e)),nu}function Rf(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[et]=e,t[ft]=l,n){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(n=0;n<ul.length;n++)pe(ul[n],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),qc(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),$c(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Kd(t.textContent,n)?(l.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),l.onScroll!=null&&pe("scroll",t),l.onScrollEnd!=null&&pe("scrollend",t),l.onClick!=null&&(t.onclick=tn),t=!0):t=!1,t||Cn(e,!0)}function Of(e){for(tt=e.return;tt;)switch(tt.tag){case 5:case 31:case 13:Bt=!1;return;case 27:case 3:Bt=!0;return;default:tt=tt.return}}function $a(e){if(e!==tt)return!1;if(!be)return Of(e),be=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||wo(e.type,e.memoizedProps)),n=!n),n&&De&&Cn(e),Of(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));De=Fd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));De=Fd(e)}else t===27?(t=De,Kn(e.type)?(e=Ao,Ao=null,De=e):De=t):De=tt?qt(e.stateNode.nextSibling):null;return!0}function sa(){De=tt=null,be=!1}function au(){var e=jn;return e!==null&&(pt===null?pt=e:pt.push.apply(pt,e),jn=null),e}function Hi(e){jn===null?jn=[e]:jn.push(e)}var iu=T(null),ua=null,rn=null;function Nn(e,t,n){J(iu,t._currentValue),t._currentValue=n}function sn(e){e._currentValue=iu.current,G(iu)}function lu(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function ru(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var d=u.child;o=o.firstContext;e:for(;o!==null;){var y=o;o=u;for(var E=0;E<t.length;E++)if(y.context===t[E]){o.lanes|=n,y=o.alternate,y!==null&&(y.lanes|=n),lu(o.return,n,e),l||(d=null);break e}o=y.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(s(341));d.lanes|=n,o=d.alternate,o!==null&&(o.lanes|=n),lu(d,n,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function Ga(e,t,n,l){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(s(387));if(d=d.memoizedProps,d!==null){var y=u.type;wt(u.pendingProps.value,d.value)||(e!==null?e.push(y):e=[y])}}else if(u===Te.current){if(d=u.alternate,d===null)throw Error(s(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(dl):e=[dl])}u=u.return}e!==null&&ru(t,e,n,l),t.flags|=262144}function nr(e){for(e=e.firstContext;e!==null;){if(!wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function oa(e){ua=e,rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return jf(ua,e)}function ar(e,t){return ua===null&&oa(e),jf(e,t)}function jf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},rn===null){if(e===null)throw Error(s(308));rn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else rn=rn.next=t;return n}var ey=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ty=i.unstable_scheduleCallback,ny=i.unstable_NormalPriority,Ye={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function su(){return{controller:new ey,data:new Map,refCount:0}}function $i(e){e.refCount--,e.refCount===0&&ty(ny,function(){e.controller.abort()})}var Gi=null,uu=0,Va=0,Ka=null;function ay(e,t){if(Gi===null){var n=Gi=[];uu=0,Va=fo(),Ka={status:"pending",value:void 0,then:function(l){n.push(l)}}}return uu++,t.then(Cf,Cf),t}function Cf(){if(--uu===0&&Gi!==null){Ka!==null&&(Ka.status="fulfilled");var e=Gi;Gi=null,Va=0,Ka=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function iy(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Nf=N.S;N.S=function(e,t){md=vt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ay(e,t),Nf!==null&&Nf(e,t)};var ca=T(null);function ou(){var e=ca.current;return e!==null?e:Ne.pooledCache}function ir(e,t){t===null?J(ca,ca.current):J(ca,t.pool)}function Uf(){var e=ou();return e===null?null:{parent:Ye._currentValue,pool:e}}var Ya=Error(s(460)),cu=Error(s(474)),lr=Error(s(542)),rr={then:function(){}};function kf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Df(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(tn,tn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Mf(e),e;default:if(typeof t.status=="string")t.then(tn,tn);else{if(e=Ne,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Mf(e),e}throw ha=t,Ya}}function fa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ha=n,Ya):n}}var ha=null;function zf(){if(ha===null)throw Error(s(459));var e=ha;return ha=null,e}function Mf(e){if(e===Ya||e===lr)throw Error(s(483))}var Xa=null,Vi=0;function sr(e){var t=Vi;return Vi+=1,Xa===null&&(Xa=[]),Df(Xa,e,t)}function Ki(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ur(e,t){throw t.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bf(e){function t(O,x){if(e){var C=O.deletions;C===null?(O.deletions=[x],O.flags|=16):C.push(x)}}function n(O,x){if(!e)return null;for(;x!==null;)t(O,x),x=x.sibling;return null}function l(O){for(var x=new Map;O!==null;)O.key!==null?x.set(O.key,O):x.set(O.index,O),O=O.sibling;return x}function u(O,x){return O=an(O,x),O.index=0,O.sibling=null,O}function o(O,x,C){return O.index=C,e?(C=O.alternate,C!==null?(C=C.index,C<x?(O.flags|=67108866,x):C):(O.flags|=67108866,x)):(O.flags|=1048576,x)}function d(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function y(O,x,C,H){return x===null||x.tag!==6?(x=Ws(C,O.mode,H),x.return=O,x):(x=u(x,C),x.return=O,x)}function E(O,x,C,H){var ae=C.type;return ae===j?q(O,x,C.props.children,H,C.key):x!==null&&(x.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===le&&fa(ae)===x.type)?(x=u(x,C.props),Ki(x,C),x.return=O,x):(x=er(C.type,C.key,C.props,null,O.mode,H),Ki(x,C),x.return=O,x)}function U(O,x,C,H){return x===null||x.tag!==4||x.stateNode.containerInfo!==C.containerInfo||x.stateNode.implementation!==C.implementation?(x=Fs(C,O.mode,H),x.return=O,x):(x=u(x,C.children||[]),x.return=O,x)}function q(O,x,C,H,ae){return x===null||x.tag!==7?(x=ra(C,O.mode,H,ae),x.return=O,x):(x=u(x,C),x.return=O,x)}function $(O,x,C){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Ws(""+x,O.mode,C),x.return=O,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case w:return C=er(x.type,x.key,x.props,null,O.mode,C),Ki(C,x),C.return=O,C;case A:return x=Fs(x,O.mode,C),x.return=O,x;case le:return x=fa(x),$(O,x,C)}if(te(x)||X(x))return x=ra(x,O.mode,C,null),x.return=O,x;if(typeof x.then=="function")return $(O,sr(x),C);if(x.$$typeof===M)return $(O,ar(O,x),C);ur(O,x)}return null}function D(O,x,C,H){var ae=x!==null?x.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return ae!==null?null:y(O,x,""+C,H);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case w:return C.key===ae?E(O,x,C,H):null;case A:return C.key===ae?U(O,x,C,H):null;case le:return C=fa(C),D(O,x,C,H)}if(te(C)||X(C))return ae!==null?null:q(O,x,C,H,null);if(typeof C.then=="function")return D(O,x,sr(C),H);if(C.$$typeof===M)return D(O,x,ar(O,C),H);ur(O,C)}return null}function B(O,x,C,H,ae){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return O=O.get(C)||null,y(x,O,""+H,ae);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return O=O.get(H.key===null?C:H.key)||null,E(x,O,H,ae);case A:return O=O.get(H.key===null?C:H.key)||null,U(x,O,H,ae);case le:return H=fa(H),B(O,x,C,H,ae)}if(te(H)||X(H))return O=O.get(C)||null,q(x,O,H,ae,null);if(typeof H.then=="function")return B(O,x,C,sr(H),ae);if(H.$$typeof===M)return B(O,x,C,ar(x,H),ae);ur(x,H)}return null}function I(O,x,C,H){for(var ae=null,we=null,W=x,de=x=0,ve=null;W!==null&&de<C.length;de++){W.index>de?(ve=W,W=null):ve=W.sibling;var Se=D(O,W,C[de],H);if(Se===null){W===null&&(W=ve);break}e&&W&&Se.alternate===null&&t(O,W),x=o(Se,x,de),we===null?ae=Se:we.sibling=Se,we=Se,W=ve}if(de===C.length)return n(O,W),be&&ln(O,de),ae;if(W===null){for(;de<C.length;de++)W=$(O,C[de],H),W!==null&&(x=o(W,x,de),we===null?ae=W:we.sibling=W,we=W);return be&&ln(O,de),ae}for(W=l(W);de<C.length;de++)ve=B(W,O,de,C[de],H),ve!==null&&(e&&ve.alternate!==null&&W.delete(ve.key===null?de:ve.key),x=o(ve,x,de),we===null?ae=ve:we.sibling=ve,we=ve);return e&&W.forEach(function(Zn){return t(O,Zn)}),be&&ln(O,de),ae}function se(O,x,C,H){if(C==null)throw Error(s(151));for(var ae=null,we=null,W=x,de=x=0,ve=null,Se=C.next();W!==null&&!Se.done;de++,Se=C.next()){W.index>de?(ve=W,W=null):ve=W.sibling;var Zn=D(O,W,Se.value,H);if(Zn===null){W===null&&(W=ve);break}e&&W&&Zn.alternate===null&&t(O,W),x=o(Zn,x,de),we===null?ae=Zn:we.sibling=Zn,we=Zn,W=ve}if(Se.done)return n(O,W),be&&ln(O,de),ae;if(W===null){for(;!Se.done;de++,Se=C.next())Se=$(O,Se.value,H),Se!==null&&(x=o(Se,x,de),we===null?ae=Se:we.sibling=Se,we=Se);return be&&ln(O,de),ae}for(W=l(W);!Se.done;de++,Se=C.next())Se=B(W,O,de,Se.value,H),Se!==null&&(e&&Se.alternate!==null&&W.delete(Se.key===null?de:Se.key),x=o(Se,x,de),we===null?ae=Se:we.sibling=Se,we=Se);return e&&W.forEach(function(gv){return t(O,gv)}),be&&ln(O,de),ae}function Ce(O,x,C,H){if(typeof C=="object"&&C!==null&&C.type===j&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case w:e:{for(var ae=C.key;x!==null;){if(x.key===ae){if(ae=C.type,ae===j){if(x.tag===7){n(O,x.sibling),H=u(x,C.props.children),H.return=O,O=H;break e}}else if(x.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===le&&fa(ae)===x.type){n(O,x.sibling),H=u(x,C.props),Ki(H,C),H.return=O,O=H;break e}n(O,x);break}else t(O,x);x=x.sibling}C.type===j?(H=ra(C.props.children,O.mode,H,C.key),H.return=O,O=H):(H=er(C.type,C.key,C.props,null,O.mode,H),Ki(H,C),H.return=O,O=H)}return d(O);case A:e:{for(ae=C.key;x!==null;){if(x.key===ae)if(x.tag===4&&x.stateNode.containerInfo===C.containerInfo&&x.stateNode.implementation===C.implementation){n(O,x.sibling),H=u(x,C.children||[]),H.return=O,O=H;break e}else{n(O,x);break}else t(O,x);x=x.sibling}H=Fs(C,O.mode,H),H.return=O,O=H}return d(O);case le:return C=fa(C),Ce(O,x,C,H)}if(te(C))return I(O,x,C,H);if(X(C)){if(ae=X(C),typeof ae!="function")throw Error(s(150));return C=ae.call(C),se(O,x,C,H)}if(typeof C.then=="function")return Ce(O,x,sr(C),H);if(C.$$typeof===M)return Ce(O,x,ar(O,C),H);ur(O,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,x!==null&&x.tag===6?(n(O,x.sibling),H=u(x,C),H.return=O,O=H):(n(O,x),H=Ws(C,O.mode,H),H.return=O,O=H),d(O)):n(O,x)}return function(O,x,C,H){try{Vi=0;var ae=Ce(O,x,C,H);return Xa=null,ae}catch(W){if(W===Ya||W===lr)throw W;var we=St(29,W,null,O.mode);return we.lanes=H,we.return=O,we}}}var da=Bf(!0),Lf=Bf(!1),Un=!1;function fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dn(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(xe&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Fl(e),wf(e,null,n),t}return Wl(e,l,t,n),Fl(e)}function Yi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Oc(e,n)}}function du(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var d={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?u=o=d:o=o.next=d,n=n.next}while(n!==null);o===null?u=o=t:o=o.next=t}else u=o=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var mu=!1;function Xi(){if(mu){var e=Ka;if(e!==null)throw e}}function Qi(e,t,n,l){mu=!1;var u=e.updateQueue;Un=!1;var o=u.firstBaseUpdate,d=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var E=y,U=E.next;E.next=null,d===null?o=U:d.next=U,d=E;var q=e.alternate;q!==null&&(q=q.updateQueue,y=q.lastBaseUpdate,y!==d&&(y===null?q.firstBaseUpdate=U:y.next=U,q.lastBaseUpdate=E))}if(o!==null){var $=u.baseState;d=0,q=U=E=null,y=o;do{var D=y.lane&-536870913,B=D!==y.lane;if(B?(ye&D)===D:(l&D)===D){D!==0&&D===Va&&(mu=!0),q!==null&&(q=q.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var I=e,se=y;D=t;var Ce=n;switch(se.tag){case 1:if(I=se.payload,typeof I=="function"){$=I.call(Ce,$,D);break e}$=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=se.payload,D=typeof I=="function"?I.call(Ce,$,D):I,D==null)break e;$=_({},$,D);break e;case 2:Un=!0}}D=y.callback,D!==null&&(e.flags|=64,B&&(e.flags|=8192),B=u.callbacks,B===null?u.callbacks=[D]:B.push(D))}else B={lane:D,tag:y.tag,payload:y.payload,callback:y.callback,next:null},q===null?(U=q=B,E=$):q=q.next=B,d|=D;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;B=y,y=B.next,B.next=null,u.lastBaseUpdate=B,u.shared.pending=null}}while(!0);q===null&&(E=$),u.baseState=E,u.firstBaseUpdate=U,u.lastBaseUpdate=q,o===null&&(u.shared.lanes=0),qn|=d,e.lanes=d,e.memoizedState=$}}function qf(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Hf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)qf(n[e],t)}var Qa=T(null),or=T(0);function $f(e,t){e=pn,J(or,e),J(Qa,t),pn=e|t.baseLanes}function gu(){J(or,pn),J(Qa,Qa.current)}function pu(){pn=or.current,G(Qa),G(or)}var Et=T(null),Lt=null;function zn(e){var t=e.alternate;J(Ve,Ve.current&1),J(Et,e),Lt===null&&(t===null||Qa.current!==null||t.memoizedState!==null)&&(Lt=e)}function yu(e){J(Ve,Ve.current),J(Et,e),Lt===null&&(Lt=e)}function Gf(e){e.tag===22?(J(Ve,Ve.current),J(Et,e),Lt===null&&(Lt=e)):Mn()}function Mn(){J(Ve,Ve.current),J(Et,Et.current)}function xt(e){G(Et),Lt===e&&(Lt=null),G(Ve)}var Ve=T(0);function cr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||xo(n)||To(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var un=0,he=null,Oe=null,Xe=null,fr=!1,Ja=!1,ma=!1,hr=0,Ji=0,Za=null,ly=0;function qe(){throw Error(s(321))}function vu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wt(e[n],t[n]))return!1;return!0}function bu(e,t,n,l,u,o){return un=o,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?Th:Du,ma=!1,o=n(l,u),ma=!1,Ja&&(o=Kf(t,n,l,u)),Vf(e),o}function Vf(e){N.H=Pi;var t=Oe!==null&&Oe.next!==null;if(un=0,Xe=Oe=he=null,fr=!1,Ji=0,Za=null,t)throw Error(s(300));e===null||Qe||(e=e.dependencies,e!==null&&nr(e)&&(Qe=!0))}function Kf(e,t,n,l){he=e;var u=0;do{if(Ja&&(Za=null),Ji=0,Ja=!1,25<=u)throw Error(s(301));if(u+=1,Xe=Oe=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}N.H=Ah,o=t(n,l)}while(Ja);return o}function ry(){var e=N.H,t=e.useState()[0];return t=typeof t.then=="function"?Zi(t):t,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(he.flags|=1024),t}function _u(){var e=hr!==0;return hr=0,e}function wu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Su(e){if(fr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}fr=!1}un=0,Xe=Oe=he=null,Ja=!1,Ji=hr=0,Za=null}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?he.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ke(){if(Oe===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=Xe===null?he.memoizedState:Xe.next;if(t!==null)Xe=t,Oe=e;else{if(e===null)throw he.alternate===null?Error(s(467)):Error(s(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Xe===null?he.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function dr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zi(e){var t=Ji;return Ji+=1,Za===null&&(Za=[]),e=Df(Za,e,t),t=he,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?Th:Du),e}function mr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zi(e);if(e.$$typeof===M)return nt(e)}throw Error(s(438,String(e)))}function Eu(e){var t=null,n=he.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=he.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=dr(),he.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=Le;return t.index++,n}function on(e,t){return typeof t=="function"?t(e):t}function gr(e){var t=Ke();return xu(t,Oe,e)}function xu(e,t,n){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var u=e.baseQueue,o=l.pending;if(o!==null){if(u!==null){var d=u.next;u.next=o.next,o.next=d}t.baseQueue=u=o,l.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var y=d=null,E=null,U=t,q=!1;do{var $=U.lane&-536870913;if($!==U.lane?(ye&$)===$:(un&$)===$){var D=U.revertLane;if(D===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),$===Va&&(q=!0);else if((un&D)===D){U=U.next,D===Va&&(q=!0);continue}else $={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},E===null?(y=E=$,d=o):E=E.next=$,he.lanes|=D,qn|=D;$=U.action,ma&&n(o,$),o=U.hasEagerState?U.eagerState:n(o,$)}else D={lane:$,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},E===null?(y=E=D,d=o):E=E.next=D,he.lanes|=$,qn|=$;U=U.next}while(U!==null&&U!==t);if(E===null?d=o:E.next=y,!wt(o,e.memoizedState)&&(Qe=!0,q&&(n=Ka,n!==null)))throw n;e.memoizedState=o,e.baseState=d,e.baseQueue=E,l.lastRenderedState=o}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Tu(e){var t=Ke(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,o=t.memoizedState;if(u!==null){n.pending=null;var d=u=u.next;do o=e(o,d.action),d=d.next;while(d!==u);wt(o,t.memoizedState)||(Qe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,l]}function Yf(e,t,n){var l=he,u=Ke(),o=be;if(o){if(n===void 0)throw Error(s(407));n=n()}else n=t();var d=!wt((Oe||u).memoizedState,n);if(d&&(u.memoizedState=n,Qe=!0),u=u.queue,Ou(Jf.bind(null,l,u,e),[e]),u.getSnapshot!==t||d||Xe!==null&&Xe.memoizedState.tag&1){if(l.flags|=2048,Ia(9,{destroy:void 0},Qf.bind(null,l,u,n,t),null),Ne===null)throw Error(s(349));o||(un&127)!==0||Xf(l,t,n)}return n}function Xf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t=dr(),he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qf(e,t,n,l){t.value=n,t.getSnapshot=l,Zf(t)&&If(e)}function Jf(e,t,n){return n(function(){Zf(t)&&If(e)})}function Zf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wt(e,n)}catch{return!0}}function If(e){var t=la(e,2);t!==null&&yt(t,e,2)}function Au(e){var t=ct();if(typeof e=="function"){var n=e;if(e=n(),ma){Tn(!0);try{n()}finally{Tn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:e},t}function Pf(e,t,n,l){return e.baseState=n,xu(e,Oe,typeof l=="function"?l:on)}function sy(e,t,n,l,u){if(vr(e))throw Error(s(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){o.listeners.push(d)}};N.T!==null?n(!0):o.isTransition=!1,l(o),n=t.pending,n===null?(o.next=t.pending=o,Wf(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Wf(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var o=N.T,d={};N.T=d;try{var y=n(u,l),E=N.S;E!==null&&E(d,y),Ff(e,t,y)}catch(U){Ru(e,t,U)}finally{o!==null&&d.types!==null&&(o.types=d.types),N.T=o}}else try{o=n(u,l),Ff(e,t,o)}catch(U){Ru(e,t,U)}}function Ff(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){eh(e,t,l)},function(l){return Ru(e,t,l)}):eh(e,t,n)}function eh(e,t,n){t.status="fulfilled",t.value=n,th(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Wf(e,n)))}function Ru(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,th(t),t=t.next;while(t!==l)}e.action=null}function th(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function nh(e,t){return t}function ah(e,t){if(be){var n=Ne.formState;if(n!==null){e:{var l=he;if(be){if(De){t:{for(var u=De,o=Bt;u.nodeType!==8;){if(!o){u=null;break t}if(u=qt(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){De=qt(u.nextSibling),l=u.data==="F!";break e}}Cn(l)}l=!1}l&&(t=n[0])}}return n=ct(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nh,lastRenderedState:t},n.queue=l,n=Sh.bind(null,he,l),l.dispatch=n,l=Au(!1),o=ku.bind(null,he,!1,l.queue),l=ct(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=sy.bind(null,he,u,o,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function ih(e){var t=Ke();return lh(t,Oe,e)}function lh(e,t,n){if(t=xu(e,t,nh)[0],e=gr(on)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Zi(t)}catch(d){throw d===Ya?lr:d}else l=t;t=Ke();var u=t.queue,o=u.dispatch;return n!==t.memoizedState&&(he.flags|=2048,Ia(9,{destroy:void 0},uy.bind(null,u,n),null)),[l,o,e]}function uy(e,t){e.action=t}function rh(e){var t=Ke(),n=Oe;if(n!==null)return lh(t,n,e);Ke(),t=t.memoizedState,n=Ke();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Ia(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=he.updateQueue,t===null&&(t=dr(),he.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function sh(){return Ke().memoizedState}function pr(e,t,n,l){var u=ct();he.flags|=e,u.memoizedState=Ia(1|t,{destroy:void 0},n,l===void 0?null:l)}function yr(e,t,n,l){var u=Ke();l=l===void 0?null:l;var o=u.memoizedState.inst;Oe!==null&&l!==null&&vu(l,Oe.memoizedState.deps)?u.memoizedState=Ia(t,o,n,l):(he.flags|=e,u.memoizedState=Ia(1|t,o,n,l))}function uh(e,t){pr(8390656,8,e,t)}function Ou(e,t){yr(2048,8,e,t)}function oy(e){he.flags|=4;var t=he.updateQueue;if(t===null)t=dr(),he.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function oh(e){var t=Ke().memoizedState;return oy({ref:t,nextImpl:e}),function(){if((xe&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function ch(e,t){return yr(4,2,e,t)}function fh(e,t){return yr(4,4,e,t)}function hh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dh(e,t,n){n=n!=null?n.concat([e]):null,yr(4,4,hh.bind(null,t,e),n)}function ju(){}function mh(e,t){var n=Ke();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&vu(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function gh(e,t){var n=Ke();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&vu(t,l[1]))return l[0];if(l=e(),ma){Tn(!0);try{e()}finally{Tn(!1)}}return n.memoizedState=[l,t],l}function Cu(e,t,n){return n===void 0||(un&1073741824)!==0&&(ye&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=pd(),he.lanes|=e,qn|=e,n)}function ph(e,t,n,l){return wt(n,t)?n:Qa.current!==null?(e=Cu(e,n,l),wt(e,t)||(Qe=!0),e):(un&42)===0||(un&1073741824)!==0&&(ye&261930)===0?(Qe=!0,e.memoizedState=n):(e=pd(),he.lanes|=e,qn|=e,t)}function yh(e,t,n,l,u){var o=K.p;K.p=o!==0&&8>o?o:8;var d=N.T,y={};N.T=y,ku(e,!1,t,n);try{var E=u(),U=N.S;if(U!==null&&U(y,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var q=iy(E,l);Ii(e,t,q,Rt(e))}else Ii(e,t,l,Rt(e))}catch($){Ii(e,t,{then:function(){},status:"rejected",reason:$},Rt())}finally{K.p=o,d!==null&&y.types!==null&&(d.types=y.types),N.T=d}}function cy(){}function Nu(e,t,n,l){if(e.tag!==5)throw Error(s(476));var u=vh(e).queue;yh(e,u,t,Z,n===null?cy:function(){return bh(e),n(l)})}function vh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:Z},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function bh(e){var t=vh(e);t.next===null&&(t=e.alternate.memoizedState),Ii(e,t.next.queue,{},Rt())}function Uu(){return nt(dl)}function _h(){return Ke().memoizedState}function wh(){return Ke().memoizedState}function fy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Rt();e=kn(n);var l=Dn(t,e,n);l!==null&&(yt(l,t,n),Yi(l,t,n)),t={cache:su()},e.payload=t;return}t=t.return}}function hy(e,t,n){var l=Rt();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},vr(e)?Eh(t,n):(n=Is(e,t,n,l),n!==null&&(yt(n,e,l),xh(n,t,l)))}function Sh(e,t,n){var l=Rt();Ii(e,t,n,l)}function Ii(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(vr(e))Eh(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var d=t.lastRenderedState,y=o(d,n);if(u.hasEagerState=!0,u.eagerState=y,wt(y,d))return Wl(e,t,u,0),Ne===null&&Pl(),!1}catch{}if(n=Is(e,t,u,l),n!==null)return yt(n,e,l),xh(n,t,l),!0}return!1}function ku(e,t,n,l){if(l={lane:2,revertLane:fo(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vr(e)){if(t)throw Error(s(479))}else t=Is(e,n,l,2),t!==null&&yt(t,e,2)}function vr(e){var t=e.alternate;return e===he||t!==null&&t===he}function Eh(e,t){Ja=fr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xh(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Oc(e,n)}}var Pi={readContext:nt,use:mr,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};Pi.useEffectEvent=qe;var Th={readContext:nt,use:mr,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:uh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,pr(4194308,4,hh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pr(4194308,4,e,t)},useInsertionEffect:function(e,t){pr(4,2,e,t)},useMemo:function(e,t){var n=ct();t=t===void 0?null:t;var l=e();if(ma){Tn(!0);try{e()}finally{Tn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=ct();if(n!==void 0){var u=n(t);if(ma){Tn(!0);try{n(t)}finally{Tn(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=hy.bind(null,he,e),[l.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:function(e){e=Au(e);var t=e.queue,n=Sh.bind(null,he,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ju,useDeferredValue:function(e,t){var n=ct();return Cu(n,e,t)},useTransition:function(){var e=Au(!1);return e=yh.bind(null,he,e.queue,!0,!1),ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=he,u=ct();if(be){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Ne===null)throw Error(s(349));(ye&127)!==0||Xf(l,t,n)}u.memoizedState=n;var o={value:n,getSnapshot:t};return u.queue=o,uh(Jf.bind(null,l,o,e),[e]),l.flags|=2048,Ia(9,{destroy:void 0},Qf.bind(null,l,o,n,t),null),n},useId:function(){var e=ct(),t=Ne.identifierPrefix;if(be){var n=Zt,l=Jt;n=(l&~(1<<32-_t(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=hr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=ly++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Uu,useFormState:ah,useActionState:ah,useOptimistic:function(e){var t=ct();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ku.bind(null,he,!0,n),n.dispatch=t,[e,t]},useMemoCache:Eu,useCacheRefresh:function(){return ct().memoizedState=fy.bind(null,he)},useEffectEvent:function(e){var t=ct(),n={impl:e};return t.memoizedState=n,function(){if((xe&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},Du={readContext:nt,use:mr,useCallback:mh,useContext:nt,useEffect:Ou,useImperativeHandle:dh,useInsertionEffect:ch,useLayoutEffect:fh,useMemo:gh,useReducer:gr,useRef:sh,useState:function(){return gr(on)},useDebugValue:ju,useDeferredValue:function(e,t){var n=Ke();return ph(n,Oe.memoizedState,e,t)},useTransition:function(){var e=gr(on)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Zi(e),t]},useSyncExternalStore:Yf,useId:_h,useHostTransitionStatus:Uu,useFormState:ih,useActionState:ih,useOptimistic:function(e,t){var n=Ke();return Pf(n,Oe,e,t)},useMemoCache:Eu,useCacheRefresh:wh};Du.useEffectEvent=oh;var Ah={readContext:nt,use:mr,useCallback:mh,useContext:nt,useEffect:Ou,useImperativeHandle:dh,useInsertionEffect:ch,useLayoutEffect:fh,useMemo:gh,useReducer:Tu,useRef:sh,useState:function(){return Tu(on)},useDebugValue:ju,useDeferredValue:function(e,t){var n=Ke();return Oe===null?Cu(n,e,t):ph(n,Oe.memoizedState,e,t)},useTransition:function(){var e=Tu(on)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Zi(e),t]},useSyncExternalStore:Yf,useId:_h,useHostTransitionStatus:Uu,useFormState:rh,useActionState:rh,useOptimistic:function(e,t){var n=Ke();return Oe!==null?Pf(n,Oe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Eu,useCacheRefresh:wh};Ah.useEffectEvent=oh;function zu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=Rt(),u=kn(l);u.payload=t,n!=null&&(u.callback=n),t=Dn(e,u,l),t!==null&&(yt(t,e,l),Yi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=Rt(),u=kn(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Dn(e,u,l),t!==null&&(yt(t,e,l),Yi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),l=kn(n);l.tag=2,t!=null&&(l.callback=t),t=Dn(e,l,n),t!==null&&(yt(t,e,n),Yi(t,e,n))}};function Rh(e,t,n,l,u,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,o,d):t.prototype&&t.prototype.isPureReactComponent?!Bi(n,l)||!Bi(u,o):!0}function Oh(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Mu.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function jh(e){Il(e)}function Ch(e){console.error(e)}function Nh(e){Il(e)}function br(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Uh(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Bu(e,t,n){return n=kn(n),n.tag=3,n.payload={element:null},n.callback=function(){br(e,t)},n}function kh(e){return e=kn(e),e.tag=3,e}function Dh(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var o=l.value;e.payload=function(){return u(o)},e.callback=function(){Uh(t,n,l)}}var d=n.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Uh(t,n,l),typeof u!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var y=l.stack;this.componentDidCatch(l.value,{componentStack:y!==null?y:""})})}function dy(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ga(t,n,u,!0),n=Et.current,n!==null){switch(n.tag){case 31:case 13:return Lt===null?Nr():n.alternate===null&&He===0&&(He=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===rr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),uo(e,l,u)),!1;case 22:return n.flags|=65536,l===rr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),uo(e,l,u)),!1}throw Error(s(435,n.tag))}return uo(e,l,u),Nr(),!1}if(be)return t=Et.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==nu&&(e=Error(s(422),{cause:l}),Hi(Dt(e,n)))):(l!==nu&&(t=Error(s(423),{cause:l}),Hi(Dt(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Dt(l,n),u=Bu(e.stateNode,l,u),du(e,u),He!==4&&(He=2)),!1;var o=Error(s(520),{cause:l});if(o=Dt(o,n),ll===null?ll=[o]:ll.push(o),He!==4&&(He=2),t===null)return!0;l=Dt(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=Bu(n.stateNode,l,e),du(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Hn===null||!Hn.has(o))))return n.flags|=65536,u&=-u,n.lanes|=u,u=kh(u),Dh(u,e,n,l),du(n,u),!1}n=n.return}while(n!==null);return!1}var Lu=Error(s(461)),Qe=!1;function at(e,t,n,l){t.child=e===null?Lf(t,null,n,l):da(t,e.child,n,l)}function zh(e,t,n,l,u){n=n.render;var o=t.ref;if("ref"in l){var d={};for(var y in l)y!=="ref"&&(d[y]=l[y])}else d=l;return oa(t),l=bu(e,t,n,d,o,u),y=_u(),e!==null&&!Qe?(wu(e,t,u),cn(e,t,u)):(be&&y&&eu(t),t.flags|=1,at(e,t,l,u),t.child)}function Mh(e,t,n,l,u){if(e===null){var o=n.type;return typeof o=="function"&&!Ps(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Bh(e,t,o,l,u)):(e=er(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Xu(e,u)){var d=o.memoizedProps;if(n=n.compare,n=n!==null?n:Bi,n(d,l)&&e.ref===t.ref)return cn(e,t,u)}return t.flags|=1,e=an(o,l),e.ref=t.ref,e.return=t,t.child=e}function Bh(e,t,n,l,u){if(e!==null){var o=e.memoizedProps;if(Bi(o,l)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=l=o,Xu(e,u))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,cn(e,t,u)}return qu(e,t,n,l,u)}function Lh(e,t,n,l){var u=l.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~o}else l=0,t.child=null;return qh(e,t,o,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ir(t,o!==null?o.cachePool:null),o!==null?$f(t,o):gu(),Gf(t);else return l=t.lanes=536870912,qh(e,t,o!==null?o.baseLanes|n:n,n,l)}else o!==null?(ir(t,o.cachePool),$f(t,o),Mn(),t.memoizedState=null):(e!==null&&ir(t,null),gu(),Mn());return at(e,t,u,n),t.child}function Wi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function qh(e,t,n,l,u){var o=ou();return o=o===null?null:{parent:Ye._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&ir(t,null),gu(),Gf(t),e!==null&&Ga(e,t,l,!0),t.childLanes=u,null}function _r(e,t){return t=Sr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Hh(e,t,n){return da(t,e.child,null,n),e=_r(t,t.pendingProps),e.flags|=2,xt(t),t.memoizedState=null,e}function my(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(be){if(l.mode==="hidden")return e=_r(t,l),t.lanes=536870912,Wi(null,e);if(yu(t),(e=De)?(e=Wd(e,Bt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:On!==null?{id:Jt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},n=Ef(e),n.return=t,t.child=n,tt=t,De=null)):e=null,e===null)throw Cn(t);return t.lanes=536870912,null}return _r(t,l)}var o=e.memoizedState;if(o!==null){var d=o.dehydrated;if(yu(t),u)if(t.flags&256)t.flags&=-257,t=Hh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Qe||Ga(e,t,n,!1),u=(n&e.childLanes)!==0,Qe||u){if(l=Ne,l!==null&&(d=jc(l,n),d!==0&&d!==o.retryLane))throw o.retryLane=d,la(e,d),yt(l,e,d),Lu;Nr(),t=Hh(e,t,n)}else e=o.treeContext,De=qt(d.nextSibling),tt=t,be=!0,jn=null,Bt=!1,e!==null&&Af(t,e),t=_r(t,l),t.flags|=4096;return t}return e=an(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function wr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function qu(e,t,n,l,u){return oa(t),n=bu(e,t,n,l,void 0,u),l=_u(),e!==null&&!Qe?(wu(e,t,u),cn(e,t,u)):(be&&l&&eu(t),t.flags|=1,at(e,t,n,u),t.child)}function $h(e,t,n,l,u,o){return oa(t),t.updateQueue=null,n=Kf(t,l,n,u),Vf(e),l=_u(),e!==null&&!Qe?(wu(e,t,o),cn(e,t,o)):(be&&l&&eu(t),t.flags|=1,at(e,t,n,o),t.child)}function Gh(e,t,n,l,u){if(oa(t),t.stateNode===null){var o=La,d=n.contextType;typeof d=="object"&&d!==null&&(o=nt(d)),o=new n(l,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Mu,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=l,o.state=t.memoizedState,o.refs={},fu(t),d=n.contextType,o.context=typeof d=="object"&&d!==null?nt(d):La,o.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(zu(t,n,d,l),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(d=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),d!==o.state&&Mu.enqueueReplaceState(o,o.state,null),Qi(t,l,o,u),Xi(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){o=t.stateNode;var y=t.memoizedProps,E=ga(n,y);o.props=E;var U=o.context,q=n.contextType;d=La,typeof q=="object"&&q!==null&&(d=nt(q));var $=n.getDerivedStateFromProps;q=typeof $=="function"||typeof o.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,q||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(y||U!==d)&&Oh(t,o,l,d),Un=!1;var D=t.memoizedState;o.state=D,Qi(t,l,o,u),Xi(),U=t.memoizedState,y||D!==U||Un?(typeof $=="function"&&(zu(t,n,$,l),U=t.memoizedState),(E=Un||Rh(t,n,E,l,D,U,d))?(q||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=U),o.props=l,o.state=U,o.context=d,l=E):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{o=t.stateNode,hu(e,t),d=t.memoizedProps,q=ga(n,d),o.props=q,$=t.pendingProps,D=o.context,U=n.contextType,E=La,typeof U=="object"&&U!==null&&(E=nt(U)),y=n.getDerivedStateFromProps,(U=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d!==$||D!==E)&&Oh(t,o,l,E),Un=!1,D=t.memoizedState,o.state=D,Qi(t,l,o,u),Xi();var B=t.memoizedState;d!==$||D!==B||Un||e!==null&&e.dependencies!==null&&nr(e.dependencies)?(typeof y=="function"&&(zu(t,n,y,l),B=t.memoizedState),(q=Un||Rh(t,n,q,l,D,B,E)||e!==null&&e.dependencies!==null&&nr(e.dependencies))?(U||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(l,B,E),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(l,B,E)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=B),o.props=l,o.state=B,o.context=E,l=q):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),l=!1)}return o=l,wr(e,t),l=(t.flags&128)!==0,o||l?(o=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&l?(t.child=da(t,e.child,null,u),t.child=da(t,null,n,u)):at(e,t,n,u),t.memoizedState=o.state,e=t.child):e=cn(e,t,u),e}function Vh(e,t,n,l){return sa(),t.flags|=256,at(e,t,n,l),t.child}var Hu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $u(e){return{baseLanes:e,cachePool:Uf()}}function Gu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=At),e}function Kh(e,t,n){var l=t.pendingProps,u=!1,o=(t.flags&128)!==0,d;if((d=o)||(d=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),d&&(u=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(be){if(u?zn(t):Mn(),(e=De)?(e=Wd(e,Bt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:On!==null?{id:Jt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},n=Ef(e),n.return=t,t.child=n,tt=t,De=null)):e=null,e===null)throw Cn(t);return To(e)?t.lanes=32:t.lanes=536870912,null}var y=l.children;return l=l.fallback,u?(Mn(),u=t.mode,y=Sr({mode:"hidden",children:y},u),l=ra(l,u,n,null),y.return=t,l.return=t,y.sibling=l,t.child=y,l=t.child,l.memoizedState=$u(n),l.childLanes=Gu(e,d,n),t.memoizedState=Hu,Wi(null,l)):(zn(t),Vu(t,y))}var E=e.memoizedState;if(E!==null&&(y=E.dehydrated,y!==null)){if(o)t.flags&256?(zn(t),t.flags&=-257,t=Ku(e,t,n)):t.memoizedState!==null?(Mn(),t.child=e.child,t.flags|=128,t=null):(Mn(),y=l.fallback,u=t.mode,l=Sr({mode:"visible",children:l.children},u),y=ra(y,u,n,null),y.flags|=2,l.return=t,y.return=t,l.sibling=y,t.child=l,da(t,e.child,null,n),l=t.child,l.memoizedState=$u(n),l.childLanes=Gu(e,d,n),t.memoizedState=Hu,t=Wi(null,l));else if(zn(t),To(y)){if(d=y.nextSibling&&y.nextSibling.dataset,d)var U=d.dgst;d=U,l=Error(s(419)),l.stack="",l.digest=d,Hi({value:l,source:null,stack:null}),t=Ku(e,t,n)}else if(Qe||Ga(e,t,n,!1),d=(n&e.childLanes)!==0,Qe||d){if(d=Ne,d!==null&&(l=jc(d,n),l!==0&&l!==E.retryLane))throw E.retryLane=l,la(e,l),yt(d,e,l),Lu;xo(y)||Nr(),t=Ku(e,t,n)}else xo(y)?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,De=qt(y.nextSibling),tt=t,be=!0,jn=null,Bt=!1,e!==null&&Af(t,e),t=Vu(t,l.children),t.flags|=4096);return t}return u?(Mn(),y=l.fallback,u=t.mode,E=e.child,U=E.sibling,l=an(E,{mode:"hidden",children:l.children}),l.subtreeFlags=E.subtreeFlags&65011712,U!==null?y=an(U,y):(y=ra(y,u,n,null),y.flags|=2),y.return=t,l.return=t,l.sibling=y,t.child=l,Wi(null,l),l=t.child,y=e.child.memoizedState,y===null?y=$u(n):(u=y.cachePool,u!==null?(E=Ye._currentValue,u=u.parent!==E?{parent:E,pool:E}:u):u=Uf(),y={baseLanes:y.baseLanes|n,cachePool:u}),l.memoizedState=y,l.childLanes=Gu(e,d,n),t.memoizedState=Hu,Wi(e.child,l)):(zn(t),n=e.child,e=n.sibling,n=an(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=n,t.memoizedState=null,n)}function Vu(e,t){return t=Sr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Sr(e,t){return e=St(22,e,null,t),e.lanes=0,e}function Ku(e,t,n){return da(t,e.child,null,n),e=Vu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yh(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),lu(e.return,t,n)}function Yu(e,t,n,l,u,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=n,d.tailMode=u,d.treeForkCount=o)}function Xh(e,t,n){var l=t.pendingProps,u=l.revealOrder,o=l.tail;l=l.children;var d=Ve.current,y=(d&2)!==0;if(y?(d=d&1|2,t.flags|=128):d&=1,J(Ve,d),at(e,t,l,n),l=be?qi:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yh(e,n,t);else if(e.tag===19)Yh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&cr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),Yu(t,!1,u,n,o,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&cr(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}Yu(t,!0,n,null,o,l);break;case"together":Yu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ga(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=an(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=an(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&nr(e)))}function gy(e,t,n){switch(t.tag){case 3:ot(t,t.stateNode.containerInfo),Nn(t,Ye,e.memoizedState.cache),sa();break;case 27:case 5:xi(t);break;case 4:ot(t,t.stateNode.containerInfo);break;case 10:Nn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(zn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Kh(e,t,n):(zn(t),e=cn(e,t,n),e!==null?e.sibling:null);zn(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ga(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Xh(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),J(Ve,Ve.current),l)break;return null;case 22:return t.lanes=0,Lh(e,t,n,t.pendingProps);case 24:Nn(t,Ye,e.memoizedState.cache)}return cn(e,t,n)}function Qh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!Xu(e,n)&&(t.flags&128)===0)return Qe=!1,gy(e,t,n);Qe=(e.flags&131072)!==0}else Qe=!1,be&&(t.flags&1048576)!==0&&Tf(t,qi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=fa(t.elementType),t.type=e,typeof e=="function")Ps(e)?(l=ga(e,l),t.tag=1,t=Gh(null,t,e,l,n)):(t.tag=0,t=qu(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===Q){t.tag=11,t=zh(null,t,e,l,n);break e}else if(u===V){t.tag=14,t=Mh(null,t,e,l,n);break e}}throw t=re(e)||e,Error(s(306,t,""))}}return t;case 0:return qu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=ga(l,t.pendingProps),Gh(e,t,l,u,n);case 3:e:{if(ot(t,t.stateNode.containerInfo),e===null)throw Error(s(387));l=t.pendingProps;var o=t.memoizedState;u=o.element,hu(e,t),Qi(t,l,null,n);var d=t.memoizedState;if(l=d.cache,Nn(t,Ye,l),l!==o.cache&&ru(t,[Ye],n,!0),Xi(),l=d.element,o.isDehydrated)if(o={element:l,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Vh(e,t,l,n);break e}else if(l!==u){u=Dt(Error(s(424)),t),Hi(u),t=Vh(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,De=qt(e.firstChild),tt=t,be=!0,jn=null,Bt=!0,n=Lf(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sa(),l===u){t=cn(e,t,n);break e}at(e,t,l,n)}t=t.child}return t;case 26:return wr(e,t),e===null?(n=im(t.type,null,t.pendingProps,null))?t.memoizedState=n:be||(n=t.type,e=t.pendingProps,l=Lr(me.current).createElement(n),l[et]=t,l[ft]=e,it(l,n,e),We(l),t.stateNode=l):t.memoizedState=im(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xi(t),e===null&&be&&(l=t.stateNode=tm(t.type,t.pendingProps,me.current),tt=t,Bt=!0,u=De,Kn(t.type)?(Ao=u,De=qt(l.firstChild)):De=u),at(e,t,t.pendingProps.children,n),wr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&be&&((u=l=De)&&(l=Yy(l,t.type,t.pendingProps,Bt),l!==null?(t.stateNode=l,tt=t,De=qt(l.firstChild),Bt=!1,u=!0):u=!1),u||Cn(t)),xi(t),u=t.type,o=t.pendingProps,d=e!==null?e.memoizedProps:null,l=o.children,wo(u,o)?l=null:d!==null&&wo(u,d)&&(t.flags|=32),t.memoizedState!==null&&(u=bu(e,t,ry,null,null,n),dl._currentValue=u),wr(e,t),at(e,t,l,n),t.child;case 6:return e===null&&be&&((e=n=De)&&(n=Xy(n,t.pendingProps,Bt),n!==null?(t.stateNode=n,tt=t,De=null,e=!0):e=!1),e||Cn(t)),null;case 13:return Kh(e,t,n);case 4:return ot(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=da(t,null,l,n):at(e,t,l,n),t.child;case 11:return zh(e,t,t.type,t.pendingProps,n);case 7:return at(e,t,t.pendingProps,n),t.child;case 8:return at(e,t,t.pendingProps.children,n),t.child;case 12:return at(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Nn(t,t.type,l.value),at(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,oa(t),u=nt(u),l=l(u),t.flags|=1,at(e,t,l,n),t.child;case 14:return Mh(e,t,t.type,t.pendingProps,n);case 15:return Bh(e,t,t.type,t.pendingProps,n);case 19:return Xh(e,t,n);case 31:return my(e,t,n);case 22:return Lh(e,t,n,t.pendingProps);case 24:return oa(t),l=nt(Ye),e===null?(u=ou(),u===null&&(u=Ne,o=su(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=n),u=o),t.memoizedState={parent:l,cache:u},fu(t),Nn(t,Ye,u)):((e.lanes&n)!==0&&(hu(e,t),Qi(t,null,null,n),Xi()),u=e.memoizedState,o=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Nn(t,Ye,l)):(l=o.cache,Nn(t,Ye,l),l!==u.cache&&ru(t,[Ye],n,!0))),at(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function fn(e){e.flags|=4}function Qu(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(_d())e.flags|=8192;else throw ha=rr,cu}else e.flags&=-16777217}function Jh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!om(t))if(_d())e.flags|=8192;else throw ha=rr,cu}function Er(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ac():536870912,e.lanes|=t,ei|=t)}function Fi(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function py(e,t,n){var l=t.pendingProps;switch(tu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return ze(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),sn(Ye),Ge(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($a(t)?fn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,au())),ze(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(fn(t),o!==null?(ze(t),Jh(t,o)):(ze(t),Qu(t,u,null,l,n))):o?o!==e.memoizedState?(fn(t),ze(t),Jh(t,o)):(ze(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&fn(t),ze(t),Qu(t,u,e,l,n)),null;case 27:if(Dl(t),n=me.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&fn(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return ze(t),null}e=P.current,$a(t)?Rf(t):(e=tm(u,l,n),t.stateNode=e,fn(t))}return ze(t),null;case 5:if(Dl(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&fn(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return ze(t),null}if(o=P.current,$a(t))Rf(t);else{var d=Lr(me.current);switch(o){case 1:o=d.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=d.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=d.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?o.multiple=!0:l.size&&(o.size=l.size);break;default:o=typeof l.is=="string"?d.createElement(u,{is:l.is}):d.createElement(u)}}o[et]=t,o[ft]=l;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=o;e:switch(it(o,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&fn(t)}}return ze(t),Qu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&fn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=me.current,$a(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=tt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[et]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Kd(e.nodeValue,n)),e||Cn(t,!0)}else e=Lr(e).createTextNode(l),e[et]=t,t.stateNode=e}return ze(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=$a(t),n!==null){if(e===null){if(!l)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[et]=t}else sa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),e=!1}else n=au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(xt(t),t):(xt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return ze(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=$a(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(s(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));u[et]=t}else sa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),u=!1}else u=au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(xt(t),t):(xt(t),null)}return xt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Er(t,t.updateQueue),ze(t),null);case 4:return Ge(),e===null&&po(t.stateNode.containerInfo),ze(t),null;case 10:return sn(t.type),ze(t),null;case 19:if(G(Ve),l=t.memoizedState,l===null)return ze(t),null;if(u=(t.flags&128)!==0,o=l.rendering,o===null)if(u)Fi(l,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=cr(e),o!==null){for(t.flags|=128,Fi(l,!1),e=o.updateQueue,t.updateQueue=e,Er(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Sf(n,e),n=n.sibling;return J(Ve,Ve.current&1|2),be&&ln(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&vt()>Or&&(t.flags|=128,u=!0,Fi(l,!1),t.lanes=4194304)}else{if(!u)if(e=cr(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Er(t,e),Fi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!be)return ze(t),null}else 2*vt()-l.renderingStartTime>Or&&n!==536870912&&(t.flags|=128,u=!0,Fi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(e=l.last,e!==null?e.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=vt(),e.sibling=null,n=Ve.current,J(Ve,u?n&1|2:n&1),be&&ln(t,l.treeForkCount),e):(ze(t),null);case 22:case 23:return xt(t),pu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),n=t.updateQueue,n!==null&&Er(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&G(ca),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),sn(Ye),ze(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function yy(e,t){switch(tu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sn(Ye),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Dl(t),null;case 31:if(t.memoizedState!==null){if(xt(t),t.alternate===null)throw Error(s(340));sa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(xt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));sa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Ve),null;case 4:return Ge(),null;case 10:return sn(t.type),null;case 22:case 23:return xt(t),pu(),e!==null&&G(ca),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sn(Ye),null;case 25:return null;default:return null}}function Zh(e,t){switch(tu(t),t.tag){case 3:sn(Ye),Ge();break;case 26:case 27:case 5:Dl(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&xt(t);break;case 13:xt(t);break;case 19:G(Ve);break;case 10:sn(t.type);break;case 22:case 23:xt(t),pu(),e!==null&&G(ca);break;case 24:sn(Ye)}}function el(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var o=n.create,d=n.inst;l=o(),d.destroy=l}n=n.next}while(n!==u)}}catch(y){Re(t,t.return,y)}}function Bn(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var o=u.next;l=o;do{if((l.tag&e)===e){var d=l.inst,y=d.destroy;if(y!==void 0){d.destroy=void 0,u=t;var E=n,U=y;try{U()}catch(q){Re(u,E,q)}}}l=l.next}while(l!==o)}}catch(q){Re(t,t.return,q)}}function Ih(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Hf(t,n)}catch(l){Re(e,e.return,l)}}}function Ph(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Re(e,t,l)}}function tl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){Re(e,t,u)}}function It(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){Re(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Re(e,t,u)}else n.current=null}function Wh(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){Re(e,e.return,u)}}function Ju(e,t,n){try{var l=e.stateNode;qy(l,e.type,n,t),l[ft]=t}catch(u){Re(e,e.return,u)}}function Fh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kn(e.type)||e.tag===4}function Zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Iu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tn));else if(l!==4&&(l===27&&Kn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Iu(e,t,n),e=e.sibling;e!==null;)Iu(e,t,n),e=e.sibling}function xr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Kn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(xr(e,t,n),e=e.sibling;e!==null;)xr(e,t,n),e=e.sibling}function ed(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);it(t,l,n),t[et]=e,t[ft]=n}catch(o){Re(e,e.return,o)}}var hn=!1,Je=!1,Pu=!1,td=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function vy(e,t){if(e=e.containerInfo,bo=Yr,e=df(e),Ks(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,o=l.focusNode;l=l.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var d=0,y=-1,E=-1,U=0,q=0,$=e,D=null;t:for(;;){for(var B;$!==n||u!==0&&$.nodeType!==3||(y=d+u),$!==o||l!==0&&$.nodeType!==3||(E=d+l),$.nodeType===3&&(d+=$.nodeValue.length),(B=$.firstChild)!==null;)D=$,$=B;for(;;){if($===e)break t;if(D===n&&++U===u&&(y=d),D===o&&++q===l&&(E=d),(B=$.nextSibling)!==null)break;$=D,D=$.parentNode}$=B}n=y===-1||E===-1?null:{start:y,end:E}}else n=null}n=n||{start:0,end:0}}else n=null;for(_o={focusedElem:e,selectionRange:n},Yr=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){switch(t=Fe,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,u=o.memoizedProps,o=o.memoizedState,l=n.stateNode;try{var I=ga(n.type,u);e=l.getSnapshotBeforeUpdate(I,o),l.__reactInternalSnapshotBeforeUpdate=e}catch(se){Re(n,n.return,se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Eo(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Eo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}}function nd(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:mn(e,n),l&4&&el(5,n);break;case 1:if(mn(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(d){Re(n,n.return,d)}else{var u=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Re(n,n.return,d)}}l&64&&Ih(n),l&512&&tl(n,n.return);break;case 3:if(mn(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Hf(e,t)}catch(d){Re(n,n.return,d)}}break;case 27:t===null&&l&4&&ed(n);case 26:case 5:mn(e,n),t===null&&l&4&&Wh(n),l&512&&tl(n,n.return);break;case 12:mn(e,n);break;case 31:mn(e,n),l&4&&ld(e,n);break;case 13:mn(e,n),l&4&&rd(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ry.bind(null,n),Qy(e,n))));break;case 22:if(l=n.memoizedState!==null||hn,!l){t=t!==null&&t.memoizedState!==null||Je,u=hn;var o=Je;hn=l,(Je=t)&&!o?gn(e,n,(n.subtreeFlags&8772)!==0):mn(e,n),hn=u,Je=o}break;case 30:break;default:mn(e,n)}}function ad(e){var t=e.alternate;t!==null&&(e.alternate=null,ad(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Rs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Me=null,dt=!1;function dn(e,t,n){for(n=n.child;n!==null;)id(e,t,n),n=n.sibling}function id(e,t,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Ti,n)}catch{}switch(n.tag){case 26:Je||It(n,t),dn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Je||It(n,t);var l=Me,u=dt;Kn(n.type)&&(Me=n.stateNode,dt=!1),dn(e,t,n),cl(n.stateNode),Me=l,dt=u;break;case 5:Je||It(n,t);case 6:if(l=Me,u=dt,Me=null,dn(e,t,n),Me=l,dt=u,Me!==null)if(dt)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(n.stateNode)}catch(o){Re(n,t,o)}else try{Me.removeChild(n.stateNode)}catch(o){Re(n,t,o)}break;case 18:Me!==null&&(dt?(e=Me,Id(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ui(e)):Id(Me,n.stateNode));break;case 4:l=Me,u=dt,Me=n.stateNode.containerInfo,dt=!0,dn(e,t,n),Me=l,dt=u;break;case 0:case 11:case 14:case 15:Bn(2,n,t),Je||Bn(4,n,t),dn(e,t,n);break;case 1:Je||(It(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Ph(n,t,l)),dn(e,t,n);break;case 21:dn(e,t,n);break;case 22:Je=(l=Je)||n.memoizedState!==null,dn(e,t,n),Je=l;break;default:dn(e,t,n)}}function ld(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ui(e)}catch(n){Re(t,t.return,n)}}}function rd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ui(e)}catch(n){Re(t,t.return,n)}}function by(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new td),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new td),t;default:throw Error(s(435,e.tag))}}function Tr(e,t){var n=by(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=Oy.bind(null,e,l);l.then(u,u)}})}function mt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],o=e,d=t,y=d;e:for(;y!==null;){switch(y.tag){case 27:if(Kn(y.type)){Me=y.stateNode,dt=!1;break e}break;case 5:Me=y.stateNode,dt=!1;break e;case 3:case 4:Me=y.stateNode.containerInfo,dt=!0;break e}y=y.return}if(Me===null)throw Error(s(160));id(o,d,u),Me=null,dt=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)sd(t,e),t=t.sibling}var Gt=null;function sd(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mt(t,e),gt(e),l&4&&(Bn(3,e,e.return),el(3,e),Bn(5,e,e.return));break;case 1:mt(t,e),gt(e),l&512&&(Je||n===null||It(n,n.return)),l&64&&hn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=Gt;if(mt(t,e),gt(e),l&512&&(Je||n===null||It(n,n.return)),l&4){var o=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":o=u.getElementsByTagName("title")[0],(!o||o[Oi]||o[et]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(l),u.head.insertBefore(o,u.querySelector("head > title"))),it(o,l,n),o[et]=e,We(o),l=o;break e;case"link":var d=sm("link","href",u).get(l+(n.href||""));if(d){for(var y=0;y<d.length;y++)if(o=d[y],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){d.splice(y,1);break t}}o=u.createElement(l),it(o,l,n),u.head.appendChild(o);break;case"meta":if(d=sm("meta","content",u).get(l+(n.content||""))){for(y=0;y<d.length;y++)if(o=d[y],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){d.splice(y,1);break t}}o=u.createElement(l),it(o,l,n),u.head.appendChild(o);break;default:throw Error(s(468,l))}o[et]=e,We(o),l=o}e.stateNode=l}else um(u,e.type,e.stateNode);else e.stateNode=rm(u,l,e.memoizedProps);else o!==l?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,l===null?um(u,e.type,e.stateNode):rm(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ju(e,e.memoizedProps,n.memoizedProps)}break;case 27:mt(t,e),gt(e),l&512&&(Je||n===null||It(n,n.return)),n!==null&&l&4&&Ju(e,e.memoizedProps,n.memoizedProps);break;case 5:if(mt(t,e),gt(e),l&512&&(Je||n===null||It(n,n.return)),e.flags&32){u=e.stateNode;try{Na(u,"")}catch(I){Re(e,e.return,I)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,Ju(e,u,n!==null?n.memoizedProps:u)),l&1024&&(Pu=!0);break;case 6:if(mt(t,e),gt(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(I){Re(e,e.return,I)}}break;case 3:if($r=null,u=Gt,Gt=qr(t.containerInfo),mt(t,e),Gt=u,gt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ui(t.containerInfo)}catch(I){Re(e,e.return,I)}Pu&&(Pu=!1,ud(e));break;case 4:l=Gt,Gt=qr(e.stateNode.containerInfo),mt(t,e),gt(e),Gt=l;break;case 12:mt(t,e),gt(e);break;case 31:mt(t,e),gt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Tr(e,l)));break;case 13:mt(t,e),gt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Rr=vt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Tr(e,l)));break;case 22:u=e.memoizedState!==null;var E=n!==null&&n.memoizedState!==null,U=hn,q=Je;if(hn=U||u,Je=q||E,mt(t,e),Je=q,hn=U,gt(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||E||hn||Je||pa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){E=n=t;try{if(o=E.stateNode,u)d=o.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{y=E.stateNode;var $=E.memoizedProps.style,D=$!=null&&$.hasOwnProperty("display")?$.display:null;y.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(I){Re(E,E.return,I)}}}else if(t.tag===6){if(n===null){E=t;try{E.stateNode.nodeValue=u?"":E.memoizedProps}catch(I){Re(E,E.return,I)}}}else if(t.tag===18){if(n===null){E=t;try{var B=E.stateNode;u?Pd(B,!0):Pd(E.stateNode,!1)}catch(I){Re(E,E.return,I)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Tr(e,n))));break;case 19:mt(t,e),gt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Tr(e,l)));break;case 30:break;case 21:break;default:mt(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(Fh(l)){n=l;break}l=l.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var u=n.stateNode,o=Zu(e);xr(e,o,u);break;case 5:var d=n.stateNode;n.flags&32&&(Na(d,""),n.flags&=-33);var y=Zu(e);xr(e,y,d);break;case 3:case 4:var E=n.stateNode.containerInfo,U=Zu(e);Iu(e,U,E);break;default:throw Error(s(161))}}catch(q){Re(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ud(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ud(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function mn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)nd(e,t.alternate,t),t=t.sibling}function pa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bn(4,t,t.return),pa(t);break;case 1:It(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Ph(t,t.return,n),pa(t);break;case 27:cl(t.stateNode);case 26:case 5:It(t,t.return),pa(t);break;case 22:t.memoizedState===null&&pa(t);break;case 30:pa(t);break;default:pa(t)}e=e.sibling}}function gn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,o=t,d=o.flags;switch(o.tag){case 0:case 11:case 15:gn(u,o,n),el(4,o);break;case 1:if(gn(u,o,n),l=o,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(U){Re(l,l.return,U)}if(l=o,u=l.updateQueue,u!==null){var y=l.stateNode;try{var E=u.shared.hiddenCallbacks;if(E!==null)for(u.shared.hiddenCallbacks=null,u=0;u<E.length;u++)qf(E[u],y)}catch(U){Re(l,l.return,U)}}n&&d&64&&Ih(o),tl(o,o.return);break;case 27:ed(o);case 26:case 5:gn(u,o,n),n&&l===null&&d&4&&Wh(o),tl(o,o.return);break;case 12:gn(u,o,n);break;case 31:gn(u,o,n),n&&d&4&&ld(u,o);break;case 13:gn(u,o,n),n&&d&4&&rd(u,o);break;case 22:o.memoizedState===null&&gn(u,o,n),tl(o,o.return);break;case 30:break;default:gn(u,o,n)}t=t.sibling}}function Wu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&$i(n))}function Fu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$i(e))}function Vt(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)od(e,t,n,l),t=t.sibling}function od(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Vt(e,t,n,l),u&2048&&el(9,t);break;case 1:Vt(e,t,n,l);break;case 3:Vt(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$i(e)));break;case 12:if(u&2048){Vt(e,t,n,l),e=t.stateNode;try{var o=t.memoizedProps,d=o.id,y=o.onPostCommit;typeof y=="function"&&y(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Re(t,t.return,E)}}else Vt(e,t,n,l);break;case 31:Vt(e,t,n,l);break;case 13:Vt(e,t,n,l);break;case 23:break;case 22:o=t.stateNode,d=t.alternate,t.memoizedState!==null?o._visibility&2?Vt(e,t,n,l):nl(e,t):o._visibility&2?Vt(e,t,n,l):(o._visibility|=2,Pa(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Wu(d,t);break;case 24:Vt(e,t,n,l),u&2048&&Fu(t.alternate,t);break;default:Vt(e,t,n,l)}}function Pa(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,d=t,y=n,E=l,U=d.flags;switch(d.tag){case 0:case 11:case 15:Pa(o,d,y,E,u),el(8,d);break;case 23:break;case 22:var q=d.stateNode;d.memoizedState!==null?q._visibility&2?Pa(o,d,y,E,u):nl(o,d):(q._visibility|=2,Pa(o,d,y,E,u)),u&&U&2048&&Wu(d.alternate,d);break;case 24:Pa(o,d,y,E,u),u&&U&2048&&Fu(d.alternate,d);break;default:Pa(o,d,y,E,u)}t=t.sibling}}function nl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:nl(n,l),u&2048&&Wu(l.alternate,l);break;case 24:nl(n,l),u&2048&&Fu(l.alternate,l);break;default:nl(n,l)}t=t.sibling}}var al=8192;function Wa(e,t,n){if(e.subtreeFlags&al)for(e=e.child;e!==null;)cd(e,t,n),e=e.sibling}function cd(e,t,n){switch(e.tag){case 26:Wa(e,t,n),e.flags&al&&e.memoizedState!==null&&lv(n,Gt,e.memoizedState,e.memoizedProps);break;case 5:Wa(e,t,n);break;case 3:case 4:var l=Gt;Gt=qr(e.stateNode.containerInfo),Wa(e,t,n),Gt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=al,al=16777216,Wa(e,t,n),al=l):Wa(e,t,n));break;default:Wa(e,t,n)}}function fd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function il(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Fe=l,dd(l,e)}fd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hd(e),e=e.sibling}function hd(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&Bn(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ar(e)):il(e);break;default:il(e)}}function Ar(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Fe=l,dd(l,e)}fd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bn(8,t,t.return),Ar(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ar(t));break;default:Ar(t)}e=e.sibling}}function dd(e,t){for(;Fe!==null;){var n=Fe;switch(n.tag){case 0:case 11:case 15:Bn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$i(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Fe=l;else e:for(n=e;Fe!==null;){l=Fe;var u=l.sibling,o=l.return;if(ad(l),l===n){Fe=null;break e}if(u!==null){u.return=o,Fe=u;break e}Fe=o}}}var _y={getCacheForType:function(e){var t=nt(Ye),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return nt(Ye).controller.signal}},wy=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ne=null,ge=null,ye=0,Ae=0,Tt=null,Ln=!1,Fa=!1,eo=!1,pn=0,He=0,qn=0,ya=0,to=0,At=0,ei=0,ll=null,pt=null,no=!1,Rr=0,md=0,Or=1/0,jr=null,Hn=null,Ie=0,$n=null,ti=null,yn=0,ao=0,io=null,gd=null,rl=0,lo=null;function Rt(){return(xe&2)!==0&&ye!==0?ye&-ye:N.T!==null?fo():Cc()}function pd(){if(At===0)if((ye&536870912)===0||be){var e=Bl;Bl<<=1,(Bl&3932160)===0&&(Bl=262144),At=e}else At=536870912;return e=Et.current,e!==null&&(e.flags|=32),At}function yt(e,t,n){(e===Ne&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(ni(e,0),Gn(e,ye,At,!1)),Ri(e,n),((xe&2)===0||e!==Ne)&&(e===Ne&&((xe&2)===0&&(ya|=n),He===4&&Gn(e,ye,At,!1)),Pt(e))}function yd(e,t,n){if((xe&6)!==0)throw Error(s(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ai(e,t),u=l?xy(e,t):so(e,t,!0),o=l;do{if(u===0){Fa&&!l&&Gn(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Sy(n)){u=so(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var y=e;u=ll;var E=y.current.memoizedState.isDehydrated;if(E&&(ni(y,d).flags|=256),d=so(y,d,!1),d!==2){if(eo&&!E){y.errorRecoveryDisabledLanes|=o,ya|=o,u=4;break e}o=pt,pt=u,o!==null&&(pt===null?pt=o:pt.push.apply(pt,o))}u=d}if(o=!1,u!==2)continue}}if(u===1){ni(e,0),Gn(e,t,0,!0);break}e:{switch(l=e,o=u,o){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Gn(l,t,At,!Ln);break e;case 2:pt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(u=Rr+300-vt(),10<u)){if(Gn(l,t,At,!Ln),ql(l,0,!0)!==0)break e;yn=t,l.timeoutHandle=Jd(vd.bind(null,l,n,pt,jr,no,t,At,ya,ei,Ln,o,"Throttled",-0,0),u);break e}vd(l,n,pt,jr,no,t,At,ya,ei,Ln,o,null,-0,0)}}break}while(!0);Pt(e)}function vd(e,t,n,l,u,o,d,y,E,U,q,$,D,B){if(e.timeoutHandle=-1,$=t.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tn},cd(t,o,$);var I=(o&62914560)===o?Rr-vt():(o&4194048)===o?md-vt():0;if(I=rv($,I),I!==null){yn=o,e.cancelPendingCommit=I(Ad.bind(null,e,t,o,n,l,u,d,y,E,q,$,null,D,B)),Gn(e,o,d,!U);return}}Ad(e,t,o,n,l,u,d,y,E)}function Sy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],o=u.getSnapshot;u=u.value;try{if(!wt(o(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t,n,l){t&=~to,t&=~ya,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var o=31-_t(u),d=1<<o;l[o]=-1,u&=~d}n!==0&&Rc(e,n,t)}function Cr(){return(xe&6)===0?(sl(0),!1):!0}function ro(){if(ge!==null){if(Ae===0)var e=ge.return;else e=ge,rn=ua=null,Su(e),Xa=null,Vi=0,e=ge;for(;e!==null;)Zh(e.alternate,e),e=e.return;ge=null}}function ni(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Gy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),yn=0,ro(),Ne=e,ge=n=an(e.current,null),ye=t,Ae=0,Tt=null,Ln=!1,Fa=Ai(e,t),eo=!1,ei=At=to=ya=qn=He=0,pt=ll=null,no=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-_t(l),o=1<<u;t|=e[u],l&=~o}return pn=t,Pl(),n}function bd(e,t){he=null,N.H=Pi,t===Ya||t===lr?(t=zf(),Ae=3):t===cu?(t=zf(),Ae=4):Ae=t===Lu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Tt=t,ge===null&&(He=1,br(e,Dt(t,e.current)))}function _d(){var e=Et.current;return e===null?!0:(ye&4194048)===ye?Lt===null:(ye&62914560)===ye||(ye&536870912)!==0?e===Lt:!1}function wd(){var e=N.H;return N.H=Pi,e===null?Pi:e}function Sd(){var e=N.A;return N.A=_y,e}function Nr(){He=4,Ln||(ye&4194048)!==ye&&Et.current!==null||(Fa=!0),(qn&134217727)===0&&(ya&134217727)===0||Ne===null||Gn(Ne,ye,At,!1)}function so(e,t,n){var l=xe;xe|=2;var u=wd(),o=Sd();(Ne!==e||ye!==t)&&(jr=null,ni(e,t)),t=!1;var d=He;e:do try{if(Ae!==0&&ge!==null){var y=ge,E=Tt;switch(Ae){case 8:ro(),d=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(t=!0);var U=Ae;if(Ae=0,Tt=null,ai(e,y,E,U),n&&Fa){d=0;break e}break;default:U=Ae,Ae=0,Tt=null,ai(e,y,E,U)}}Ey(),d=He;break}catch(q){bd(e,q)}while(!0);return t&&e.shellSuspendCounter++,rn=ua=null,xe=l,N.H=u,N.A=o,ge===null&&(Ne=null,ye=0,Pl()),d}function Ey(){for(;ge!==null;)Ed(ge)}function xy(e,t){var n=xe;xe|=2;var l=wd(),u=Sd();Ne!==e||ye!==t?(jr=null,Or=vt()+500,ni(e,t)):Fa=Ai(e,t);e:do try{if(Ae!==0&&ge!==null){t=ge;var o=Tt;t:switch(Ae){case 1:Ae=0,Tt=null,ai(e,t,o,1);break;case 2:case 9:if(kf(o)){Ae=0,Tt=null,xd(t);break}t=function(){Ae!==2&&Ae!==9||Ne!==e||(Ae=7),Pt(e)},o.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:kf(o)?(Ae=0,Tt=null,xd(t)):(Ae=0,Tt=null,ai(e,t,o,7));break;case 5:var d=null;switch(ge.tag){case 26:d=ge.memoizedState;case 5:case 27:var y=ge;if(d?om(d):y.stateNode.complete){Ae=0,Tt=null;var E=y.sibling;if(E!==null)ge=E;else{var U=y.return;U!==null?(ge=U,Ur(U)):ge=null}break t}}Ae=0,Tt=null,ai(e,t,o,5);break;case 6:Ae=0,Tt=null,ai(e,t,o,6);break;case 8:ro(),He=6;break e;default:throw Error(s(462))}}Ty();break}catch(q){bd(e,q)}while(!0);return rn=ua=null,N.H=l,N.A=u,xe=n,ge!==null?0:(Ne=null,ye=0,Pl(),He)}function Ty(){for(;ge!==null&&!Jg();)Ed(ge)}function Ed(e){var t=Qh(e.alternate,e,pn);e.memoizedProps=e.pendingProps,t===null?Ur(e):ge=t}function xd(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=$h(n,t,t.pendingProps,t.type,void 0,ye);break;case 11:t=$h(n,t,t.pendingProps,t.type.render,t.ref,ye);break;case 5:Su(t);default:Zh(n,t),t=ge=Sf(t,pn),t=Qh(n,t,pn)}e.memoizedProps=e.pendingProps,t===null?Ur(e):ge=t}function ai(e,t,n,l){rn=ua=null,Su(t),Xa=null,Vi=0;var u=t.return;try{if(dy(e,u,t,n,ye)){He=1,br(e,Dt(n,e.current)),ge=null;return}}catch(o){if(u!==null)throw ge=u,o;He=1,br(e,Dt(n,e.current)),ge=null;return}t.flags&32768?(be||l===1?e=!0:Fa||(ye&536870912)!==0?e=!1:(Ln=e=!0,(l===2||l===9||l===3||l===6)&&(l=Et.current,l!==null&&l.tag===13&&(l.flags|=16384))),Td(t,e)):Ur(t)}function Ur(e){var t=e;do{if((t.flags&32768)!==0){Td(t,Ln);return}e=t.return;var n=py(t.alternate,t,pn);if(n!==null){ge=n;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);He===0&&(He=5)}function Td(e,t){do{var n=yy(e.alternate,e);if(n!==null){n.flags&=32767,ge=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ge=e;return}ge=e=n}while(e!==null);He=6,ge=null}function Ad(e,t,n,l,u,o,d,y,E){e.cancelPendingCommit=null;do kr();while(Ie!==0);if((xe&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,o|=Zs,ip(e,n,o,d,y,E),e===Ne&&(ge=Ne=null,ye=0),ti=t,$n=e,yn=n,ao=o,io=u,gd=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jy(zl,function(){return Nd(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=N.T,N.T=null,u=K.p,K.p=2,d=xe,xe|=4;try{vy(e,t,n)}finally{xe=d,K.p=u,N.T=l}}Ie=1,Rd(),Od(),jd()}}function Rd(){if(Ie===1){Ie=0;var e=$n,t=ti,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=N.T,N.T=null;var l=K.p;K.p=2;var u=xe;xe|=4;try{sd(t,e);var o=_o,d=df(e.containerInfo),y=o.focusedElem,E=o.selectionRange;if(d!==y&&y&&y.ownerDocument&&hf(y.ownerDocument.documentElement,y)){if(E!==null&&Ks(y)){var U=E.start,q=E.end;if(q===void 0&&(q=U),"selectionStart"in y)y.selectionStart=U,y.selectionEnd=Math.min(q,y.value.length);else{var $=y.ownerDocument||document,D=$&&$.defaultView||window;if(D.getSelection){var B=D.getSelection(),I=y.textContent.length,se=Math.min(E.start,I),Ce=E.end===void 0?se:Math.min(E.end,I);!B.extend&&se>Ce&&(d=Ce,Ce=se,se=d);var O=ff(y,se),x=ff(y,Ce);if(O&&x&&(B.rangeCount!==1||B.anchorNode!==O.node||B.anchorOffset!==O.offset||B.focusNode!==x.node||B.focusOffset!==x.offset)){var C=$.createRange();C.setStart(O.node,O.offset),B.removeAllRanges(),se>Ce?(B.addRange(C),B.extend(x.node,x.offset)):(C.setEnd(x.node,x.offset),B.addRange(C))}}}}for($=[],B=y;B=B.parentNode;)B.nodeType===1&&$.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<$.length;y++){var H=$[y];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Yr=!!bo,_o=bo=null}finally{xe=u,K.p=l,N.T=n}}e.current=t,Ie=2}}function Od(){if(Ie===2){Ie=0;var e=$n,t=ti,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=N.T,N.T=null;var l=K.p;K.p=2;var u=xe;xe|=4;try{nd(e,t.alternate,t)}finally{xe=u,K.p=l,N.T=n}}Ie=3}}function jd(){if(Ie===4||Ie===3){Ie=0,Zg();var e=$n,t=ti,n=yn,l=gd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ie=5:(Ie=0,ti=$n=null,Cd(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Hn=null),Ts(n),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Ti,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=N.T,u=K.p,K.p=2,N.T=null;try{for(var o=e.onRecoverableError,d=0;d<l.length;d++){var y=l[d];o(y.value,{componentStack:y.stack})}}finally{N.T=t,K.p=u}}(yn&3)!==0&&kr(),Pt(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===lo?rl++:(rl=0,lo=e):rl=0,sl(0)}}function Cd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$i(t)))}function kr(){return Rd(),Od(),jd(),Nd()}function Nd(){if(Ie!==5)return!1;var e=$n,t=ao;ao=0;var n=Ts(yn),l=N.T,u=K.p;try{K.p=32>n?32:n,N.T=null,n=io,io=null;var o=$n,d=yn;if(Ie=0,ti=$n=null,yn=0,(xe&6)!==0)throw Error(s(331));var y=xe;if(xe|=4,hd(o.current),od(o,o.current,d,n),xe=y,sl(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Ti,o)}catch{}return!0}finally{K.p=u,N.T=l,Cd(e,t)}}function Ud(e,t,n){t=Dt(n,t),t=Bu(e.stateNode,t,2),e=Dn(e,t,2),e!==null&&(Ri(e,2),Pt(e))}function Re(e,t,n){if(e.tag===3)Ud(e,e,n);else for(;t!==null;){if(t.tag===3){Ud(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hn===null||!Hn.has(l))){e=Dt(n,e),n=kh(2),l=Dn(t,n,2),l!==null&&(Dh(n,l,t,e),Ri(l,2),Pt(l));break}}t=t.return}}function uo(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new wy;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(eo=!0,u.add(n),e=Ay.bind(null,e,t,n),t.then(e,e))}function Ay(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ne===e&&(ye&n)===n&&(He===4||He===3&&(ye&62914560)===ye&&300>vt()-Rr?(xe&2)===0&&ni(e,0):to|=n,ei===ye&&(ei=0)),Pt(e)}function kd(e,t){t===0&&(t=Ac()),e=la(e,t),e!==null&&(Ri(e,t),Pt(e))}function Ry(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kd(e,n)}function Oy(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(t),kd(e,n)}function jy(e,t){return ws(e,t)}var Dr=null,ii=null,oo=!1,zr=!1,co=!1,Vn=0;function Pt(e){e!==ii&&e.next===null&&(ii===null?Dr=ii=e:ii=ii.next=e),zr=!0,oo||(oo=!0,Ny())}function sl(e,t){if(!co&&zr){co=!0;do for(var n=!1,l=Dr;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var o=0;else{var d=l.suspendedLanes,y=l.pingedLanes;o=(1<<31-_t(42|e)+1)-1,o&=u&~(d&~y),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Bd(l,o))}else o=ye,o=ql(l,l===Ne?o:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(o&3)===0||Ai(l,o)||(n=!0,Bd(l,o));l=l.next}while(n);co=!1}}function Cy(){Dd()}function Dd(){zr=oo=!1;var e=0;Vn!==0&&$y()&&(e=Vn);for(var t=vt(),n=null,l=Dr;l!==null;){var u=l.next,o=zd(l,t);o===0?(l.next=null,n===null?Dr=u:n.next=u,u===null&&(ii=n)):(n=l,(e!==0||(o&3)!==0)&&(zr=!0)),l=u}Ie!==0&&Ie!==5||sl(e),Vn!==0&&(Vn=0)}function zd(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var d=31-_t(o),y=1<<d,E=u[d];E===-1?((y&n)===0||(y&l)!==0)&&(u[d]=ap(y,t)):E<=t&&(e.expiredLanes|=y),o&=~y}if(t=Ne,n=ye,n=ql(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ss(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ai(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Ss(l),Ts(n)){case 2:case 8:n=xc;break;case 32:n=zl;break;case 268435456:n=Tc;break;default:n=zl}return l=Md.bind(null,e),n=ws(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Ss(l),e.callbackPriority=2,e.callbackNode=null,2}function Md(e,t){if(Ie!==0&&Ie!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(kr()&&e.callbackNode!==n)return null;var l=ye;return l=ql(e,e===Ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(yd(e,l,t),zd(e,vt()),e.callbackNode!=null&&e.callbackNode===n?Md.bind(null,e):null)}function Bd(e,t){if(kr())return null;yd(e,t,!0)}function Ny(){Vy(function(){(xe&6)!==0?ws(Ec,Cy):Dd()})}function fo(){if(Vn===0){var e=Va;e===0&&(e=Ml,Ml<<=1,(Ml&261888)===0&&(Ml=256)),Vn=e}return Vn}function Ld(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vl(""+e)}function qd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Uy(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var o=Ld((u[ft]||null).action),d=l.submitter;d&&(t=(t=d[ft]||null)?Ld(t.formAction):d.getAttribute("formAction"),t!==null&&(o=t,d=null));var y=new Ql("action","action",null,l,u);e.push({event:y,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vn!==0){var E=d?qd(u,d):new FormData(u);Nu(n,{pending:!0,data:E,method:u.method,action:o},null,E)}}else typeof o=="function"&&(y.preventDefault(),E=d?qd(u,d):new FormData(u),Nu(n,{pending:!0,data:E,method:u.method,action:o},o,E))},currentTarget:u}]})}}for(var ho=0;ho<Js.length;ho++){var mo=Js[ho],ky=mo.toLowerCase(),Dy=mo[0].toUpperCase()+mo.slice(1);$t(ky,"on"+Dy)}$t(pf,"onAnimationEnd"),$t(yf,"onAnimationIteration"),$t(vf,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(Ip,"onTransitionRun"),$t(Pp,"onTransitionStart"),$t(Wp,"onTransitionCancel"),$t(bf,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function Hd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var o=void 0;if(t)for(var d=l.length-1;0<=d;d--){var y=l[d],E=y.instance,U=y.currentTarget;if(y=y.listener,E!==o&&u.isPropagationStopped())break e;o=y,u.currentTarget=U;try{o(u)}catch(q){Il(q)}u.currentTarget=null,o=E}else for(d=0;d<l.length;d++){if(y=l[d],E=y.instance,U=y.currentTarget,y=y.listener,E!==o&&u.isPropagationStopped())break e;o=y,u.currentTarget=U;try{o(u)}catch(q){Il(q)}u.currentTarget=null,o=E}}}}function pe(e,t){var n=t[As];n===void 0&&(n=t[As]=new Set);var l=e+"__bubble";n.has(l)||($d(t,e,2,!1),n.add(l))}function go(e,t,n){var l=0;t&&(l|=4),$d(n,e,l,t)}var Mr="_reactListening"+Math.random().toString(36).slice(2);function po(e){if(!e[Mr]){e[Mr]=!0,kc.forEach(function(n){n!=="selectionchange"&&(zy.has(n)||go(n,!1,e),go(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mr]||(t[Mr]=!0,go("selectionchange",!1,t))}}function $d(e,t,n,l){switch(pm(t)){case 2:var u=ov;break;case 8:u=cv;break;default:u=No}n=u.bind(null,t,n,e),u=void 0,!zs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function yo(e,t,n,l,u){var o=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var d=l.tag;if(d===3||d===4){var y=l.stateNode.containerInfo;if(y===u)break;if(d===4)for(d=l.return;d!==null;){var E=d.tag;if((E===3||E===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;y!==null;){if(d=Aa(y),d===null)return;if(E=d.tag,E===5||E===6||E===26||E===27){l=o=d;continue e}y=y.parentNode}}l=l.return}Yc(function(){var U=o,q=ks(n),$=[];e:{var D=_f.get(e);if(D!==void 0){var B=Ql,I=e;switch(e){case"keypress":if(Yl(n)===0)break e;case"keydown":case"keyup":B=Op;break;case"focusin":I="focus",B=qs;break;case"focusout":I="blur",B=qs;break;case"beforeblur":case"afterblur":B=qs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Np;break;case pf:case yf:case vf:B=bp;break;case bf:B=kp;break;case"scroll":case"scrollend":B=mp;break;case"wheel":B=zp;break;case"copy":case"cut":case"paste":B=wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ic;break;case"toggle":case"beforetoggle":B=Bp}var se=(t&4)!==0,Ce=!se&&(e==="scroll"||e==="scrollend"),O=se?D!==null?D+"Capture":null:D;se=[];for(var x=U,C;x!==null;){var H=x;if(C=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||C===null||O===null||(H=Ci(x,O),H!=null&&se.push(ol(x,H,C))),Ce)break;x=x.return}0<se.length&&(D=new B(D,I,null,n,q),$.push({event:D,listeners:se}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",D&&n!==Us&&(I=n.relatedTarget||n.fromElement)&&(Aa(I)||I[Ta]))break e;if((B||D)&&(D=q.window===q?q:(D=q.ownerDocument)?D.defaultView||D.parentWindow:window,B?(I=n.relatedTarget||n.toElement,B=U,I=I?Aa(I):null,I!==null&&(Ce=f(I),se=I.tag,I!==Ce||se!==5&&se!==27&&se!==6)&&(I=null)):(B=null,I=U),B!==I)){if(se=Jc,H="onMouseLeave",O="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(se=Ic,H="onPointerLeave",O="onPointerEnter",x="pointer"),Ce=B==null?D:ji(B),C=I==null?D:ji(I),D=new se(H,x+"leave",B,n,q),D.target=Ce,D.relatedTarget=C,H=null,Aa(q)===U&&(se=new se(O,x+"enter",I,n,q),se.target=C,se.relatedTarget=Ce,H=se),Ce=H,B&&I)t:{for(se=My,O=B,x=I,C=0,H=O;H;H=se(H))C++;H=0;for(var ae=x;ae;ae=se(ae))H++;for(;0<C-H;)O=se(O),C--;for(;0<H-C;)x=se(x),H--;for(;C--;){if(O===x||x!==null&&O===x.alternate){se=O;break t}O=se(O),x=se(x)}se=null}else se=null;B!==null&&Gd($,D,B,se,!1),I!==null&&Ce!==null&&Gd($,Ce,I,se,!0)}}e:{if(D=U?ji(U):window,B=D.nodeName&&D.nodeName.toLowerCase(),B==="select"||B==="input"&&D.type==="file")var we=lf;else if(nf(D))if(rf)we=Qp;else{we=Yp;var W=Kp}else B=D.nodeName,!B||B.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?U&&Ns(U.elementType)&&(we=lf):we=Xp;if(we&&(we=we(e,U))){af($,we,n,q);break e}W&&W(e,D,U),e==="focusout"&&U&&D.type==="number"&&U.memoizedProps.value!=null&&Cs(D,"number",D.value)}switch(W=U?ji(U):window,e){case"focusin":(nf(W)||W.contentEditable==="true")&&(za=W,Ys=U,Li=null);break;case"focusout":Li=Ys=za=null;break;case"mousedown":Xs=!0;break;case"contextmenu":case"mouseup":case"dragend":Xs=!1,mf($,n,q);break;case"selectionchange":if(Zp)break;case"keydown":case"keyup":mf($,n,q)}var de;if($s)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Da?ef(e,n)&&(ve="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ve="onCompositionStart");ve&&(Pc&&n.locale!=="ko"&&(Da||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Da&&(de=Xc()):(Rn=q,Ms="value"in Rn?Rn.value:Rn.textContent,Da=!0)),W=Br(U,ve),0<W.length&&(ve=new Zc(ve,e,null,n,q),$.push({event:ve,listeners:W}),de?ve.data=de:(de=tf(n),de!==null&&(ve.data=de)))),(de=qp?Hp(e,n):$p(e,n))&&(ve=Br(U,"onBeforeInput"),0<ve.length&&(W=new Zc("onBeforeInput","beforeinput",null,n,q),$.push({event:W,listeners:ve}),W.data=de)),Uy($,e,U,n,q)}Hd($,t)})}function ol(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Br(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=Ci(e,n),u!=null&&l.unshift(ol(e,u,o)),u=Ci(e,t),u!=null&&l.push(ol(e,u,o))),e.tag===3)return l;e=e.return}return[]}function My(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gd(e,t,n,l,u){for(var o=t._reactName,d=[];n!==null&&n!==l;){var y=n,E=y.alternate,U=y.stateNode;if(y=y.tag,E!==null&&E===l)break;y!==5&&y!==26&&y!==27||U===null||(E=U,u?(U=Ci(n,o),U!=null&&d.unshift(ol(n,U,E))):u||(U=Ci(n,o),U!=null&&d.push(ol(n,U,E)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var By=/\r\n?/g,Ly=/\u0000|\uFFFD/g;function Vd(e){return(typeof e=="string"?e:""+e).replace(By,`
`).replace(Ly,"")}function Kd(e,t){return t=Vd(t),Vd(e)===t}function je(e,t,n,l,u,o){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Na(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Na(e,""+l);break;case"className":$l(e,"class",l);break;case"tabIndex":$l(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$l(e,n,l);break;case"style":Vc(e,l,o);break;case"data":if(t!=="object"){$l(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=Vl(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&je(e,t,"name",u.name,u,null),je(e,t,"formEncType",u.formEncType,u,null),je(e,t,"formMethod",u.formMethod,u,null),je(e,t,"formTarget",u.formTarget,u,null)):(je(e,t,"encType",u.encType,u,null),je(e,t,"method",u.method,u,null),je(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=Vl(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=tn);break;case"onScroll":l!=null&&pe("scroll",e);break;case"onScrollEnd":l!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=Vl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":pe("beforetoggle",e),pe("toggle",e),Hl(e,"popover",l);break;case"xlinkActuate":en(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":en(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":en(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":en(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":en(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":en(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":en(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":en(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":en(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=hp.get(n)||n,Hl(e,n,l))}}function vo(e,t,n,l,u,o){switch(n){case"style":Vc(e,l,o);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Na(e,l):(typeof l=="number"||typeof l=="bigint")&&Na(e,""+l);break;case"onScroll":l!=null&&pe("scroll",e);break;case"onScrollEnd":l!=null&&pe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),o=e[ft]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof l=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):Hl(e,n,l)}}}function it(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var l=!1,u=!1,o;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(d!=null)switch(o){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:je(e,t,o,d,n,null)}}u&&je(e,t,"srcSet",n.srcSet,n,null),l&&je(e,t,"src",n.src,n,null);return;case"input":pe("invalid",e);var y=o=d=u=null,E=null,U=null;for(l in n)if(n.hasOwnProperty(l)){var q=n[l];if(q!=null)switch(l){case"name":u=q;break;case"type":d=q;break;case"checked":E=q;break;case"defaultChecked":U=q;break;case"value":o=q;break;case"defaultValue":y=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,t));break;default:je(e,t,l,q,n,null)}}qc(e,o,y,E,U,d,u,!1);return;case"select":pe("invalid",e),l=d=o=null;for(u in n)if(n.hasOwnProperty(u)&&(y=n[u],y!=null))switch(u){case"value":o=y;break;case"defaultValue":d=y;break;case"multiple":l=y;default:je(e,t,u,y,n,null)}t=o,n=d,e.multiple=!!l,t!=null?Ca(e,!!l,t,!1):n!=null&&Ca(e,!!l,n,!0);return;case"textarea":pe("invalid",e),o=u=l=null;for(d in n)if(n.hasOwnProperty(d)&&(y=n[d],y!=null))switch(d){case"value":l=y;break;case"defaultValue":u=y;break;case"children":o=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:je(e,t,d,y,n,null)}$c(e,l,u,o);return;case"option":for(E in n)n.hasOwnProperty(E)&&(l=n[E],l!=null)&&(E==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":je(e,t,E,l,n,null));return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(l=0;l<ul.length;l++)pe(ul[l],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in n)if(n.hasOwnProperty(U)&&(l=n[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:je(e,t,U,l,n,null)}return;default:if(Ns(t)){for(q in n)n.hasOwnProperty(q)&&(l=n[q],l!==void 0&&vo(e,t,q,l,n,void 0));return}}for(y in n)n.hasOwnProperty(y)&&(l=n[y],l!=null&&je(e,t,y,l,n,null))}function qy(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,d=null,y=null,E=null,U=null,q=null;for(B in n){var $=n[B];if(n.hasOwnProperty(B)&&$!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":E=$;default:l.hasOwnProperty(B)||je(e,t,B,null,l,$)}}for(var D in l){var B=l[D];if($=n[D],l.hasOwnProperty(D)&&(B!=null||$!=null))switch(D){case"type":o=B;break;case"name":u=B;break;case"checked":U=B;break;case"defaultChecked":q=B;break;case"value":d=B;break;case"defaultValue":y=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,t));break;default:B!==$&&je(e,t,D,B,l,$)}}js(e,d,y,E,U,q,o,u);return;case"select":B=d=y=D=null;for(o in n)if(E=n[o],n.hasOwnProperty(o)&&E!=null)switch(o){case"value":break;case"multiple":B=E;default:l.hasOwnProperty(o)||je(e,t,o,null,l,E)}for(u in l)if(o=l[u],E=n[u],l.hasOwnProperty(u)&&(o!=null||E!=null))switch(u){case"value":D=o;break;case"defaultValue":y=o;break;case"multiple":d=o;default:o!==E&&je(e,t,u,o,l,E)}t=y,n=d,l=B,D!=null?Ca(e,!!n,D,!1):!!l!=!!n&&(t!=null?Ca(e,!!n,t,!0):Ca(e,!!n,n?[]:"",!1));return;case"textarea":B=D=null;for(y in n)if(u=n[y],n.hasOwnProperty(y)&&u!=null&&!l.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:je(e,t,y,null,l,u)}for(d in l)if(u=l[d],o=n[d],l.hasOwnProperty(d)&&(u!=null||o!=null))switch(d){case"value":D=u;break;case"defaultValue":B=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(s(91));break;default:u!==o&&je(e,t,d,u,l,o)}Hc(e,D,B);return;case"option":for(var I in n)D=n[I],n.hasOwnProperty(I)&&D!=null&&!l.hasOwnProperty(I)&&(I==="selected"?e.selected=!1:je(e,t,I,null,l,D));for(E in l)D=l[E],B=n[E],l.hasOwnProperty(E)&&D!==B&&(D!=null||B!=null)&&(E==="selected"?e.selected=D&&typeof D!="function"&&typeof D!="symbol":je(e,t,E,D,l,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in n)D=n[se],n.hasOwnProperty(se)&&D!=null&&!l.hasOwnProperty(se)&&je(e,t,se,null,l,D);for(U in l)if(D=l[U],B=n[U],l.hasOwnProperty(U)&&D!==B&&(D!=null||B!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,t));break;default:je(e,t,U,D,l,B)}return;default:if(Ns(t)){for(var Ce in n)D=n[Ce],n.hasOwnProperty(Ce)&&D!==void 0&&!l.hasOwnProperty(Ce)&&vo(e,t,Ce,void 0,l,D);for(q in l)D=l[q],B=n[q],!l.hasOwnProperty(q)||D===B||D===void 0&&B===void 0||vo(e,t,q,D,l,B);return}}for(var O in n)D=n[O],n.hasOwnProperty(O)&&D!=null&&!l.hasOwnProperty(O)&&je(e,t,O,null,l,D);for($ in l)D=l[$],B=n[$],!l.hasOwnProperty($)||D===B||D==null&&B==null||je(e,t,$,D,l,B)}function Yd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],o=u.transferSize,d=u.initiatorType,y=u.duration;if(o&&y&&Yd(d)){for(d=0,y=u.responseEnd,l+=1;l<n.length;l++){var E=n[l],U=E.startTime;if(U>y)break;var q=E.transferSize,$=E.initiatorType;q&&Yd($)&&(E=E.responseEnd,d+=q*(E<y?1:(y-U)/(E-U)))}if(--l,t+=8*(o+d)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bo=null,_o=null;function Lr(e){return e.nodeType===9?e:e.ownerDocument}function Xd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var So=null;function $y(){var e=window.event;return e&&e.type==="popstate"?e===So?!1:(So=e,!0):(So=null,!1)}var Jd=typeof setTimeout=="function"?setTimeout:void 0,Gy=typeof clearTimeout=="function"?clearTimeout:void 0,Zd=typeof Promise=="function"?Promise:void 0,Vy=typeof queueMicrotask=="function"?queueMicrotask:typeof Zd<"u"?function(e){return Zd.resolve(null).then(e).catch(Ky)}:Jd;function Ky(e){setTimeout(function(){throw e})}function Kn(e){return e==="head"}function Id(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ui(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")cl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,cl(n);for(var o=n.firstChild;o;){var d=o.nextSibling,y=o.nodeName;o[Oi]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=d}}else n==="body"&&cl(e.ownerDocument.body);n=u}while(n);ui(t)}function Pd(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Eo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Eo(n),Rs(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Yy(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Oi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=qt(e.nextSibling),e===null)break}return null}function Xy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=qt(e.nextSibling),e===null))return null;return e}function Wd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=qt(e.nextSibling),e===null))return null;return e}function xo(e){return e.data==="$?"||e.data==="$~"}function To(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Qy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ao=null;function Fd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return qt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function em(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function tm(e,t,n){switch(t=Lr(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function cl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Rs(e)}var Ht=new Map,nm=new Set;function qr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vn=K.d;K.d={f:Jy,r:Zy,D:Iy,C:Py,L:Wy,m:Fy,X:tv,S:ev,M:nv};function Jy(){var e=vn.f(),t=Cr();return e||t}function Zy(e){var t=Ra(e);t!==null&&t.tag===5&&t.type==="form"?bh(t):vn.r(e)}var li=typeof document>"u"?null:document;function am(e,t,n){var l=li;if(l&&typeof t=="string"&&t){var u=Ut(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),nm.has(u)||(nm.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),it(t,"link",e),We(t),l.head.appendChild(t)))}}function Iy(e){vn.D(e),am("dns-prefetch",e,null)}function Py(e,t){vn.C(e,t),am("preconnect",e,t)}function Wy(e,t,n){vn.L(e,t,n);var l=li;if(l&&e&&t){var u='link[rel="preload"][as="'+Ut(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Ut(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Ut(n.imageSizes)+'"]')):u+='[href="'+Ut(e)+'"]';var o=u;switch(t){case"style":o=ri(e);break;case"script":o=si(e)}Ht.has(o)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ht.set(o,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(fl(o))||t==="script"&&l.querySelector(hl(o))||(t=l.createElement("link"),it(t,"link",e),We(t),l.head.appendChild(t)))}}function Fy(e,t){vn.m(e,t);var n=li;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(e)+'"]',o=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=si(e)}if(!Ht.has(o)&&(e=_({rel:"modulepreload",href:e},t),Ht.set(o,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(hl(o)))return}l=n.createElement("link"),it(l,"link",e),We(l),n.head.appendChild(l)}}}function ev(e,t,n){vn.S(e,t,n);var l=li;if(l&&e){var u=Oa(l).hoistableStyles,o=ri(e);t=t||"default";var d=u.get(o);if(!d){var y={loading:0,preload:null};if(d=l.querySelector(fl(o)))y.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ht.get(o))&&Ro(e,n);var E=d=l.createElement("link");We(E),it(E,"link",e),E._p=new Promise(function(U,q){E.onload=U,E.onerror=q}),E.addEventListener("load",function(){y.loading|=1}),E.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Hr(d,t,l)}d={type:"stylesheet",instance:d,count:1,state:y},u.set(o,d)}}}function tv(e,t){vn.X(e,t);var n=li;if(n&&e){var l=Oa(n).hoistableScripts,u=si(e),o=l.get(u);o||(o=n.querySelector(hl(u)),o||(e=_({src:e,async:!0},t),(t=Ht.get(u))&&Oo(e,t),o=n.createElement("script"),We(o),it(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(u,o))}}function nv(e,t){vn.M(e,t);var n=li;if(n&&e){var l=Oa(n).hoistableScripts,u=si(e),o=l.get(u);o||(o=n.querySelector(hl(u)),o||(e=_({src:e,async:!0,type:"module"},t),(t=Ht.get(u))&&Oo(e,t),o=n.createElement("script"),We(o),it(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(u,o))}}function im(e,t,n,l){var u=(u=me.current)?qr(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ri(n.href),n=Oa(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ri(n.href);var o=Oa(u).hoistableStyles,d=o.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,d),(o=u.querySelector(fl(e)))&&!o._p&&(d.instance=o,d.state.loading=5),Ht.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ht.set(e,n),o||av(u,e,n,d.state))),t&&l===null)throw Error(s(528,""));return d}if(t&&l!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=si(n),n=Oa(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ri(e){return'href="'+Ut(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function lm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function av(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),it(t,"link",n),We(t),e.head.appendChild(t))}function si(e){return'[src="'+Ut(e)+'"]'}function hl(e){return"script[async]"+e}function rm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Ut(n.href)+'"]');if(l)return t.instance=l,We(l),l;var u=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),We(l),it(l,"style",u),Hr(l,n.precedence,e),t.instance=l;case"stylesheet":u=ri(n.href);var o=e.querySelector(fl(u));if(o)return t.state.loading|=4,t.instance=o,We(o),o;l=lm(n),(u=Ht.get(u))&&Ro(l,u),o=(e.ownerDocument||e).createElement("link"),We(o);var d=o;return d._p=new Promise(function(y,E){d.onload=y,d.onerror=E}),it(o,"link",l),t.state.loading|=4,Hr(o,n.precedence,e),t.instance=o;case"script":return o=si(n.src),(u=e.querySelector(hl(o)))?(t.instance=u,We(u),u):(l=n,(u=Ht.get(o))&&(l=_({},n),Oo(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),We(u),it(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Hr(l,n.precedence,e));return t.instance}function Hr(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,o=u,d=0;d<l.length;d++){var y=l[d];if(y.dataset.precedence===t)o=y;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ro(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Oo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var $r=null;function sm(e,t,n){if($r===null){var l=new Map,u=$r=new Map;u.set(n,l)}else u=$r,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var o=n[u];if(!(o[Oi]||o[et]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var d=o.getAttribute(t)||"";d=e+d;var y=l.get(d);y?y.push(o):l.set(d,[o])}}return l}function um(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function iv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function om(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function lv(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=ri(l.href),o=t.querySelector(fl(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Gr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,We(o);return}o=t.ownerDocument||t,l=lm(l),(u=Ht.get(u))&&Ro(l,u),o=o.createElement("link"),We(o);var d=o;d._p=new Promise(function(y,E){d.onload=y,d.onerror=E}),it(o,"link",l),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Gr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var jo=0;function rv(e,t){return e.stylesheets&&e.count===0&&Kr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&Kr(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&jo===0&&(jo=62500*Hy());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Kr(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>jo?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function Gr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vr=null;function Kr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vr=new Map,t.forEach(sv,e),Vr=null,Gr.call(e))}function sv(e,t){if(!(t.state.loading&4)){var n=Vr.get(e);if(n)var l=n.get(null);else{n=new Map,Vr.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var d=u[o];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(n.set(d.dataset.precedence,d),l=d)}l&&n.set(null,l)}u=t.instance,d=u.getAttribute("data-precedence"),o=n.get(d)||l,o===l&&n.set(null,u),n.set(d,u),this.count++,l=Gr.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var dl={$$typeof:M,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function uv(e,t,n,l,u,o,d,y,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Es(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Es(0),this.hiddenUpdates=Es(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function cm(e,t,n,l,u,o,d,y,E,U,q,$){return e=new uv(e,t,n,d,E,U,q,$,y),t=1,o===!0&&(t|=24),o=St(3,null,null,t),e.current=o,o.stateNode=e,t=su(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:l,isDehydrated:n,cache:t},fu(o),e}function fm(e){return e?(e=La,e):La}function hm(e,t,n,l,u,o){u=fm(u),l.context===null?l.context=u:l.pendingContext=u,l=kn(t),l.payload={element:n},o=o===void 0?null:o,o!==null&&(l.callback=o),n=Dn(e,l,t),n!==null&&(yt(n,e,t),Yi(n,e,t))}function dm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Co(e,t){dm(e,t),(e=e.alternate)&&dm(e,t)}function mm(e){if(e.tag===13||e.tag===31){var t=la(e,67108864);t!==null&&yt(t,e,67108864),Co(e,67108864)}}function gm(e){if(e.tag===13||e.tag===31){var t=Rt();t=xs(t);var n=la(e,t);n!==null&&yt(n,e,t),Co(e,t)}}var Yr=!0;function ov(e,t,n,l){var u=N.T;N.T=null;var o=K.p;try{K.p=2,No(e,t,n,l)}finally{K.p=o,N.T=u}}function cv(e,t,n,l){var u=N.T;N.T=null;var o=K.p;try{K.p=8,No(e,t,n,l)}finally{K.p=o,N.T=u}}function No(e,t,n,l){if(Yr){var u=Uo(l);if(u===null)yo(e,t,l,Xr,n),ym(e,l);else if(hv(u,e,t,n,l))l.stopPropagation();else if(ym(e,l),t&4&&-1<fv.indexOf(e)){for(;u!==null;){var o=Ra(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var d=ea(o.pendingLanes);if(d!==0){var y=o;for(y.pendingLanes|=2,y.entangledLanes|=2;d;){var E=1<<31-_t(d);y.entanglements[1]|=E,d&=~E}Pt(o),(xe&6)===0&&(Or=vt()+500,sl(0))}}break;case 31:case 13:y=la(o,2),y!==null&&yt(y,o,2),Cr(),Co(o,2)}if(o=Uo(l),o===null&&yo(e,t,l,Xr,n),o===u)break;u=o}u!==null&&l.stopPropagation()}else yo(e,t,l,null,n)}}function Uo(e){return e=ks(e),ko(e)}var Xr=null;function ko(e){if(Xr=null,e=Aa(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Xr=e,null}function pm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ig()){case Ec:return 2;case xc:return 8;case zl:case Pg:return 32;case Tc:return 268435456;default:return 32}default:return 32}}var Do=!1,Yn=null,Xn=null,Qn=null,ml=new Map,gl=new Map,Jn=[],fv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(e,t){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":ml.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(t.pointerId)}}function pl(e,t,n,l,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:o,targetContainers:[u]},t!==null&&(t=Ra(t),t!==null&&mm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function hv(e,t,n,l,u){switch(t){case"focusin":return Yn=pl(Yn,e,t,n,l,u),!0;case"dragenter":return Xn=pl(Xn,e,t,n,l,u),!0;case"mouseover":return Qn=pl(Qn,e,t,n,l,u),!0;case"pointerover":var o=u.pointerId;return ml.set(o,pl(ml.get(o)||null,e,t,n,l,u)),!0;case"gotpointercapture":return o=u.pointerId,gl.set(o,pl(gl.get(o)||null,e,t,n,l,u)),!0}return!1}function vm(e){var t=Aa(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Nc(e.priority,function(){gm(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,Nc(e.priority,function(){gm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Uo(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Us=l,n.target.dispatchEvent(l),Us=null}else return t=Ra(n),t!==null&&mm(t),e.blockedOn=n,!1;t.shift()}return!0}function bm(e,t,n){Qr(e)&&n.delete(t)}function dv(){Do=!1,Yn!==null&&Qr(Yn)&&(Yn=null),Xn!==null&&Qr(Xn)&&(Xn=null),Qn!==null&&Qr(Qn)&&(Qn=null),ml.forEach(bm),gl.forEach(bm)}function Jr(e,t){e.blockedOn===t&&(e.blockedOn=null,Do||(Do=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,dv)))}var Zr=null;function _m(e){Zr!==e&&(Zr=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Zr===e&&(Zr=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(ko(l||n)===null)continue;break}var o=Ra(n);o!==null&&(e.splice(t,3),t-=3,Nu(o,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ui(e){function t(E){return Jr(E,e)}Yn!==null&&Jr(Yn,e),Xn!==null&&Jr(Xn,e),Qn!==null&&Jr(Qn,e),ml.forEach(t),gl.forEach(t);for(var n=0;n<Jn.length;n++){var l=Jn[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Jn.length&&(n=Jn[0],n.blockedOn===null);)vm(n),n.blockedOn===null&&Jn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],o=n[l+1],d=u[ft]||null;if(typeof o=="function")d||_m(n);else if(d){var y=null;if(o&&o.hasAttribute("formAction")){if(u=o,d=o[ft]||null)y=d.formAction;else if(ko(u)!==null)continue}else y=d.action;typeof y=="function"?n[l+1]=y:(n.splice(l,3),l-=3),_m(n)}}}function wm(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(d){return u=d})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function zo(e){this._internalRoot=e}Ir.prototype.render=zo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,l=Rt();hm(n,l,e,t,null,null)},Ir.prototype.unmount=zo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hm(e.current,2,null,e,null,null),Cr(),t[Ta]=null}};function Ir(e){this._internalRoot=e}Ir.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jn.length&&t!==0&&t<Jn[n].priority;n++);Jn.splice(n,0,e),n===0&&vm(e)}};var Sm=a.version;if(Sm!=="19.2.4")throw Error(s(527,Sm,"19.2.4"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var mv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pr.isDisabled&&Pr.supportsFiber)try{Ti=Pr.inject(mv),bt=Pr}catch{}}return vl.createRoot=function(e,t){if(!c(e))throw Error(s(299));var n=!1,l="",u=jh,o=Ch,d=Nh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=cm(e,1,!1,null,null,n,l,null,u,o,d,wm),e[Ta]=t.current,po(e),new zo(t)},vl.hydrateRoot=function(e,t,n){if(!c(e))throw Error(s(299));var l=!1,u="",o=jh,d=Ch,y=Nh,E=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.formState!==void 0&&(E=n.formState)),t=cm(e,1,!0,t,n??null,l,u,E,o,d,y,wm),t.context=fm(null),n=t.current,l=Rt(),l=xs(l),u=kn(l),u.callback=null,Dn(n,u,l),n=l,t.current.lanes=n,Ri(t,n),Pt(t),e[Ta]=t.current,po(e),new Ir(t)},vl.version="19.2.4",vl}var Um;function Ev(){if(Um)return Lo.exports;Um=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),Lo.exports=Sv(),Lo.exports}var xv=Ev();var km="popstate";function Tv(i={}){function a(s,c){let{pathname:f,search:h,hash:m}=s.location;return Wo("",{pathname:f,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(s,c){return typeof c=="string"?c:xl(c)}return Rv(a,r,null,i)}function Be(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function Qt(i,a){if(!i){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Av(){return Math.random().toString(36).substring(2,10)}function Dm(i,a){return{usr:i.state,key:i.key,idx:a}}function Wo(i,a,r=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof a=="string"?_i(a):a,state:r,key:a&&a.key||s||Av()}}function xl({pathname:i="/",search:a="",hash:r=""}){return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function _i(i){let a={};if(i){let r=i.indexOf("#");r>=0&&(a.hash=i.substring(r),i=i.substring(0,r));let s=i.indexOf("?");s>=0&&(a.search=i.substring(s),i=i.substring(0,s)),i&&(a.pathname=i)}return a}function Rv(i,a,r,s={}){let{window:c=document.defaultView,v5Compat:f=!1}=s,h=c.history,m="POP",g=null,p=b();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function b(){return(h.state||{idx:null}).idx}function _(){m="POP";let k=b(),L=k==null?null:k-p;p=k,g&&g({action:m,location:j.location,delta:L})}function S(k,L){m="PUSH";let z=Wo(j.location,k,L);p=b()+1;let M=Dm(z,p),Q=j.createHref(z);try{h.pushState(M,"",Q)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;c.location.assign(Q)}f&&g&&g({action:m,location:j.location,delta:1})}function w(k,L){m="REPLACE";let z=Wo(j.location,k,L);p=b();let M=Dm(z,p),Q=j.createHref(z);h.replaceState(M,"",Q),f&&g&&g({action:m,location:j.location,delta:0})}function A(k){return Ov(k)}let j={get action(){return m},get location(){return i(c,h)},listen(k){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(km,_),g=k,()=>{c.removeEventListener(km,_),g=null}},createHref(k){return a(c,k)},createURL:A,encodeLocation(k){let L=A(k);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:S,replace:w,go(k){return h.go(k)}};return j}function Ov(i,a=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Be(r,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:xl(i);return s=s.replace(/ $/,"%20"),!a&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function og(i,a,r="/"){return jv(i,a,r,!1)}function jv(i,a,r,s){let c=typeof a=="string"?_i(a):a,f=En(c.pathname||"/",r);if(f==null)return null;let h=cg(i);Cv(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=$v(f);m=qv(h[g],p,s)}return m}function cg(i,a=[],r=[],s="",c=!1){let f=(h,m,g=c,p)=>{let b={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&g)return;Be(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let _=Sn([s,b.relativePath]),S=r.concat(b);h.children&&h.children.length>0&&(Be(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),cg(h.children,a,S,_,g)),!(h.path==null&&!h.index)&&a.push({path:_,score:Bv(_,h.index),routesMeta:S})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))f(h,m);else for(let g of fg(h.path))f(h,m,!0,g)}),a}function fg(i){let a=i.split("/");if(a.length===0)return[];let[r,...s]=a,c=r.endsWith("?"),f=r.replace(/\?$/,"");if(s.length===0)return c?[f,""]:[f];let h=fg(s.join("/")),m=[];return m.push(...h.map(g=>g===""?f:[f,g].join("/"))),c&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function Cv(i){i.sort((a,r)=>a.score!==r.score?r.score-a.score:Lv(a.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var Nv=/^:[\w-]+$/,Uv=3,kv=2,Dv=1,zv=10,Mv=-2,zm=i=>i==="*";function Bv(i,a){let r=i.split("/"),s=r.length;return r.some(zm)&&(s+=Mv),a&&(s+=kv),r.filter(c=>!zm(c)).reduce((c,f)=>c+(Nv.test(f)?Uv:f===""?Dv:zv),s)}function Lv(i,a){return i.length===a.length&&i.slice(0,-1).every((s,c)=>s===a[c])?i[i.length-1]-a[a.length-1]:0}function qv(i,a,r=!1){let{routesMeta:s}=i,c={},f="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,b=f==="/"?a:a.slice(f.length)||"/",_=ss({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},b),S=g.route;if(!_&&p&&r&&!s[s.length-1].route.index&&(_=ss({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!_)return null;Object.assign(c,_.params),h.push({params:c,pathname:Sn([f,_.pathname]),pathnameBase:Yv(Sn([f,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(f=Sn([f,_.pathnameBase]))}return h}function ss(i,a){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,s]=Hv(i.path,i.caseSensitive,i.end),c=a.match(r);if(!c)return null;let f=c[0],h=f.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:s.reduce((p,{paramName:b,isOptional:_},S)=>{if(b==="*"){let A=m[S]||"";h=f.slice(0,f.length-A.length).replace(/(.)\/+$/,"$1")}const w=m[S];return _&&!w?p[b]=void 0:p[b]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:f,pathnameBase:h,pattern:i}}function Hv(i,a=!1,r=!0){Qt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],c="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),c+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":i!==""&&i!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),s]}function $v(i){try{return i.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Qt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),i}}function En(i,a){if(a==="/")return i;if(!i.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,s=i.charAt(r);return s&&s!=="/"?null:i.slice(r)||"/"}var Gv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Vv(i,a="/"){let{pathname:r,search:s="",hash:c=""}=typeof i=="string"?_i(i):i,f;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?f=Mm(r.substring(1),"/"):f=Mm(r,a)):f=a,{pathname:f,search:Xv(s),hash:Qv(c)}}function Mm(i,a){let r=a.replace(/\/+$/,"").split("/");return i.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function Go(i,a,r,s){return`Cannot include a '${i}' character in a manually specified \`to.${a}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kv(i){return i.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function hc(i){let a=Kv(i);return a.map((r,s)=>s===a.length-1?r.pathname:r.pathnameBase)}function dc(i,a,r,s=!1){let c;typeof i=="string"?c=_i(i):(c={...i},Be(!c.pathname||!c.pathname.includes("?"),Go("?","pathname","search",c)),Be(!c.pathname||!c.pathname.includes("#"),Go("#","pathname","hash",c)),Be(!c.search||!c.search.includes("#"),Go("#","search","hash",c)));let f=i===""||c.pathname==="",h=f?"/":c.pathname,m;if(h==null)m=r;else{let _=a.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),_-=1;c.pathname=S.join("/")}m=_>=0?a[_]:"/"}let g=Vv(c,m),p=h&&h!=="/"&&h.endsWith("/"),b=(f||h===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(p||b)&&(g.pathname+="/"),g}var Sn=i=>i.join("/").replace(/\/\/+/g,"/"),Yv=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Xv=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Qv=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Jv=class{constructor(i,a,r,s=!1){this.status=i,this.statusText=a||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Zv(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function Iv(i){return i.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var hg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function dg(i,a){let r=i;if(typeof r!="string"||!Gv.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let s=r,c=!1;if(hg)try{let f=new URL(window.location.href),h=r.startsWith("//")?new URL(f.protocol+r):new URL(r),m=En(h.pathname,a);h.origin===f.origin&&m!=null?r=m+h.search+h.hash:c=!0}catch{Qt(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:c,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mg=["POST","PUT","PATCH","DELETE"];new Set(mg);var Pv=["GET",...mg];new Set(Pv);var wi=R.createContext(null);wi.displayName="DataRouter";var fs=R.createContext(null);fs.displayName="DataRouterState";var Wv=R.createContext(!1),gg=R.createContext({isTransitioning:!1});gg.displayName="ViewTransition";var Fv=R.createContext(new Map);Fv.displayName="Fetchers";var e0=R.createContext(null);e0.displayName="Await";var Ct=R.createContext(null);Ct.displayName="Navigation";var Nl=R.createContext(null);Nl.displayName="Location";var Wt=R.createContext({outlet:null,matches:[],isDataRoute:!1});Wt.displayName="Route";var mc=R.createContext(null);mc.displayName="RouteError";var pg="REACT_ROUTER_ERROR",t0="REDIRECT",n0="ROUTE_ERROR_RESPONSE";function a0(i){if(i.startsWith(`${pg}:${t0}:{`))try{let a=JSON.parse(i.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function i0(i){if(i.startsWith(`${pg}:${n0}:{`))try{let a=JSON.parse(i.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Jv(a.status,a.statusText,a.data)}catch{}}function l0(i,{relative:a}={}){Be(Si(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=R.useContext(Ct),{hash:c,pathname:f,search:h}=Ul(i,{relative:a}),m=f;return r!=="/"&&(m=f==="/"?r:Sn([r,f])),s.createHref({pathname:m,search:h,hash:c})}function Si(){return R.useContext(Nl)!=null}function Wn(){return Be(Si(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Nl).location}var yg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vg(i){R.useContext(Ct).static||R.useLayoutEffect(i)}function bg(){let{isDataRoute:i}=R.useContext(Wt);return i?v0():r0()}function r0(){Be(Si(),"useNavigate() may be used only in the context of a <Router> component.");let i=R.useContext(wi),{basename:a,navigator:r}=R.useContext(Ct),{matches:s}=R.useContext(Wt),{pathname:c}=Wn(),f=JSON.stringify(hc(s)),h=R.useRef(!1);return vg(()=>{h.current=!0}),R.useCallback((g,p={})=>{if(Qt(h.current,yg),!h.current)return;if(typeof g=="number"){r.go(g);return}let b=dc(g,JSON.parse(f),c,p.relative==="path");i==null&&a!=="/"&&(b.pathname=b.pathname==="/"?a:Sn([a,b.pathname])),(p.replace?r.replace:r.push)(b,p.state,p)},[a,r,f,c,i])}R.createContext(null);function Ul(i,{relative:a}={}){let{matches:r}=R.useContext(Wt),{pathname:s}=Wn(),c=JSON.stringify(hc(r));return R.useMemo(()=>dc(i,JSON.parse(c),s,a==="path"),[i,c,s,a])}function s0(i,a){return _g(i,a)}function _g(i,a,r,s,c){Be(Si(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=R.useContext(Ct),{matches:h}=R.useContext(Wt),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",b=m?m.pathnameBase:"/",_=m&&m.route;{let z=_&&_.path||"";Sg(p,!_||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let S=Wn(),w;if(a){let z=typeof a=="string"?_i(a):a;Be(b==="/"||z.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${z.pathname}" was given in the \`location\` prop.`),w=z}else w=S;let A=w.pathname||"/",j=A;if(b!=="/"){let z=b.replace(/^\//,"").split("/");j="/"+A.replace(/^\//,"").split("/").slice(z.length).join("/")}let k=og(i,{pathname:j});Qt(_||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Qt(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=h0(k&&k.map(z=>Object.assign({},z,{params:Object.assign({},g,z.params),pathname:Sn([b,f.encodeLocation?f.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?b:Sn([b,f.encodeLocation?f.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),h,r,s,c);return a&&L?R.createElement(Nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},L):L}function u0(){let i=y0(),a=Zv(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:s},f={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:f},"ErrorBoundary")," or"," ",R.createElement("code",{style:f},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},a),r?R.createElement("pre",{style:c},r):null,h)}var o0=R.createElement(u0,null),wg=class extends R.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){this.props.onError?this.props.onError(i,a):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const r=i0(i.digest);r&&(i=r)}let a=i!==void 0?R.createElement(Wt.Provider,{value:this.props.routeContext},R.createElement(mc.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?R.createElement(c0,{error:i},a):a}};wg.contextType=Wv;var Vo=new WeakMap;function c0({children:i,error:a}){let{basename:r}=R.useContext(Ct);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let s=a0(a.digest);if(s){let c=Vo.get(a);if(c)throw c;let f=dg(s.location,r);if(hg&&!Vo.get(a))if(f.isExternal||s.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:s.replace}));throw Vo.set(a,h),h}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return i}function f0({routeContext:i,match:a,children:r}){let s=R.useContext(wi);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),R.createElement(Wt.Provider,{value:i},r)}function h0(i,a=[],r=null,s=null,c=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(a.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let f=i,h=r?.errors;if(h!=null){let b=f.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);Be(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,b+1))}let m=!1,g=-1;if(r)for(let b=0;b<f.length;b++){let _=f[b];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=b),_.route.id){let{loaderData:S,errors:w}=r,A=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||A){m=!0,g>=0?f=f.slice(0,g+1):f=[f[0]];break}}}let p=r&&s?(b,_)=>{s(b,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Iv(r.matches),errorInfo:_})}:void 0;return f.reduceRight((b,_,S)=>{let w,A=!1,j=null,k=null;r&&(w=h&&_.route.id?h[_.route.id]:void 0,j=_.route.errorElement||o0,m&&(g<0&&S===0?(Sg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,k=null):g===S&&(A=!0,k=_.route.hydrateFallbackElement||null)));let L=a.concat(f.slice(0,S+1)),z=()=>{let M;return w?M=j:A?M=k:_.route.Component?M=R.createElement(_.route.Component,null):_.route.element?M=_.route.element:M=b,R.createElement(f0,{match:_,routeContext:{outlet:b,matches:L,isDataRoute:r!=null},children:M})};return r&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?R.createElement(wg,{location:r.location,revalidation:r.revalidation,component:j,error:w,children:z(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:p}):z()},null)}function gc(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d0(i){let a=R.useContext(wi);return Be(a,gc(i)),a}function m0(i){let a=R.useContext(fs);return Be(a,gc(i)),a}function g0(i){let a=R.useContext(Wt);return Be(a,gc(i)),a}function pc(i){let a=g0(i),r=a.matches[a.matches.length-1];return Be(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function p0(){return pc("useRouteId")}function y0(){let i=R.useContext(mc),a=m0("useRouteError"),r=pc("useRouteError");return i!==void 0?i:a.errors?.[r]}function v0(){let{router:i}=d0("useNavigate"),a=pc("useNavigate"),r=R.useRef(!1);return vg(()=>{r.current=!0}),R.useCallback(async(c,f={})=>{Qt(r.current,yg),r.current&&(typeof c=="number"?await i.navigate(c):await i.navigate(c,{fromRouteId:a,...f}))},[i,a])}var Bm={};function Sg(i,a,r){!a&&!Bm[i]&&(Bm[i]=!0,Qt(!1,r))}R.memo(b0);function b0({routes:i,future:a,state:r,onError:s}){return _g(i,void 0,r,s,a)}function Fo({to:i,replace:a,state:r,relative:s}){Be(Si(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=R.useContext(Ct);Qt(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=R.useContext(Wt),{pathname:h}=Wn(),m=bg(),g=dc(i,hc(f),h,s==="path"),p=JSON.stringify(g);return R.useEffect(()=>{m(JSON.parse(p),{replace:a,state:r,relative:s})},[m,p,s,a,r]),null}function bn(i){Be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _0({basename:i="/",children:a=null,location:r,navigationType:s="POP",navigator:c,static:f=!1,unstable_useTransitions:h}){Be(!Si(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),g=R.useMemo(()=>({basename:m,navigator:c,static:f,unstable_useTransitions:h,future:{}}),[m,c,f,h]);typeof r=="string"&&(r=_i(r));let{pathname:p="/",search:b="",hash:_="",state:S=null,key:w="default"}=r,A=R.useMemo(()=>{let j=En(p,m);return j==null?null:{location:{pathname:j,search:b,hash:_,state:S,key:w},navigationType:s}},[m,p,b,_,S,w,s]);return Qt(A!=null,`<Router basename="${m}"> is not able to match the URL "${p}${b}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:R.createElement(Ct.Provider,{value:g},R.createElement(Nl.Provider,{children:a,value:A}))}function w0({children:i,location:a}){return s0(ec(i),a)}function ec(i,a=[]){let r=[];return R.Children.forEach(i,(s,c)=>{if(!R.isValidElement(s))return;let f=[...a,c];if(s.type===R.Fragment){r.push.apply(r,ec(s.props.children,f));return}Be(s.type===bn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Be(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||f.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ec(s.props.children,f)),r.push(h)}),r}var ls="get",rs="application/x-www-form-urlencoded";function hs(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function S0(i){return hs(i)&&i.tagName.toLowerCase()==="button"}function E0(i){return hs(i)&&i.tagName.toLowerCase()==="form"}function x0(i){return hs(i)&&i.tagName.toLowerCase()==="input"}function T0(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function A0(i,a){return i.button===0&&(!a||a==="_self")&&!T0(i)}var Wr=null;function R0(){if(Wr===null)try{new FormData(document.createElement("form"),0),Wr=!1}catch{Wr=!0}return Wr}var O0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ko(i){return i!=null&&!O0.has(i)?(Qt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rs}"`),null):i}function j0(i,a){let r,s,c,f,h;if(E0(i)){let m=i.getAttribute("action");s=m?En(m,a):null,r=i.getAttribute("method")||ls,c=Ko(i.getAttribute("enctype"))||rs,f=new FormData(i)}else if(S0(i)||x0(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?En(g,a):null,r=i.getAttribute("formmethod")||m.getAttribute("method")||ls,c=Ko(i.getAttribute("formenctype"))||Ko(m.getAttribute("enctype"))||rs,f=new FormData(m,i),!R0()){let{name:p,type:b,value:_}=i;if(b==="image"){let S=p?`${p}.`:"";f.append(`${S}x`,"0"),f.append(`${S}y`,"0")}else p&&f.append(p,_)}}else{if(hs(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ls,s=null,c=rs,h=i}return f&&c==="text/plain"&&(h=f,f=void 0),{action:s,method:r.toLowerCase(),encType:c,formData:f,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yc(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function C0(i,a,r,s){let c=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${s}`:c.pathname=`${c.pathname}.${s}`:c.pathname==="/"?c.pathname=`_root.${s}`:a&&En(c.pathname,a)==="/"?c.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${s}`,c}async function N0(i,a){if(i.id in a)return a[i.id];try{let r=await import(i.module);return a[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U0(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function k0(i,a,r){let s=await Promise.all(i.map(async c=>{let f=a.routes[c.route.id];if(f){let h=await N0(f,r);return h.links?h.links():[]}return[]}));return B0(s.flat(1).filter(U0).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Lm(i,a,r,s,c,f){let h=(g,p)=>r[p]?g.route.id!==r[p].route.id:!0,m=(g,p)=>r[p].pathname!==g.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==g.params["*"];return f==="assets"?a.filter((g,p)=>h(g,p)||m(g,p)):f==="data"?a.filter((g,p)=>{let b=s.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let _=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function D0(i,a,{includeHydrateFallback:r}={}){return z0(i.map(s=>{let c=a.routes[s.route.id];if(!c)return[];let f=[c.module];return c.clientActionModule&&(f=f.concat(c.clientActionModule)),c.clientLoaderModule&&(f=f.concat(c.clientLoaderModule)),r&&c.hydrateFallbackModule&&(f=f.concat(c.hydrateFallbackModule)),c.imports&&(f=f.concat(c.imports)),f}).flat(1))}function z0(i){return[...new Set(i)]}function M0(i){let a={},r=Object.keys(i).sort();for(let s of r)a[s]=i[s];return a}function B0(i,a){let r=new Set;return new Set(a),i.reduce((s,c)=>{let f=JSON.stringify(M0(c));return r.has(f)||(r.add(f),s.push({key:f,link:c})),s},[])}function Eg(){let i=R.useContext(wi);return yc(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function L0(){let i=R.useContext(fs);return yc(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var vc=R.createContext(void 0);vc.displayName="FrameworkContext";function xg(){let i=R.useContext(vc);return yc(i,"You must render this element inside a <HydratedRouter> element"),i}function q0(i,a){let r=R.useContext(vc),[s,c]=R.useState(!1),[f,h]=R.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:b,onTouchStart:_}=a,S=R.useRef(null);R.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let j=L=>{L.forEach(z=>{h(z.isIntersecting)})},k=new IntersectionObserver(j,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[i]),R.useEffect(()=>{if(s){let j=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(j)}}},[s]);let w=()=>{c(!0)},A=()=>{c(!1),h(!1)};return r?i!=="intent"?[f,S,{}]:[f,S,{onFocus:bl(m,w),onBlur:bl(g,A),onMouseEnter:bl(p,w),onMouseLeave:bl(b,A),onTouchStart:bl(_,w)}]:[!1,S,{}]}function bl(i,a){return r=>{i&&i(r),r.defaultPrevented||a(r)}}function H0({page:i,...a}){let{router:r}=Eg(),s=R.useMemo(()=>og(r.routes,i,r.basename),[r.routes,i,r.basename]);return s?R.createElement(G0,{page:i,matches:s,...a}):null}function $0(i){let{manifest:a,routeModules:r}=xg(),[s,c]=R.useState([]);return R.useEffect(()=>{let f=!1;return k0(i,a,r).then(h=>{f||c(h)}),()=>{f=!0}},[i,a,r]),s}function G0({page:i,matches:a,...r}){let s=Wn(),{future:c,manifest:f,routeModules:h}=xg(),{basename:m}=Eg(),{loaderData:g,matches:p}=L0(),b=R.useMemo(()=>Lm(i,a,p,f,s,"data"),[i,a,p,f,s]),_=R.useMemo(()=>Lm(i,a,p,f,s,"assets"),[i,a,p,f,s]),S=R.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let j=new Set,k=!1;if(a.forEach(z=>{let M=f.routes[z.route.id];!M||!M.hasLoader||(!b.some(Q=>Q.route.id===z.route.id)&&z.route.id in g&&h[z.route.id]?.shouldRevalidate||M.hasClientLoader?k=!0:j.add(z.route.id))}),j.size===0)return[];let L=C0(i,m,c.unstable_trailingSlashAwareDataRequests,"data");return k&&j.size>0&&L.searchParams.set("_routes",a.filter(z=>j.has(z.route.id)).map(z=>z.route.id).join(",")),[L.pathname+L.search]},[m,c.unstable_trailingSlashAwareDataRequests,g,s,f,b,a,i,h]),w=R.useMemo(()=>D0(_,f),[_,f]),A=$0(_);return R.createElement(R.Fragment,null,S.map(j=>R.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),w.map(j=>R.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),A.map(({key:j,link:k})=>R.createElement("link",{key:j,nonce:r.nonce,...k,crossOrigin:k.crossOrigin??r.crossOrigin})))}function V0(...i){return a=>{i.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}var K0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{K0&&(window.__reactRouterVersion="7.13.0")}catch{}function Y0({basename:i,children:a,unstable_useTransitions:r,window:s}){let c=R.useRef();c.current==null&&(c.current=Tv({window:s,v5Compat:!0}));let f=c.current,[h,m]=R.useState({action:f.action,location:f.location}),g=R.useCallback(p=>{r===!1?m(p):R.startTransition(()=>m(p))},[r]);return R.useLayoutEffect(()=>f.listen(g),[f,g]),R.createElement(_0,{basename:i,children:a,location:h.location,navigationType:h.action,navigator:f,unstable_useTransitions:r})}var Tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_n=R.forwardRef(function({onClick:a,discover:r="render",prefetch:s="none",relative:c,reloadDocument:f,replace:h,state:m,target:g,to:p,preventScrollReset:b,viewTransition:_,unstable_defaultShouldRevalidate:S,...w},A){let{basename:j,unstable_useTransitions:k}=R.useContext(Ct),L=typeof p=="string"&&Tg.test(p),z=dg(p,j);p=z.to;let M=l0(p,{relative:c}),[Q,Y,F]=q0(s,w),V=Z0(p,{replace:h,state:m,target:g,preventScrollReset:b,relative:c,viewTransition:_,unstable_defaultShouldRevalidate:S,unstable_useTransitions:k});function le(Le){a&&a(Le),Le.defaultPrevented||V(Le)}let ie=R.createElement("a",{...w,...F,href:z.absoluteURL||M,onClick:z.isExternal||f?a:le,ref:V0(A,Y),target:g,"data-discover":!L&&r==="render"?"true":void 0});return Q&&!L?R.createElement(R.Fragment,null,ie,R.createElement(H0,{page:M})):ie});_n.displayName="Link";var X0=R.forwardRef(function({"aria-current":a="page",caseSensitive:r=!1,className:s="",end:c=!1,style:f,to:h,viewTransition:m,children:g,...p},b){let _=Ul(h,{relative:p.relative}),S=Wn(),w=R.useContext(fs),{navigator:A,basename:j}=R.useContext(Ct),k=w!=null&&eb(_)&&m===!0,L=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,z=S.pathname,M=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(z=z.toLowerCase(),M=M?M.toLowerCase():null,L=L.toLowerCase()),M&&j&&(M=En(M,j)||M);const Q=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let Y=z===L||!c&&z.startsWith(L)&&z.charAt(Q)==="/",F=M!=null&&(M===L||!c&&M.startsWith(L)&&M.charAt(L.length)==="/"),V={isActive:Y,isPending:F,isTransitioning:k},le=Y?a:void 0,ie;typeof s=="function"?ie=s(V):ie=[s,Y?"active":null,F?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Le=typeof f=="function"?f(V):f;return R.createElement(_n,{...p,"aria-current":le,className:ie,ref:b,style:Le,to:h,viewTransition:m},typeof g=="function"?g(V):g)});X0.displayName="NavLink";var Q0=R.forwardRef(({discover:i="render",fetcherKey:a,navigate:r,reloadDocument:s,replace:c,state:f,method:h=ls,action:m,onSubmit:g,relative:p,preventScrollReset:b,viewTransition:_,unstable_defaultShouldRevalidate:S,...w},A)=>{let{unstable_useTransitions:j}=R.useContext(Ct),k=W0(),L=F0(m,{relative:p}),z=h.toLowerCase()==="get"?"get":"post",M=typeof m=="string"&&Tg.test(m),Q=Y=>{if(g&&g(Y),Y.defaultPrevented)return;Y.preventDefault();let F=Y.nativeEvent.submitter,V=F?.getAttribute("formmethod")||h,le=()=>k(F||Y.currentTarget,{fetcherKey:a,method:V,navigate:r,replace:c,state:f,relative:p,preventScrollReset:b,viewTransition:_,unstable_defaultShouldRevalidate:S});j&&r!==!1?R.startTransition(()=>le()):le()};return R.createElement("form",{ref:A,method:z,action:L,onSubmit:s?g:Q,...w,"data-discover":!M&&i==="render"?"true":void 0})});Q0.displayName="Form";function J0(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ag(i){let a=R.useContext(wi);return Be(a,J0(i)),a}function Z0(i,{target:a,replace:r,state:s,preventScrollReset:c,relative:f,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=bg(),b=Wn(),_=Ul(i,{relative:f});return R.useCallback(S=>{if(A0(S,a)){S.preventDefault();let w=r!==void 0?r:xl(b)===xl(_),A=()=>p(i,{replace:w,state:s,preventScrollReset:c,relative:f,viewTransition:h,unstable_defaultShouldRevalidate:m});g?R.startTransition(()=>A()):A()}},[b,p,_,r,s,a,i,c,f,h,m,g])}var I0=0,P0=()=>`__${String(++I0)}__`;function W0(){let{router:i}=Ag("useSubmit"),{basename:a}=R.useContext(Ct),r=p0(),s=i.fetch,c=i.navigate;return R.useCallback(async(f,h={})=>{let{action:m,method:g,encType:p,formData:b,body:_}=j0(f,a);if(h.navigate===!1){let S=h.fetcherKey||P0();await s(S,r,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:_,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await c(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:_,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:r,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,c,a,r])}function F0(i,{relative:a}={}){let{basename:r}=R.useContext(Ct),s=R.useContext(Wt);Be(s,"useFormAction must be used inside a RouteContext");let[c]=s.matches.slice(-1),f={...Ul(i||".",{relative:a})},h=Wn();if(i==null){f.search=h.search;let m=new URLSearchParams(f.search),g=m.getAll("index");if(g.some(b=>b==="")){m.delete("index"),g.filter(_=>_).forEach(_=>m.append("index",_));let b=m.toString();f.search=b?`?${b}`:""}}return(!i||i===".")&&c.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(f.pathname=f.pathname==="/"?r:Sn([r,f.pathname])),xl(f)}function eb(i,{relative:a}={}){let r=R.useContext(gg);Be(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ag("useViewTransitionState"),c=Ul(i,{relative:a});if(!r.isTransitioning)return!1;let f=En(r.currentLocation.pathname,s)||r.currentLocation.pathname,h=En(r.nextLocation.pathname,s)||r.nextLocation.pathname;return ss(c.pathname,h)!=null||ss(c.pathname,f)!=null}var tb=ug();function ds(i,a){var r={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.indexOf(s)<0&&(r[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(i);c<s.length;c++)a.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(i,s[c])&&(r[s[c]]=i[s[c]]);return r}function nb(i,a,r,s){function c(f){return f instanceof r?f:new r(function(h){h(f)})}return new(r||(r=Promise))(function(f,h){function m(b){try{p(s.next(b))}catch(_){h(_)}}function g(b){try{p(s.throw(b))}catch(_){h(_)}}function p(b){b.done?f(b.value):c(b.value).then(m,g)}p((s=s.apply(i,a||[])).next())})}const ab=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);class bc extends Error{constructor(a,r="FunctionsError",s){super(a),this.name=r,this.context=s}}class ib extends bc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class qm extends bc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Hm extends bc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var tc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(tc||(tc={}));class lb{constructor(a,{headers:r={},customFetch:s,region:c=tc.Any}={}){this.url=a,this.headers=r,this.region=c,this.fetch=ab(s)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return nb(this,arguments,void 0,function*(r,s={}){var c;let f,h;try{const{headers:m,method:g,body:p,signal:b,timeout:_}=s;let S={},{region:w}=s;w||(w=this.region);const A=new URL(`${this.url}/${r}`);w&&w!=="any"&&(S["x-region"]=w,A.searchParams.set("forceFunctionRegion",w));let j;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",j=p):typeof p=="string"?(S["Content-Type"]="text/plain",j=p):typeof FormData<"u"&&p instanceof FormData?j=p:(S["Content-Type"]="application/json",j=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?j=JSON.stringify(p):j=p;let k=b;_&&(h=new AbortController,f=setTimeout(()=>h.abort(),_),b?(k=h.signal,b.addEventListener("abort",()=>h.abort())):k=h.signal);const L=yield this.fetch(A.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),m),body:j,signal:k}).catch(Y=>{throw new ib(Y)}),z=L.headers.get("x-relay-error");if(z&&z==="true")throw new qm(L);if(!L.ok)throw new Hm(L);let M=((c=L.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),Q;return M==="application/json"?Q=yield L.json():M==="application/octet-stream"||M==="application/pdf"?Q=yield L.blob():M==="text/event-stream"?Q=L:M==="multipart/form-data"?Q=yield L.formData():Q=yield L.text(),{data:Q,error:null,response:L}}catch(m){return{data:null,error:m,response:m instanceof Hm||m instanceof qm?m.context:void 0}}finally{f&&clearTimeout(f)}})}}var rb=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},sb=class{constructor(i){var a,r;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(r=i.isMaybeSingle)!==null&&r!==void 0?r:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let c=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{let h=null,m=null,g=null,p=f.status,b=f.statusText;if(f.ok){var _,S;if(r.method!=="HEAD"){var w;const L=await f.text();L===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((w=r.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?m=L:m=JSON.parse(L))}const j=(_=r.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),k=(S=f.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");j&&k&&k.length>1&&(g=parseInt(k[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(m)&&(m.length>1?(h={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,p=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var A;const j=await f.text();try{h=JSON.parse(j),Array.isArray(h)&&f.status===404&&(m=[],h=null,p=200,b="OK")}catch{f.status===404&&j===""?(p=204,b="No Content"):h={message:j}}if(h&&r.isMaybeSingle&&(!(h==null||(A=h.details)===null||A===void 0)&&A.includes("0 rows"))&&(h=null,p=200,b="OK"),h&&r.shouldThrowOnError)throw new rb(h)}return{error:h,data:m,count:g,status:p,statusText:b}});return this.shouldThrowOnError||(c=c.catch(f=>{var h;let m="";const g=f?.cause;if(g){var p,b,_,S;const A=(p=g?.message)!==null&&p!==void 0?p:"",j=(b=g?.code)!==null&&b!==void 0?b:"";m=`${(_=f?.name)!==null&&_!==void 0?_:"FetchError"}: ${f?.message}`,m+=`

Caused by: ${(S=g?.name)!==null&&S!==void 0?S:"Error"}: ${A}`,j&&(m+=` (${j})`),g?.stack&&(m+=`
${g.stack}`)}else{var w;m=(w=f?.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(h=f?.name)!==null&&h!==void 0?h:"FetchError"}: ${f?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,a)}returns(){return this}overrideTypes(){return this}},ub=class extends sb{select(i){let a=!1;const r=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:r,foreignTable:s,referencedTable:c=s}={}){const f=c?`${c}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:r=a}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:r,referencedTable:s=r}={}){const c=typeof s>"u"?"offset":`${s}.offset`,f=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:r=!1,buffers:s=!1,wal:c=!1,format:f="text"}={}){var h;const m=[i?"analyze":null,a?"verbose":null,r?"settings":null,s?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${g}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const $m=new RegExp("[,()]");var gi=class extends ub{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}regexMatch(i,a){return this.url.searchParams.append(i,`match.${a}`),this}regexIMatch(i,a){return this.url.searchParams.append(i,`imatch.${a}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}isDistinct(i,a){return this.url.searchParams.append(i,`isdistinct.${a}`),this}in(i,a){const r=Array.from(new Set(a)).map(s=>typeof s=="string"&&$m.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(i,`in.(${r})`),this}notIn(i,a){const r=Array.from(new Set(a)).map(s=>typeof s=="string"&&$m.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(i,`not.in.(${r})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:r,type:s}={}){let c="";s==="plain"?c="pl":s==="phrase"?c="ph":s==="websearch"&&(c="w");const f=r===void 0?"":`(${r})`;return this.url.searchParams.append(i,`${c}fts${f}.${a}`),this}match(i){return Object.entries(i).forEach(([a,r])=>{this.url.searchParams.append(a,`eq.${r}`)}),this}not(i,a,r){return this.url.searchParams.append(i,`not.${a}.${r}`),this}or(i,{foreignTable:a,referencedTable:r=a}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${i})`),this}filter(i,a,r){return this.url.searchParams.append(i,`${a}.${r}`),this}},ob=class{constructor(i,{headers:a={},schema:r,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=r,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,a){const{head:r=!1,count:s}=a??{},c=r?"HEAD":"GET";let f=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join(""),{url:m,headers:g}=this.cloneRequestState();return m.searchParams.set("select",h),s&&g.append("Prefer",`count=${s}`),new gi({method:c,url:m,headers:g,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:r=!0}={}){var s;const c="POST",{url:f,headers:h}=this.cloneRequestState();if(a&&h.append("Prefer",`count=${a}`),r||h.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(m.length>0){const g=[...new Set(m)].map(p=>`"${p}"`);f.searchParams.set("columns",g.join(","))}}return new gi({method:c,url:f,headers:h,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:r=!1,count:s,defaultToNull:c=!0}={}){var f;const h="POST",{url:m,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),a!==void 0&&m.searchParams.set("on_conflict",a),s&&g.append("Prefer",`count=${s}`),c||g.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(p.length>0){const b=[...new Set(p)].map(_=>`"${_}"`);m.searchParams.set("columns",b.join(","))}}return new gi({method:h,url:m,headers:g,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var r;const s="PATCH",{url:c,headers:f}=this.cloneRequestState();return a&&f.append("Prefer",`count=${a}`),new gi({method:s,url:c,headers:f,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:i}={}){var a;const r="DELETE",{url:s,headers:c}=this.cloneRequestState();return i&&c.append("Prefer",`count=${i}`),new gi({method:r,url:s,headers:c,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},cb=class Rg{constructor(a,{headers:r={},schema:s,fetch:c}={}){this.url=a,this.headers=new Headers(r),this.schemaName=s,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ob(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Rg(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,r={},{head:s=!1,get:c=!1,count:f}={}){var h;let m;const g=new URL(`${this.url}/rpc/${a}`);let p;const b=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(b)),_=s&&Object.values(r).some(b);_?(m="POST",p=r):s||c?(m=s?"HEAD":"GET",Object.entries(r).filter(([w,A])=>A!==void 0).map(([w,A])=>[w,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([w,A])=>{g.searchParams.append(w,A)})):(m="POST",p=r);const S=new Headers(this.headers);return _?S.set("Prefer",f?`count=${f},return=minimal`:"return=minimal"):f&&S.set("Prefer",`count=${f}`),new gi({method:m,url:g,headers:S,schema:this.schemaName,body:p,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class fb{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const s=r.versions;if(s&&s.node){const c=s.node,f=parseInt(c.replace(/^v/,"").split(".")[0]);return f>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${f} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${f} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const s=this.getWebSocketConstructor();return new s(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const hb="2.93.3",db=`realtime-js/${hb}`,mb="1.0.0",Og="2.0.0",Gm=Og,nc=1e4,gb=1e3,pb=100;var In;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(In||(In={}));var Pe;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Pe||(Pe={}));var Xt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Xt||(Xt={}));var ac;(function(i){i.websocket="websocket"})(ac||(ac={}));var wa;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(wa||(wa={}));class yb{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,r){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(a));let s=[a.join_ref,a.ref,a.topic,a.event,a.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(a){var r;return this._isArrayBuffer((r=a.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var r,s;const c=(s=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var r,s;const c=(s=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(a,r,s){var c,f;const h=a.topic,m=(c=a.ref)!==null&&c!==void 0?c:"",g=(f=a.join_ref)!==null&&f!==void 0?f:"",p=a.payload.event,b=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},_=Object.keys(b).length===0?"":JSON.stringify(b);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+h.length+p.length+_.length,w=new ArrayBuffer(this.HEADER_LENGTH+S);let A=new DataView(w),j=0;A.setUint8(j++,this.KINDS.userBroadcastPush),A.setUint8(j++,g.length),A.setUint8(j++,m.length),A.setUint8(j++,h.length),A.setUint8(j++,p.length),A.setUint8(j++,_.length),A.setUint8(j++,r),Array.from(g,L=>A.setUint8(j++,L.charCodeAt(0))),Array.from(m,L=>A.setUint8(j++,L.charCodeAt(0))),Array.from(h,L=>A.setUint8(j++,L.charCodeAt(0))),Array.from(p,L=>A.setUint8(j++,L.charCodeAt(0))),Array.from(_,L=>A.setUint8(j++,L.charCodeAt(0)));var k=new Uint8Array(w.byteLength+s.byteLength);return k.set(new Uint8Array(w),0),k.set(new Uint8Array(s),w.byteLength),k.buffer}decode(a,r){if(this._isArrayBuffer(a)){let s=this._binaryDecode(a);return r(s)}if(typeof a=="string"){const s=JSON.parse(a),[c,f,h,m,g]=s;return r({join_ref:c,ref:f,topic:h,event:m,payload:g})}return r({})}_binaryDecode(a){const r=new DataView(a),s=r.getUint8(0),c=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,r,c)}_decodeUserBroadcast(a,r,s){const c=r.getUint8(1),f=r.getUint8(2),h=r.getUint8(3),m=r.getUint8(4);let g=this.HEADER_LENGTH+4;const p=s.decode(a.slice(g,g+c));g=g+c;const b=s.decode(a.slice(g,g+f));g=g+f;const _=s.decode(a.slice(g,g+h));g=g+h;const S=a.slice(g,a.byteLength),w=m===this.JSON_ENCODING?JSON.parse(s.decode(S)):S,A={type:this.BROADCAST_EVENT,event:b,payload:w};return h>0&&(A.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(a){var r;return a instanceof ArrayBuffer||((r=a?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(a,r){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([s])=>r.includes(s)))}}class jg{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(ke||(ke={}));const Vm=(i,a,r={})=>{var s;const c=(s=r.skipTypes)!==null&&s!==void 0?s:[];return a?Object.keys(a).reduce((f,h)=>(f[h]=vb(h,i,a,c),f),{}):{}},vb=(i,a,r,s)=>{const c=a.find(m=>m.name===i),f=c?.type,h=r[i];return f&&!s.includes(f)?Cg(f,h):ic(h)},Cg=(i,a)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return Sb(a,r)}switch(i){case ke.bool:return bb(a);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return _b(a);case ke.json:case ke.jsonb:return wb(a);case ke.timestamp:return Eb(a);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return ic(a);default:return ic(a)}},ic=i=>i,bb=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},_b=i=>{if(typeof i=="string"){const a=parseFloat(i);if(!Number.isNaN(a))return a}return i},wb=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},Sb=(i,a)=>{if(typeof i!="string")return i;const r=i.length-1,s=i[r];if(i[0]==="{"&&s==="}"){let f;const h=i.slice(1,r);try{f=JSON.parse("["+h+"]")}catch{f=h?h.split(","):[]}return f.map(m=>Cg(a,m))}return i},Eb=i=>typeof i=="string"?i.replace(" ","T"):i,Ng=i=>{const a=new URL(i);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Yo{constructor(a,r,s={},c=nc){this.channel=a,this.event=r,this.payload=s,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var s;return this._hasReceived(a)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(s=>s.status===a).forEach(s=>s.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Km;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Km||(Km={}));class Sl{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},c=>{const{onJoin:f,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sl.syncState(this.state,c,f,h),this.pendingDiffs.forEach(g=>{this.state=Sl.syncDiff(this.state,g,f,h)}),this.pendingDiffs=[],m()}),this.channel._on(s.diff,{},c=>{const{onJoin:f,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Sl.syncDiff(this.state,c,f,h),m())}),this.onJoin((c,f,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:f,newPresences:h})}),this.onLeave((c,f,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:f,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,s,c){const f=this.cloneDeep(a),h=this.transformState(r),m={},g={};return this.map(f,(p,b)=>{h[p]||(g[p]=b)}),this.map(h,(p,b)=>{const _=f[p];if(_){const S=b.map(k=>k.presence_ref),w=_.map(k=>k.presence_ref),A=b.filter(k=>w.indexOf(k.presence_ref)<0),j=_.filter(k=>S.indexOf(k.presence_ref)<0);A.length>0&&(m[p]=A),j.length>0&&(g[p]=j)}else m[p]=b}),this.syncDiff(f,{joins:m,leaves:g},s,c)}static syncDiff(a,r,s,c){const{joins:f,leaves:h}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),c||(c=()=>{}),this.map(f,(m,g)=>{var p;const b=(p=a[m])!==null&&p!==void 0?p:[];if(a[m]=this.cloneDeep(g),b.length>0){const _=a[m].map(w=>w.presence_ref),S=b.filter(w=>_.indexOf(w.presence_ref)<0);a[m].unshift(...S)}s(m,b,g)}),this.map(h,(m,g)=>{let p=a[m];if(!p)return;const b=g.map(_=>_.presence_ref);p=p.filter(_=>b.indexOf(_.presence_ref)<0),a[m]=p,c(m,p,g),p.length===0&&delete a[m]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(s=>r(s,a[s]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,s)=>{const c=a[s];return"metas"in c?r[s]=c.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):r[s]=c,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ym;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Ym||(Ym={}));var El;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(El||(El={}));var wn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(wn||(wn={}));class vi{constructor(a,r={config:{}},s){var c,f;if(this.topic=a,this.params=r,this.socket=s,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Yo(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new jg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new Sl(this),this.broadcastEndpointURL=Ng(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var s,c,f;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:h,presence:m,private:g}}=this.params,p=(c=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(w=>w.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[El.PRESENCE]&&this.bindings[El.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,_={},S={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(w=>a?.(wn.CHANNEL_ERROR,w)),this._onClose(()=>a?.(wn.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){a?.(wn.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,k=(A=j?.length)!==null&&A!==void 0?A:0,L=[];for(let z=0;z<k;z++){const M=j[z],{filter:{event:Q,schema:Y,table:F,filter:V}}=M,le=w&&w[z];if(le&&le.event===Q&&vi.isFilterValueEqual(le.schema,Y)&&vi.isFilterValueEqual(le.table,F)&&vi.isFilterValueEqual(le.filter,V))L.push(Object.assign(Object.assign({},M),{id:le.id}));else{this.unsubscribe(),this.state=Pe.errored,a?.(wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,a&&a(wn.SUBSCRIBED);return}}).receive("error",w=>{this.state=Pe.errored,a?.(wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{a?.(wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,s){return this.state===Pe.joined&&a===El.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,r,s)}async httpSend(a,r,s={}){var c;if(r==null)return Promise.reject("Payload is required for httpSend()");const f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=s.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const p=await m.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(a,r={}){var s,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:h}=a,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((c=p.body)===null||c===void 0?void 0:c.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var h,m,g;const p=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((g=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&f("ok"),p.receive("ok",()=>f("ok")),p.receive("error",()=>f("error")),p.receive("timeout",()=>f("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(c=>{s=new Yo(this,Xt.leave,{},a),s.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(a,r,s){const c=new AbortController,f=setTimeout(()=>c.abort(),s),h=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(f),h}_push(a,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Yo(this,a,r,s);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>pb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,s){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,s){var c,f;const h=a.toLocaleLowerCase(),{close:m,error:g,leave:p,join:b}=Xt;if(s&&[m,g,p,b].indexOf(h)>=0&&s!==this._joinRef())return;let S=this._onMessage(h,r,s);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(w=>{var A,j,k;return((A=w.filter)===null||A===void 0?void 0:A.event)==="*"||((k=(j=w.filter)===null||j===void 0?void 0:j.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===h}).map(w=>w.callback(S,s)):(f=this.bindings[h])===null||f===void 0||f.filter(w=>{var A,j,k,L,z,M;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in w){const Q=w.id,Y=(A=w.filter)===null||A===void 0?void 0:A.event;return Q&&((j=r.ids)===null||j===void 0?void 0:j.includes(Q))&&(Y==="*"||Y?.toLocaleLowerCase()===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const Q=(z=(L=w?.filter)===null||L===void 0?void 0:L.event)===null||z===void 0?void 0:z.toLocaleLowerCase();return Q==="*"||Q===((M=r?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===h}).map(w=>{if(typeof S=="object"&&"ids"in S){const A=S.data,{schema:j,table:k,commit_timestamp:L,type:z,errors:M}=A;S=Object.assign(Object.assign({},{schema:j,table:k,commit_timestamp:L,eventType:z,new:{},old:{},errors:M}),this._getPayloadRecords(A))}w.callback(S,s)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,s){const c=a.toLocaleLowerCase(),f={type:c,filter:r,callback:s};return this.bindings[c]?this.bindings[c].push(f):this.bindings[c]=[f],this}_off(a,r){const s=a.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(c=>{var f;return!(((f=c.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===s&&vi.isEqual(c.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const s in a)if(a[s]!==r[s])return!1;return!0}static isFilterValueEqual(a,r){return(a??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Xt.close,{},a)}_onError(a){this._on(Xt.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=Vm(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=Vm(a.columns,a.old_record)),r}}const Xo=()=>{},Fr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xb=[1e3,2e3,5e3,1e4],Tb=1e4,Ab=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rb{constructor(a,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nc,this.transport=null,this.heartbeatIntervalMs=Fr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xo,this.ref=0,this.reconnectTimer=null,this.vsn=Gm,this.logger=Xo,this.conn=null,this.sendBuffer=[],this.serializer=new yb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...f)=>c(...f):(...f)=>fetch(...f),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${ac.websocket}`,this.httpEndpoint=Ng(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fb.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,s){this.logger(a,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case In.connecting:return wa.Connecting;case In.open:return wa.Open;case In.closing:return wa.Closing;default:return wa.Closed}}isConnected(){return this.connectionState()===wa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const s=`realtime:${a}`,c=this.getChannels().find(f=>f.topic===s);if(c)return c;{const f=new vi(`realtime:${a}`,r,this);return this.channels.push(f),f}}push(a){const{topic:r,event:s,payload:c,ref:f}=a,h=()=>{this.encode(a,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${r} ${s} (${f})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(gb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(s=>s.topic===a&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:c,payload:f,ref:h}=r,m=h?`(${h})`:"",g=f.status||"";this.log("receive",`${g} ${s} ${c} ${m}`.trim(),f),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(c,f,h)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===In.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===In.open||this.conn.readyState===In.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(Xt.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const s=a.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${a}${s}${c}`}_workerObjectUrl(a){let r;if(a)r=a;else{const s=new Blob([Ab],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r,s=!1;if(a)r=a,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(c=>{const f={access_token:r,version:db};r&&c.updateJoinPayload(f),c.joinedOnce&&c._isJoined()&&c._push(Xt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(s=>{try{s(r)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(s){this.log("error",`error triggering ${a} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new jg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,s,c,f,h,m,g,p,b,_,S,w;switch(this.transport=(r=a?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=a?.timeout)!==null&&s!==void 0?s:nc,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:Fr.HEARTBEAT_INTERVAL,this.worker=(f=a?.worker)!==null&&f!==void 0?f:!1,this.accessToken=(h=a?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:Xo,this.vsn=(g=a?.vsn)!==null&&g!==void 0?g:Gm,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=a?.reconnectAfterMs)!==null&&p!==void 0?p:(A=>xb[A-1]||Tb),this.vsn){case mb:this.encode=(b=a?.encode)!==null&&b!==void 0?b:((A,j)=>j(JSON.stringify(A))),this.decode=(_=a?.decode)!==null&&_!==void 0?_:((A,j)=>j(JSON.parse(A)));break;case Og:this.encode=(S=a?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(w=a?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Tl=class extends Error{constructor(i,a){super(i),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ob(i,a,r){const s=new URL(a,i);if(r)for(const[c,f]of Object.entries(r))f!==void 0&&s.searchParams.set(c,f);return s.toString()}async function jb(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Cb(i){const a=i.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:c,body:f,headers:h}){const m=Ob(i.baseUrl,s,c),g=await jb(i.auth),p=await a(m,{method:r,headers:{...f?{"Content-Type":"application/json"}:{},...g,...h},body:f?JSON.stringify(f):void 0}),b=await p.text(),_=(p.headers.get("content-type")||"").includes("application/json"),S=_&&b?JSON.parse(b):b;if(!p.ok){const w=_?S:void 0,A=w?.error;throw new Tl(A?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:A?.type,icebergCode:A?.code,details:w})}return{status:p.status,headers:p.headers,data:S}}}}function es(i){return i.join("")}var Nb=class{constructor(i,a=""){this.client=i,this.prefix=a}async listNamespaces(i){const a=i?{parent:es(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(i,a){const r={namespace:i.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${es(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${es(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${es(i.namespace)}`}),!0}catch(a){if(a instanceof Tl&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(i,a){try{return await this.createNamespace(i,a)}catch(r){if(r instanceof Tl&&r.status===409)return;throw r}}};function oi(i){return i.join("")}var Ub=class{constructor(i,a="",r){this.client=i,this.prefix=a,this.accessDelegation=r}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${oi(i.namespace)}/tables`})).data.identifiers}async createTable(i,a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${oi(i.namespace)}/tables`,body:a,headers:r})).data.metadata}async updateTable(i,a){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${oi(i.namespace)}/tables/${i.name}`,body:a});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(i,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${oi(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(i){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${oi(i.namespace)}/tables/${i.name}`,headers:a})).data.metadata}async tableExists(i){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${oi(i.namespace)}/tables/${i.name}`,headers:a}),!0}catch(r){if(r instanceof Tl&&r.status===404)return!1;throw r}}async createTableIfNotExists(i,a){try{return await this.createTable(i,a)}catch(r){if(r instanceof Tl&&r.status===409)return await this.loadTable({namespace:i.namespace,name:a.name});throw r}}},kb=class{constructor(i){let a="v1";i.catalogName&&(a+=`/${i.catalogName}`);const r=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Cb({baseUrl:r,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new Nb(this.client,a),this.tableOps=new Ub(this.client,a,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,a){return this.namespaceOps.createNamespace(i,a)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,a){return this.tableOps.createTable(i,a)}async updateTable(i,a){return this.tableOps.updateTable(i,a)}async dropTable(i,a){await this.tableOps.dropTable(i,a)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,a){return this.namespaceOps.createNamespaceIfNotExists(i,a)}async createTableIfNotExists(i,a){return this.tableOps.createTableIfNotExists(i,a)}},ms=class extends Error{constructor(i,a="storage",r,s){super(i),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=s}};function gs(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var ts=class extends ms{constructor(i,a,r,s="storage"){super(i,s,a,r),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ug=class extends ms{constructor(i,a,r="storage"){super(i,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const Db=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),zb=i=>{if(typeof i!="object"||i===null)return!1;const a=Object.getPrototypeOf(i);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},lc=i=>{if(Array.isArray(i))return i.map(r=>lc(r));if(typeof i=="function"||i!==Object(i))return i;const a={};return Object.entries(i).forEach(([r,s])=>{const c=r.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));a[c]=lc(s)}),a},Mb=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Al(i){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Al(i)}function Bb(i,a){if(Al(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var s=r.call(i,a);if(Al(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}function Lb(i){var a=Bb(i,"string");return Al(a)=="symbol"?a:a+""}function qb(i,a,r){return(a=Lb(a))in i?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i}function Xm(i,a){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);a&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),r.push.apply(r,s)}return r}function oe(i){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Xm(Object(r),!0).forEach(function(s){qb(i,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Xm(Object(r)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(r,s))})}return i}const Qm=i=>{var a;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(a=i.error)===null||a===void 0?void 0:a.message)||JSON.stringify(i)},Hb=async(i,a,r,s)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!r?.noResolveJson){const c=i,f=c.status||500;if(typeof c.json=="function")c.json().then(h=>{const m=h?.statusCode||h?.code||f+"";a(new ts(Qm(h),f,m,s))}).catch(()=>{if(s==="vectors"){const h=f+"";a(new ts(c.statusText||`HTTP ${f} error`,f,h,s))}else{const h=f+"";a(new ts(c.statusText||`HTTP ${f} error`,f,h,s))}});else{const h=f+"";a(new ts(c.statusText||`HTTP ${f} error`,f,h,s))}}else a(new Ug(Qm(i),i,s))},$b=(i,a,r,s)=>{const c={method:i,headers:a?.headers||{}};return i==="GET"||i==="HEAD"||!s?oe(oe({},c),r):(zb(s)?(c.headers=oe({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(s)):c.body=s,a?.duplex&&(c.duplex=a.duplex),oe(oe({},c),r))};async function _l(i,a,r,s,c,f,h){return new Promise((m,g)=>{i(r,$b(a,s,c,f)).then(p=>{if(!p.ok)throw p;if(s?.noResolveJson)return p;if(h==="vectors"){const b=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!b||!b.includes("application/json"))return{}}return p.json()}).then(p=>m(p)).catch(p=>Hb(p,g,s,h))})}function kg(i="storage"){return{get:async(a,r,s,c)=>_l(a,"GET",r,s,c,void 0,i),post:async(a,r,s,c,f)=>_l(a,"POST",r,c,f,s,i),put:async(a,r,s,c,f)=>_l(a,"PUT",r,c,f,s,i),head:async(a,r,s,c)=>_l(a,"HEAD",r,oe(oe({},s),{},{noResolveJson:!0}),c,void 0,i),remove:async(a,r,s,c,f)=>_l(a,"DELETE",r,c,f,s,i)}}const Gb=kg("storage"),{get:Rl,post:Yt,put:rc,head:Vb,remove:_c}=Gb,jt=kg("vectors");var Ei=class{constructor(i,a={},r,s="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=a,this.fetch=Db(r),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(i){var a=this;try{return{data:await i(),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}}},Kb=class{constructor(i,a){this.downloadFn=i,this.shouldThrowOnError=a}then(i,a){return this.execute().then(i,a)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(gs(a))return{data:null,error:a};throw a}}};let Dg;Dg=Symbol.toStringTag;var Yb=class{constructor(i,a){this.downloadFn=i,this.shouldThrowOnError=a,this[Dg]="BlobDownloadBuilder",this.promise=null}asStream(){return new Kb(this.downloadFn,this.shouldThrowOnError)}then(i,a){return this.getPromise().then(i,a)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(gs(a))return{data:null,error:a};throw a}}};const Xb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Qb=class extends Ei{constructor(i,a={},r,s){super(i,a,s,"storage"),this.bucketId=r}async uploadOrUpdate(i,a,r,s){var c=this;return c.handleOperation(async()=>{let f;const h=oe(oe({},Jm),s);let m=oe(oe({},c.headers),i==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),g&&f.append("metadata",c.encodeMetadata(g)),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.has("cacheControl")||f.append("cacheControl",h.cacheControl),g&&!f.has("metadata")&&f.append("metadata",c.encodeMetadata(g))):(f=r,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,g&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(g))),(typeof ReadableStream<"u"&&f instanceof ReadableStream||f&&typeof f=="object"&&"pipe"in f&&typeof f.pipe=="function")&&!h.duplex&&(h.duplex="half")),s?.headers&&(m=oe(oe({},m),s.headers));const p=c._removeEmptyFolders(a),b=c._getFinalPath(p),_=await(i=="PUT"?rc:Yt)(c.fetch,`${c.url}/object/${b}`,f,oe({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{path:p,id:_.Id,fullPath:_.Key}})}async upload(i,a,r){return this.uploadOrUpdate("POST",i,a,r)}async uploadToSignedUrl(i,a,r,s){var c=this;const f=c._removeEmptyFolders(i),h=c._getFinalPath(f),m=new URL(c.url+`/object/upload/sign/${h}`);return m.searchParams.set("token",a),c.handleOperation(async()=>{let g;const p=oe({upsert:Jm.upsert},s),b=oe(oe({},c.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType),{path:f,fullPath:(await rc(c.fetch,m.toString(),g,{headers:b})).Key}})}async createSignedUploadUrl(i,a){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(i);const c=oe({},r.headers);a?.upsert&&(c["x-upsert"]="true");const f=await Yt(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:c}),h=new URL(r.url+f.url),m=h.searchParams.get("token");if(!m)throw new ms("No token returned by API");return{signedUrl:h.toString(),path:i,token:m}})}async update(i,a,r){return this.uploadOrUpdate("PUT",i,a,r)}async move(i,a,r){var s=this;return s.handleOperation(async()=>await Yt(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:i,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:s.headers}))}async copy(i,a,r){var s=this;return s.handleOperation(async()=>({path:(await Yt(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:i,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(i,a,r){var s=this;return s.handleOperation(async()=>{let c=s._getFinalPath(i),f=await Yt(s.fetch,`${s.url}/object/sign/${c}`,oe({expiresIn:a},r?.transform?{transform:r.transform}:{}),{headers:s.headers});const h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${s.url}${f.signedURL}${h}`)}})}async createSignedUrls(i,a,r){var s=this;return s.handleOperation(async()=>{const c=await Yt(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:a,paths:i},{headers:s.headers}),f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return c.map(h=>oe(oe({},h),{},{signedUrl:h.signedURL?encodeURI(`${s.url}${h.signedURL}${f}`):null}))})}download(i,a){const r=typeof a?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(a?.transform||{}),c=s?`?${s}`:"",f=this._getFinalPath(i),h=()=>Rl(this.fetch,`${this.url}/${r}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new Yb(h,this.shouldThrowOnError)}async info(i){var a=this;const r=a._getFinalPath(i);return a.handleOperation(async()=>lc(await Rl(a.fetch,`${a.url}/object/info/${r}`,{headers:a.headers})))}async exists(i){var a=this;const r=a._getFinalPath(i);try{return await Vb(a.fetch,`${a.url}/object/${r}`,{headers:a.headers}),{data:!0,error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(gs(s)&&s instanceof Ug){const c=s.originalError;if([400,404].includes(c?.status))return{data:!1,error:s}}throw s}}getPublicUrl(i,a){const r=this._getFinalPath(i),s=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&s.push(c);const f=typeof a?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(a?.transform||{});h!==""&&s.push(h);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${r}${m}`)}}}async remove(i){var a=this;return a.handleOperation(async()=>await _c(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:i},{headers:a.headers}))}async list(i,a,r){var s=this;return s.handleOperation(async()=>{const c=oe(oe(oe({},Xb),a),{},{prefix:i||""});return await Yt(s.fetch,`${s.url}/object/list/${s.bucketId}`,c,{headers:s.headers},r)})}async listV2(i,a){var r=this;return r.handleOperation(async()=>{const s=oe({},i);return await Yt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},a)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const a=[];return i.width&&a.push(`width=${i.width}`),i.height&&a.push(`height=${i.height}`),i.resize&&a.push(`resize=${i.resize}`),i.format&&a.push(`format=${i.format}`),i.quality&&a.push(`quality=${i.quality}`),a.join("&")}};const Jb="2.93.3",kl={"X-Client-Info":`storage-js/${Jb}`};var Zb=class extends Ei{constructor(i,a={},r,s){const c=new URL(i);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const f=c.href.replace(/\/$/,""),h=oe(oe({},kl),a);super(f,h,r,"storage")}async listBuckets(i){var a=this;return a.handleOperation(async()=>{const r=a.listBucketOptionsToQueryString(i);return await Rl(a.fetch,`${a.url}/bucket${r}`,{headers:a.headers})})}async getBucket(i){var a=this;return a.handleOperation(async()=>await Rl(a.fetch,`${a.url}/bucket/${i}`,{headers:a.headers}))}async createBucket(i,a={public:!1}){var r=this;return r.handleOperation(async()=>await Yt(r.fetch,`${r.url}/bucket`,{id:i,name:i,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}))}async updateBucket(i,a){var r=this;return r.handleOperation(async()=>await rc(r.fetch,`${r.url}/bucket/${i}`,{id:i,name:i,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(i){var a=this;return a.handleOperation(async()=>await Yt(a.fetch,`${a.url}/bucket/${i}/empty`,{},{headers:a.headers}))}async deleteBucket(i){var a=this;return a.handleOperation(async()=>await _c(a.fetch,`${a.url}/bucket/${i}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(i){const a={};return i&&("limit"in i&&(a.limit=String(i.limit)),"offset"in i&&(a.offset=String(i.offset)),i.search&&(a.search=i.search),i.sortColumn&&(a.sortColumn=i.sortColumn),i.sortOrder&&(a.sortOrder=i.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},Ib=class extends Ei{constructor(i,a={},r){const s=i.replace(/\/$/,""),c=oe(oe({},kl),a);super(s,c,r,"storage")}async createBucket(i){var a=this;return a.handleOperation(async()=>await Yt(a.fetch,`${a.url}/bucket`,{name:i},{headers:a.headers}))}async listBuckets(i){var a=this;return a.handleOperation(async()=>{const r=new URLSearchParams;i?.limit!==void 0&&r.set("limit",i.limit.toString()),i?.offset!==void 0&&r.set("offset",i.offset.toString()),i?.sortColumn&&r.set("sortColumn",i.sortColumn),i?.sortOrder&&r.set("sortOrder",i.sortOrder),i?.search&&r.set("search",i.search);const s=r.toString(),c=s?`${a.url}/bucket?${s}`:`${a.url}/bucket`;return await Rl(a.fetch,c,{headers:a.headers})})}async deleteBucket(i){var a=this;return a.handleOperation(async()=>await _c(a.fetch,`${a.url}/bucket/${i}`,{},{headers:a.headers}))}from(i){var a=this;if(!Mb(i))throw new ms("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new kb({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(c,f){const h=c[f];return typeof h!="function"?h:async(...m)=>{try{return{data:await h.apply(c,m),error:null}}catch(g){if(s)throw g;return{data:null,error:g}}}}})}},Pb=class extends Ei{constructor(i,a={},r){const s=i.replace(/\/$/,""),c=oe(oe({},kl),{},{"Content-Type":"application/json"},a);super(s,c,r,"vectors")}async createIndex(i){var a=this;return a.handleOperation(async()=>await jt.post(a.fetch,`${a.url}/CreateIndex`,i,{headers:a.headers})||{})}async getIndex(i,a){var r=this;return r.handleOperation(async()=>await jt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:i,indexName:a},{headers:r.headers}))}async listIndexes(i){var a=this;return a.handleOperation(async()=>await jt.post(a.fetch,`${a.url}/ListIndexes`,i,{headers:a.headers}))}async deleteIndex(i,a){var r=this;return r.handleOperation(async()=>await jt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:i,indexName:a},{headers:r.headers})||{})}},Wb=class extends Ei{constructor(i,a={},r){const s=i.replace(/\/$/,""),c=oe(oe({},kl),{},{"Content-Type":"application/json"},a);super(s,c,r,"vectors")}async putVectors(i){var a=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await jt.post(a.fetch,`${a.url}/PutVectors`,i,{headers:a.headers})||{})}async getVectors(i){var a=this;return a.handleOperation(async()=>await jt.post(a.fetch,`${a.url}/GetVectors`,i,{headers:a.headers}))}async listVectors(i){var a=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return a.handleOperation(async()=>await jt.post(a.fetch,`${a.url}/ListVectors`,i,{headers:a.headers}))}async queryVectors(i){var a=this;return a.handleOperation(async()=>await jt.post(a.fetch,`${a.url}/QueryVectors`,i,{headers:a.headers}))}async deleteVectors(i){var a=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await jt.post(a.fetch,`${a.url}/DeleteVectors`,i,{headers:a.headers})||{})}},Fb=class extends Ei{constructor(i,a={},r){const s=i.replace(/\/$/,""),c=oe(oe({},kl),{},{"Content-Type":"application/json"},a);super(s,c,r,"vectors")}async createBucket(i){var a=this;return a.handleOperation(async()=>await jt.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:a.headers})||{})}async getBucket(i){var a=this;return a.handleOperation(async()=>await jt.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:i},{headers:a.headers}))}async listBuckets(i={}){var a=this;return a.handleOperation(async()=>await jt.post(a.fetch,`${a.url}/ListVectorBuckets`,i,{headers:a.headers}))}async deleteBucket(i){var a=this;return a.handleOperation(async()=>await jt.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:a.headers})||{})}},e_=class extends Fb{constructor(i,a={}){super(i,a.headers||{},a.fetch)}from(i){return new t_(this.url,this.headers,i,this.fetch)}async createBucket(i){var a=()=>super.createBucket,r=this;return a().call(r,i)}async getBucket(i){var a=()=>super.getBucket,r=this;return a().call(r,i)}async listBuckets(i={}){var a=()=>super.listBuckets,r=this;return a().call(r,i)}async deleteBucket(i){var a=()=>super.deleteBucket,r=this;return a().call(r,i)}},t_=class extends Pb{constructor(i,a,r,s){super(i,a,s),this.vectorBucketName=r}async createIndex(i){var a=()=>super.createIndex,r=this;return a().call(r,oe(oe({},i),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(i={}){var a=()=>super.listIndexes,r=this;return a().call(r,oe(oe({},i),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(i){var a=()=>super.getIndex,r=this;return a().call(r,r.vectorBucketName,i)}async deleteIndex(i){var a=()=>super.deleteIndex,r=this;return a().call(r,r.vectorBucketName,i)}index(i){return new n_(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},n_=class extends Wb{constructor(i,a,r,s,c){super(i,a,c),this.vectorBucketName=r,this.indexName=s}async putVectors(i){var a=()=>super.putVectors,r=this;return a().call(r,oe(oe({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(i){var a=()=>super.getVectors,r=this;return a().call(r,oe(oe({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(i={}){var a=()=>super.listVectors,r=this;return a().call(r,oe(oe({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(i){var a=()=>super.queryVectors,r=this;return a().call(r,oe(oe({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(i){var a=()=>super.deleteVectors,r=this;return a().call(r,oe(oe({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},a_=class extends Zb{constructor(i,a={},r,s){super(i,a,r,s)}from(i){return new Qb(this.url,this.headers,i,this.fetch)}get vectors(){return new e_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ib(this.url+"/iceberg",this.headers,this.fetch)}};const zg="2.93.3",pi=30*1e3,sc=3,Qo=sc*pi,i_="http://localhost:9999",l_="supabase.auth.token",r_={"X-Client-Info":`gotrue-js/${zg}`},uc="X-Supabase-Api-Version",Mg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},s_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,u_=600*1e3;class Ol extends Error{constructor(a,r,s){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function ee(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class o_ extends Ol{constructor(a,r,s){super(a,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function c_(i){return ee(i)&&i.name==="AuthApiError"}class Sa extends Ol{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class xn extends Ol{constructor(a,r,s,c){super(a,s,c),this.name=r,this.status=s}}class Ot extends xn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jo(i){return ee(i)&&i.name==="AuthSessionMissingError"}class ci extends xn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ns extends xn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class as extends xn{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function f_(i){return ee(i)&&i.name==="AuthImplicitGrantRedirectError"}class Zm extends xn{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class h_ extends xn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class oc extends xn{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function Zo(i){return ee(i)&&i.name==="AuthRetryableFetchError"}class Im extends xn{constructor(a,r,s){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class cc extends xn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const us="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pm=` 	
\r=`.split(""),d_=(()=>{const i=new Array(128);for(let a=0;a<i.length;a+=1)i[a]=-1;for(let a=0;a<Pm.length;a+=1)i[Pm[a].charCodeAt(0)]=-2;for(let a=0;a<us.length;a+=1)i[us[a].charCodeAt(0)]=a;return i})();function Wm(i,a,r){if(i!==null)for(a.queue=a.queue<<8|i,a.queuedBits+=8;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;r(us[s]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;r(us[s]),a.queuedBits-=6}}function Bg(i,a,r){const s=d_[i];if(s>-1)for(a.queue=a.queue<<6|s,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Fm(i){const a=[],r=h=>{a.push(String.fromCodePoint(h))},s={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},f=h=>{p_(h,s,r)};for(let h=0;h<i.length;h+=1)Bg(i.charCodeAt(h),c,f);return a.join("")}function m_(i,a){if(i<=127){a(i);return}else if(i<=2047){a(192|i>>6),a(128|i&63);return}else if(i<=65535){a(224|i>>12),a(128|i>>6&63),a(128|i&63);return}else if(i<=1114111){a(240|i>>18),a(128|i>>12&63),a(128|i>>6&63),a(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function g_(i,a){for(let r=0;r<i.length;r+=1){let s=i.charCodeAt(r);if(s>55295&&s<=56319){const c=(s-55296)*1024&65535;s=(i.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}m_(s,a)}}function p_(i,a,r){if(a.utf8seq===0){if(i<=127){r(i);return}for(let s=1;s<6;s+=1)if((i>>7-s&1)===0){a.utf8seq=s;break}if(a.utf8seq===2)a.codepoint=i&31;else if(a.utf8seq===3)a.codepoint=i&15;else if(a.utf8seq===4)a.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|i&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function bi(i){const a=[],r={queue:0,queuedBits:0},s=c=>{a.push(c)};for(let c=0;c<i.length;c+=1)Bg(i.charCodeAt(c),r,s);return new Uint8Array(a)}function y_(i){const a=[];return g_(i,r=>a.push(r)),new Uint8Array(a)}function Ea(i){const a=[],r={queue:0,queuedBits:0},s=c=>{a.push(c)};return i.forEach(c=>Wm(c,r,s)),Wm(null,r,s),a.join("")}function v_(i){return Math.round(Date.now()/1e3)+i}function b_(){return Symbol("auth-callback")}const rt=()=>typeof window<"u"&&typeof document<"u",va={tested:!1,writable:!1},Lg=()=>{if(!rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(va.tested)return va.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),va.tested=!0,va.writable=!0}catch{va.tested=!0,va.writable=!1}return va.writable};function __(i){const a={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,f)=>{a[f]=c})}catch{}return r.searchParams.forEach((s,c)=>{a[c]=s}),a}const qg=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),w_=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",yi=async(i,a,r)=>{await i.setItem(a,JSON.stringify(r))},ba=async(i,a)=>{const r=await i.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},lt=async(i,a)=>{await i.removeItem(a)};class ps{constructor(){this.promise=new ps.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}ps.promiseConstructor=Promise;function is(i){const a=i.split(".");if(a.length!==3)throw new cc("Invalid JWT structure");for(let s=0;s<a.length;s++)if(!s_.test(a[s]))throw new cc("JWT not in base64url format");return{header:JSON.parse(Fm(a[0])),payload:JSON.parse(Fm(a[1])),signature:bi(a[2]),raw:{header:a[0],payload:a[1]}}}async function S_(i){return await new Promise(a=>{setTimeout(()=>a(null),i)})}function E_(i,a){return new Promise((s,c)=>{(async()=>{for(let f=0;f<1/0;f++)try{const h=await i(f);if(!a(f,null,h)){s(h);return}}catch(h){if(!a(f,h)){c(h);return}}})()})}function x_(i){return("0"+i.toString(16)).substr(-2)}function T_(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let c="";for(let f=0;f<56;f++)c+=r.charAt(Math.floor(Math.random()*s));return c}return crypto.getRandomValues(a),Array.from(a,x_).join("")}async function A_(i){const r=new TextEncoder().encode(i),s=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(s);return Array.from(c).map(f=>String.fromCharCode(f)).join("")}async function R_(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await A_(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fi(i,a,r=!1){const s=T_();let c=s;r&&(c+="/PASSWORD_RECOVERY"),await yi(i,`${a}-code-verifier`,c);const f=await R_(s);return[f,s===f?"plain":"s256"]}const O_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function j_(i){const a=i.headers.get(uc);if(!a||!a.match(O_))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function C_(i){if(!i)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(i<=a)throw new Error("JWT has expired")}function N_(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const U_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hi(i){if(!U_.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Io(){const i={};return new Proxy(i,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function k_(i,a){return new Proxy(i,{get:(r,s,c)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const f=s.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,c)}return!a.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(r,s,c)}})}function eg(i){return JSON.parse(JSON.stringify(i))}const _a=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),D_=[502,503,504];async function tg(i){var a;if(!w_(i))throw new oc(_a(i),0);if(D_.includes(i.status))throw new oc(_a(i),i.status);let r;try{r=await i.json()}catch(f){throw new Sa(_a(f),f)}let s;const c=j_(i);if(c&&c.getTime()>=Mg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Im(_a(r),i.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(s==="session_not_found")throw new Ot}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((f,h)=>f&&typeof h=="string",!0))throw new Im(_a(r),i.status,r.weak_password.reasons);throw new o_(_a(r),i.status||500,s)}const z_=(i,a,r,s)=>{const c={method:i,headers:a?.headers||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(s),Object.assign(Object.assign({},c),r))};async function ue(i,a,r,s){var c;const f=Object.assign({},s?.headers);f[uc]||(f[uc]=Mg["2024-01-01"].name),s?.jwt&&(f.Authorization=`Bearer ${s.jwt}`);const h=(c=s?.query)!==null&&c!==void 0?c:{};s?.redirectTo&&(h.redirect_to=s.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await M_(i,a,r+m,{headers:f,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(g):{data:Object.assign({},g),error:null}}async function M_(i,a,r,s,c,f){const h=z_(a,s,c,f);let m;try{m=await i(r,Object.assign({},h))}catch(g){throw console.error(g),new oc(_a(g),0)}if(m.ok||await tg(m),s?.noResolveJson)return m;try{return await m.json()}catch(g){await tg(g)}}function Kt(i){var a;let r=null;q_(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=v_(i.expires_in)));const s=(a=i.user)!==null&&a!==void 0?a:i;return{data:{session:r,user:s},error:null}}function ng(i){const a=Kt(i);return!a.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(a.data.weak_password=i.weak_password),a}function Pn(i){var a;return{data:{user:(a=i.user)!==null&&a!==void 0?a:i},error:null}}function B_(i){return{data:i,error:null}}function L_(i){const{action_link:a,email_otp:r,hashed_token:s,redirect_to:c,verification_type:f}=i,h=ds(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:r,hashed_token:s,redirect_to:c,verification_type:f},g=Object.assign({},h);return{data:{properties:m,user:g},error:null}}function ag(i){return i}function q_(i){return i.access_token&&i.refresh_token&&i.expires_in}const Po=["global","local","others"];class H_{constructor({url:a="",headers:r={},fetch:s}){this.url=a,this.headers=r,this.fetch=qg(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=Po[0]){if(Po.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Po.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async inviteUserByEmail(a,r={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pn})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async generateLink(a){try{const{options:r}=a,s=ds(a,["options"]),c=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(c.new_email=s?.newEmail,delete c.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:L_,redirectTo:r?.redirectTo})}catch(r){if(ee(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Pn})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,s,c,f,h,m,g;try{const p={nextPage:null,lastPage:0,total:0},b=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(f=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:ag});if(b.error)throw b.error;const _=await b.json(),S=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,w=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return w.length>0&&(w.forEach(A=>{const j=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(A.split(";")[1].split("=")[1]);p[`${k}Page`]=j}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ee(p))return{data:{users:[]},error:p};throw p}}async getUserById(a){hi(a);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Pn})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){hi(a);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:Pn})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async deleteUser(a,r=!1){hi(a);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pn})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async _listFactors(a){hi(a.userId);try{const{data:r,error:s}=await ue(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:s}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _deleteFactor(a){hi(a.userId),hi(a.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,s,c,f,h,m,g;try{const p={nextPage:null,lastPage:0,total:0},b=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(f=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:ag});if(b.error)throw b.error;const _=await b.json(),S=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,w=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return w.length>0&&(w.forEach(A=>{const j=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(A.split(";")[1].split("=")[1]);p[`${k}Page`]=j}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ee(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(a){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _updateOAuthClient(a,r){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(a){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}}function ig(i={}){return{getItem:a=>i[a]||null,setItem:(a,r)=>{i[a]=r},removeItem:a=>{delete i[a]}}}const di={debug:!!(globalThis&&Lg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hg extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class $_ extends Hg{}async function G_(i,a,r){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,a);const s=new globalThis.AbortController;return a>0&&setTimeout(()=>{s.abort(),di.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async c=>{if(c){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,c.name);try{return await r()}finally{di.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,c.name)}}else{if(a===0)throw di.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new $_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(di.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function V_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $g(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function K_(i){return parseInt(i,16)}function Y_(i){const a=new TextEncoder().encode(i);return"0x"+Array.from(a,s=>s.toString(16).padStart(2,"0")).join("")}function X_(i){var a;const{chainId:r,domain:s,expirationTime:c,issuedAt:f=new Date,nonce:h,notBefore:m,requestId:g,resources:p,scheme:b,uri:_,version:S}=i;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((a=i.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const w=$g(i.address),A=b?`${b}://${s}`:s,j=i.statement?`${i.statement}
`:"",k=`${A} wants you to sign in with your Ethereum account:
${w}

${j}`;let L=`URI: ${_}
Version: ${S}
Chain ID: ${r}${h?`
Nonce: ${h}`:""}
Issued At: ${f.toISOString()}`;if(c&&(L+=`
Expiration Time: ${c.toISOString()}`),m&&(L+=`
Not Before: ${m.toISOString()}`),g&&(L+=`
Request ID: ${g}`),p){let z=`
Resources:`;for(const M of p){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);z+=`
- ${M}`}L+=z}return`${k}
${L}`}class Ze extends Error{constructor({message:a,code:r,cause:s,name:c}){var f;super(a,{cause:s}),this.__isWebAuthnError=!0,this.name=(f=c??(s instanceof Error?s.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=r}}class os extends Ze{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function Q_({error:i,options:a}){var r,s,c;const{publicKey:f}=a;if(!f)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((r=f.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(a.mediation==="conditional"&&((s=f.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((c=f.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Ze({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return f.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const h=window.location.hostname;if(Gg(h)){if(f.rp.id!==h)return new Ze({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new Ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function J_({error:i,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Ze({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const s=window.location.hostname;if(Gg(s)){if(r.rpId!==s)return new Ze({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class Z_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const I_=new Z_;function P_(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:a,user:r,excludeCredentials:s}=i,c=ds(i,["challenge","user","excludeCredentials"]),f=bi(a).buffer,h=Object.assign(Object.assign({},r),{id:bi(r.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:f,user:h});if(s&&s.length>0){m.excludeCredentials=new Array(s.length);for(let g=0;g<s.length;g++){const p=s[g];m.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:bi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function W_(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:a,allowCredentials:r}=i,s=ds(i,["challenge","allowCredentials"]),c=bi(a).buffer,f=Object.assign(Object.assign({},s),{challenge:c});if(r&&r.length>0){f.allowCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const m=r[h];f.allowCredentials[h]=Object.assign(Object.assign({},m),{id:bi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function F_(i){var a;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i;return{id:i.id,rawId:i.id,response:{attestationObject:Ea(new Uint8Array(i.response.attestationObject)),clientDataJSON:Ea(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function ew(i){var a;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i,s=i.getClientExtensionResults(),c=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Ea(new Uint8Array(c.authenticatorData)),clientDataJSON:Ea(new Uint8Array(c.clientDataJSON)),signature:Ea(new Uint8Array(c.signature)),userHandle:c.userHandle?Ea(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Gg(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function lg(){var i,a;return!!(rt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function tw(i){try{const a=await navigator.credentials.create(i);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new os("Browser returned unexpected credential type",a)}:{data:null,error:new os("Empty credential response",a)}}catch(a){return{data:null,error:Q_({error:a,options:i})}}}async function nw(i){try{const a=await navigator.credentials.get(i);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new os("Browser returned unexpected credential type",a)}:{data:null,error:new os("Empty credential response",a)}}catch(a){return{data:null,error:J_({error:a,options:i})}}}const aw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},iw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function cs(...i){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),r=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),s={};for(const c of i)if(c)for(const f in c){const h=c[f];if(h!==void 0)if(Array.isArray(h))s[f]=h;else if(r(h))s[f]=h;else if(a(h)){const m=s[f];a(m)?s[f]=cs(m,h):s[f]=cs(h)}else s[f]=h}return s}function lw(i,a){return cs(aw,i,a||{})}function rw(i,a){return cs(iw,i,a||{})}class sw{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:s,signal:c},f){var h;try{const{data:m,error:g}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!m)return{data:null,error:g};const p=c??I_.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:b}=m.webauthn.credential_options.publicKey;if(!b.name){const _=s;if(_)b.name=`${b.id}:${_}`;else{const w=(await this.client.getUser()).data.user,A=((h=w?.user_metadata)===null||h===void 0?void 0:h.name)||w?.email||w?.id||"User";b.name=`${b.id}:${A}`}}b.displayName||(b.displayName=b.name)}switch(m.webauthn.type){case"create":{const b=lw(m.webauthn.credential_options.publicKey,f?.create),{data:_,error:S}=await tw({publicKey:b,signal:p});return _?{data:{factorId:a,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}case"request":{const b=rw(m.webauthn.credential_options.publicKey,f?.request),{data:_,error:S}=await nw(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:b,signal:p}));return _?{data:{factorId:a,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}}}catch(m){return ee(m)?{data:null,error:m}:{data:null,error:new Sa("Unexpected error in challenge",m)}}}async _verify({challengeId:a,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:s})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!r)return{data:null,error:new Ol("rpId is required for WebAuthn authentication")};try{if(!lg())return{data:null,error:new Sa("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:s},signal:c},{request:f});if(!h)return{data:null,error:m};const{webauthn:g}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:s,credential_response:g.credential_response}})}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new Sa("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!r)return{data:null,error:new Ol("rpId is required for WebAuthn registration")};try{if(!lg())return{data:null,error:new Sa("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(b=>{var _;return(_=b.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===a&&S.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:m};const{data:g,error:p}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:c},{create:f});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:s,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new Sa("Unexpected error in register",h)}}}}V_();const uw={url:i_,storageKey:l_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:r_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function rg(i,a,r){return await r()}const mi={};class jl{get jwks(){var a,r;return(r=(a=mi[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){mi[this.storageKey]=Object.assign(Object.assign({},mi[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=mi[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){mi[this.storageKey]=Object.assign(Object.assign({},mi[this.storageKey]),{cachedAt:a})}constructor(a){var r,s,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const f=Object.assign(Object.assign({},uw),a);if(this.storageKey=f.storageKey,this.instanceID=(r=jl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,jl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.instanceID>0&&rt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=f.persistSession,this.autoRefreshToken=f.autoRefreshToken,this.admin=new H_({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=qg(f.fetch),this.lock=f.lock||rg,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,this.throwOnError=f.throwOnError,this.lockAcquireTimeout=f.lockAcquireTimeout,f.lock?this.lock=f.lock:this.persistSession&&rt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=G_:this.lock=rg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:Lg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ig(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=ig(this.memoryStorage)),rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zg}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let r={},s="none";if(rt()&&(r=__(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),rt()&&this.detectSessionInUrl&&s!=="none"){const{data:c,error:f}=await this._getSessionFromURL(r,s);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),f_(f)){const g=(a=f.details)===null||a===void 0?void 0:a.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:f}}return{error:f}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ee(r)?this._returnResult({error:r}):this._returnResult({error:new Sa("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,s,c;try{const f=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=a?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Kt}),{data:h,error:m}=f;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const g=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(f){if(ee(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signUp(a){var r,s,c;try{let f;if("email"in a){const{email:b,password:_,options:S}=a;let w=null,A=null;this.flowType==="pkce"&&([w,A]=await fi(this.storage,this.storageKey)),f=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:b,password:_,data:(r=S?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:w,code_challenge_method:A},xform:Kt})}else if("phone"in a){const{phone:b,password:_,options:S}=a;f=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:_,data:(s=S?.data)!==null&&s!==void 0?s:{},channel:(c=S?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Kt})}else throw new ns("You must provide either an email or phone number and a password");const{data:h,error:m}=f;if(m||!h)return await lt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(f){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithPassword(a){try{let r;if("email"in a){const{email:f,password:h,options:m}=a;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:ng})}else if("phone"in a){const{phone:f,password:h,options:m}=a;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:ng})}else throw new ns("You must provide either an email or phone number and a password");const{data:s,error:c}=r;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!s||!s.session||!s.user){const f=new ci;return this._returnResult({data:{user:null,session:null},error:f})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:c})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(a){var r,s,c,f;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=a.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(f=a.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,s,c,f,h,m,g,p,b,_,S;let w,A;if("message"in a)w=a.message,A=a.signature;else{const{chain:j,wallet:k,statement:L,options:z}=a;let M;if(rt())if(typeof k=="object")M=k;else{const ie=window;if("ethereum"in ie&&typeof ie.ethereum=="object"&&"request"in ie.ethereum&&typeof ie.ethereum.request=="function")M=ie.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=k}const Q=new URL((r=z?.url)!==null&&r!==void 0?r:window.location.href),Y=await M.request({method:"eth_requestAccounts"}).then(ie=>ie).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=$g(Y[0]);let V=(s=z?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!V){const ie=await M.request({method:"eth_chainId"});V=K_(ie)}const le={domain:Q.host,address:F,statement:L,uri:Q.href,version:"1",chainId:V,nonce:(c=z?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(f=z?.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=z?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=z?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=z?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(b=z?.signInWithEthereum)===null||b===void 0?void 0:b.resources};w=X_(le),A=await M.request({method:"personal_sign",params:[Y_(w),F]})}try{const{data:j,error:k}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:A},!((_=a.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=a.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Kt});if(k)throw k;if(!j||!j.session||!j.user){const L=new ci;return this._returnResult({data:{user:null,session:null},error:L})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:k})}catch(j){if(ee(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(a){var r,s,c,f,h,m,g,p,b,_,S,w;let A,j;if("message"in a)A=a.message,j=a.signature;else{const{chain:k,wallet:L,statement:z,options:M}=a;let Q;if(rt())if(typeof L=="object")Q=L;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))Q=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=L}const Y=new URL((r=M?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Q&&Q.signIn){const F=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),z?{statement:z}:null));let V;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")V=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)V=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)A=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),j=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${Y.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(c=(s=M?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((f=M?.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((h=M?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((m=M?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((p=M?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((_=(b=M?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||_===void 0)&&_.length?["Resources",...M.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const F=await Q.signMessage(new TextEncoder().encode(A),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=F}}try{const{data:k,error:L}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Ea(j)},!((S=a.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(w=a.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Kt});if(L)throw L;if(!k||!k.session||!k.user){const z=new ci;return this._returnResult({data:{user:null,session:null},error:z})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:L})}catch(k){if(ee(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(a){const r=await ba(this.storage,`${this.storageKey}-code-verifier`),[s,c]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new h_;const{data:f,error:h}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:s},xform:Kt});if(await lt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!f||!f.session||!f.user){const m=new ci;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign(Object.assign({},f),{redirectType:c??null}),error:h})}catch(f){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(f))return this._returnResult({data:{user:null,session:null,redirectType:null},error:f});throw f}}async signInWithIdToken(a){try{const{options:r,provider:s,token:c,access_token:f,nonce:h}=a,m=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:c,access_token:f,nonce:h,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Kt}),{data:g,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const b=new ci;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(a){var r,s,c,f,h;try{if("email"in a){const{email:m,options:g}=a;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await fi(this.storage,this.storageKey));const{error:_}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=g?.data)!==null&&r!==void 0?r:{},create_user:(s=g?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:b},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in a){const{phone:m,options:g}=a,{data:p,error:b}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g?.data)!==null&&c!==void 0?c:{},create_user:(f=g?.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:b})}throw new ns("You must provide either an email or phone number.")}catch(m){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var r,s;try{let c,f;"options"in a&&(c=(r=a.options)===null||r===void 0?void 0:r.redirectTo,f=(s=a.options)===null||s===void 0?void 0:s.captchaToken);const{data:h,error:m}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:f}}),redirectTo:c,xform:Kt});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,p=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(c){if(ee(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var r,s,c,f,h;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await fi(this.storage,this.storageKey));const p=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(s=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:B_});return!((f=p.data)===null||f===void 0)&&f.url&&rt()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:s}=a;if(s)throw s;if(!r)throw new Ot;const{error:c}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:s,type:c,options:f}=a,{error:h}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:s,type:c,options:f}=a,{data:h,error:m}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:c,gotrue_meta_security:{captcha_token:f?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new ns("You must provide either an email or phone number and a type")}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await ba(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const s=a.expires_at?a.expires_at*1e3-Date.now()<Qo:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",a.expires_at),!s){if(this.userStorage){const h=await ba(this.userStorage,this.storageKey+"-user");h?.user?a.user=h.user:a.user=Io()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=k_(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:f}=await this._callRefreshToken(a.refresh_token);return f?this._returnResult({data:{session:null},error:f}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(a){try{return a?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Pn}):await this._useSession(async r=>{var s,c,f;const{data:h,error:m}=r;if(m)throw m;return!(!((s=h.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0,xform:Pn})})}catch(r){if(ee(r))return Jo(r)&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async s=>{const{data:c,error:f}=s;if(f)throw f;if(!c.session)throw new Ot;const h=c.session;let m=null,g=null;this.flowType==="pkce"&&a.email!=null&&([m,g]=await fi(this.storage,this.storageKey));const{data:p,error:b}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:g}),jwt:h.access_token,xform:Pn});if(b)throw b;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(s){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Ot;const r=Date.now()/1e3;let s=r,c=!0,f=null;const{payload:h}=is(a.access_token);if(h.exp&&(s=h.exp,c=s<=r),c){const{data:m,error:g}=await this._callRefreshToken(a.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};f=m}else{const{data:m,error:g}=await this._getUser(a.access_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});f={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return this._returnResult({data:{user:f.user,session:f},error:null})}catch(r){if(ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var s;if(!a){const{data:h,error:m}=r;if(m)throw m;a=(s=h.session)!==null&&s!==void 0?s:void 0}if(!a?.refresh_token)throw new Ot;const{data:c,error:f}=await this._callRefreshToken(a.refresh_token);return f?this._returnResult({data:{user:null,session:null},error:f}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(a,r){try{if(!rt())throw new as("No browser detected.");if(a.error||a.error_description||a.error_code)throw new as(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Zm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new as("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Zm("No code detected.");const{data:z,error:M}=await this._exchangeCodeForSession(a.code);if(M)throw M;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:c,access_token:f,refresh_token:h,expires_in:m,expires_at:g,token_type:p}=a;if(!f||!m||!h||!p)throw new as("No session defined in URL");const b=Math.round(Date.now()/1e3),_=parseInt(m);let S=b+_;g&&(S=parseInt(g));const w=S-b;w*1e3<=pi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${_}s`);const A=S-_;b-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,S,b):b-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,S,b);const{data:j,error:k}=await this._getUser(f);if(k)throw k;const L={provider_token:s,provider_refresh_token:c,access_token:f,expires_in:_,expires_at:S,refresh_token:h,token_type:p,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:a.type},error:null})}catch(s){if(ee(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await ba(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:c,error:f}=r;if(f&&!Jo(f))return this._returnResult({error:f});const h=(s=c.session)===null||s===void 0?void 0:s.access_token;if(h){const{error:m}=await this.admin.signOut(h,a);if(m&&!(c_(m)&&(m.status===404||m.status===401||m.status===403)||Jo(m)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const r=b_(),s={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(a){return await this._useSession(async r=>{var s,c;try{const{data:{session:f},error:h}=r;if(h)throw h;await((s=this.stateChangeEmitters.get(a))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",a,"session",f)}catch(f){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",f),console.error(f)}})}async resetPasswordForEmail(a,r={}){let s=null,c=null;this.flowType==="pkce"&&([s,c]=await fi(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:s,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(f){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(f))return this._returnResult({data:null,error:f});throw f}}async getUserIdentities(){var a;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:s,error:c}=await this._useSession(async f=>{var h,m,g,p,b;const{data:_,error:S}=f;if(S)throw S;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=a.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",w,{headers:this.headers,jwt:(b=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return rt()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:a.provider,url:s?.url},error:null})}catch(s){if(ee(s))return this._returnResult({data:{provider:a.provider,url:null},error:s});throw s}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var s;try{const{error:c,data:{session:f}}=r;if(c)throw c;const{options:h,provider:m,token:g,access_token:p,nonce:b}=a,_=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=f?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:m,id_token:g,access_token:p,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Kt}),{data:S,error:w}=_;return w?this._returnResult({data:{user:null,session:null},error:w}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new ci}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:w}))}catch(c){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var s,c;const{data:f,error:h}=r;if(h)throw h;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(s=f.session)===null||s===void 0?void 0:s.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await E_(async c=>(c>0&&await S_(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Kt})),(c,f)=>{const h=200*Math.pow(2,c);return f&&Zo(f)&&Date.now()+h-s<pi})}catch(s){if(this._debug(r,"error",s),ee(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",s),rt()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:a,url:s},error:null}}async _recoverAndRefresh(){var a,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const c=await ba(this.storage,this.storageKey);if(c&&this.userStorage){let h=await ba(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await yi(this.userStorage,this.storageKey+"-user",h)),c.user=(a=h?.user)!==null&&a!==void 0?a:Io()}else if(c&&!c.user&&!c.user){const h=await ba(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await lt(this.storage,this.storageKey+"-user"),await yi(this.storage,this.storageKey,c)):c.user=Io()}if(this._debug(s,"session from storage",c),!this._isValidSession(c)){this._debug(s,"session is not valid"),c!==null&&await this._removeSession();return}const f=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Qo;if(this._debug(s,`session has${f?"":" not"} expired with margin of ${Qo}s`),f){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),Zo(h)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(s,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(s,"error",c),console.error(c);return}finally{this._debug(s,"end")}}async _callRefreshToken(a){var r,s;if(!a)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new ps;const{data:f,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!f.session)throw new Ot;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const m={data:f.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(f){if(this._debug(c,"error",f),ee(f)){const h={data:null,error:f};return Zo(f)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(h),h}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(f),f}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,r,s=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:a,session:r});const f=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,r)}catch(g){f.push(g)}});if(await Promise.all(h),f.length>0){for(let m=0;m<f.length;m+=1)console.error(f[m]);throw f[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await lt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},a),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await yi(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const f=eg(c);await yi(this.storage,this.storageKey,f)}else{const c=eg(r);await yi(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await lt(this.storage,this.storageKey),await lt(this.storage,this.storageKey+"-code-verifier"),await lt(this.storage,this.storageKey+"-user"),this.userStorage&&await lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&rt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),pi);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((s.expires_at*1e3-a)/pi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${pi}ms, refresh threshold is ${sc} ticks`),c<=sc&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Hg)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,s){const c=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&c.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[f,h]=await fi(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(s?.queryParams){const f=new URLSearchParams(s.queryParams);c.push(f.toString())}return s?.skipBrowserRedirect&&c.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var s;const{data:c,error:f}=r;return f?this._returnResult({data:null,error:f}):await ue(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(a){try{return await this._useSession(async r=>{var s,c;const{data:f,error:h}=r;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:g,error:p}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(s=f?.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(a.factorType==="totp"&&g.type==="totp"&&(!((c=g?.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:c,error:f}=r;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?F_(a.webauthn.credential_response):ew(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:g}=await ue(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:c,error:f}=r;if(f)return this._returnResult({data:null,error:f});const h=await ue(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:P_(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:W_(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(a){const{data:r,error:s}=await this._challenge({factorId:a.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const c={all:[],phone:[],totp:[],webauthn:[]};for(const f of(a=r?.factors)!==null&&a!==void 0?a:[])c.all.push(f),f.status==="verified"&&c[f.factor_type].push(f);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(a){var r,s,c,f;if(a)try{const{payload:w}=is(a);let A=null;w.aal&&(A=w.aal);let j=A;const{data:{user:k},error:L}=await this.getUser(a);if(L)return this._returnResult({data:null,error:L});((s=(r=k?.factors)===null||r===void 0?void 0:r.filter(Q=>Q.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(j="aal2");const M=w.amr||[];return{data:{currentLevel:A,nextLevel:j,currentAuthenticationMethods:M},error:null}}catch(w){if(ee(w))return this._returnResult({data:null,error:w});throw w}const{data:{session:h},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=is(h.access_token);let p=null;g.aal&&(p=g.aal);let b=p;((f=(c=h.user.factors)===null||c===void 0?void 0:c.filter(w=>w.status==="verified"))!==null&&f!==void 0?f:[]).length>0&&(b="aal2");const S=g.amr||[];return{data:{currentLevel:p,nextLevel:b,currentAuthenticationMethods:S},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async r=>{const{data:{session:s},error:c}=r;return c?this._returnResult({data:null,error:c}):s?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:s.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(a,r){try{return await this._useSession(async s=>{const{data:{session:c},error:f}=s;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new Ot});const h=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&rt()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(a,r){try{return await this._useSession(async s=>{const{data:{session:c},error:f}=s;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new Ot});const h=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&rt()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:r},error:s}=a;return s?this._returnResult({data:null,error:s}):r?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(a){if(ee(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async r=>{const{data:{session:s},error:c}=r;return c?this._returnResult({data:null,error:c}):s?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ot})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(a,r={keys:[]}){let s=r.keys.find(m=>m.kid===a);if(s)return s;const c=Date.now();if(s=this.jwks.keys.find(m=>m.kid===a),s&&this.jwks_cached_at+u_>c)return s;const{data:f,error:h}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=c,s=f.keys.find(m=>m.kid===a),!s)?null:s}async getClaims(a,r={}){try{let s=a;if(!s){const{data:w,error:A}=await this.getSession();if(A||!w.session)return this._returnResult({data:null,error:A});s=w.session.access_token}const{header:c,payload:f,signature:h,raw:{header:m,payload:g}}=is(s);r?.allowExpired||C_(f.exp);const p=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:f,header:c,signature:h},error:null}}const b=N_(c.alg),_=await crypto.subtle.importKey("jwk",p,b,!0,["verify"]);if(!await crypto.subtle.verify(b,_,h,y_(`${m}.${g}`)))throw new cc("Invalid JWT signature");return{data:{claims:f,header:c,signature:h},error:null}}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}}jl.nextInstanceID={};const ow=jl,cw="2.93.3";let wl="";typeof Deno<"u"?wl="deno":typeof document<"u"?wl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wl="react-native":wl="node";const fw={"X-Client-Info":`supabase-js-${wl}/${cw}`},hw={headers:fw},dw={schema:"public"},mw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gw={};function Cl(i){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Cl(i)}function pw(i,a){if(Cl(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var s=r.call(i,a);if(Cl(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}function yw(i){var a=pw(i,"string");return Cl(a)=="symbol"?a:a+""}function vw(i,a,r){return(a=yw(a))in i?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i}function sg(i,a){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);a&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),r.push.apply(r,s)}return r}function $e(i){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?sg(Object(r),!0).forEach(function(s){vw(i,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):sg(Object(r)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(r,s))})}return i}const bw=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),_w=()=>Headers,ww=(i,a,r)=>{const s=bw(r),c=_w();return async(f,h)=>{var m;const g=(m=await a())!==null&&m!==void 0?m:i;let p=new c(h?.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),s(f,$e($e({},h),{},{headers:p}))}};function Sw(i){return i.endsWith("/")?i:i+"/"}function Ew(i,a){var r,s;const{db:c,auth:f,realtime:h,global:m}=i,{db:g,auth:p,realtime:b,global:_}=a,S={db:$e($e({},g),c),auth:$e($e({},p),f),realtime:$e($e({},b),h),storage:{},global:$e($e($e({},_),m),{},{headers:$e($e({},(r=_?.headers)!==null&&r!==void 0?r:{}),(s=m?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return i.accessToken?S.accessToken=i.accessToken:delete S.accessToken,S}function xw(i){const a=i?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Sw(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Tw=class extends ow{constructor(i){super(i)}},Aw=class{constructor(i,a,r){var s,c;this.supabaseUrl=i,this.supabaseKey=a;const f=xw(i);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,m={db:dw,realtime:gw,auth:$e($e({},mw),{},{storageKey:h}),global:hw},g=Ew(r??{},m);if(this.storageKey=(s=g.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(c=g.global.headers)!==null&&c!==void 0?c:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(b,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=ww(a,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient($e({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new cb(new URL("rest/v1",f).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new a_(this.storageUrl.href,this.headers,this.fetch,r?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new lb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,a={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,a,r)}channel(i,a={config:{}}){return this.realtime.channel(i,a)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,a,r;if(i.accessToken)return await i.accessToken();const{data:s}=await i.auth.getSession();return(a=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:a,detectSessionInUrl:r,storage:s,userStorage:c,storageKey:f,flowType:h,lock:m,debug:g,throwOnError:p},b,_){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Tw({url:this.authUrl.href,headers:$e($e({},S),b),storageKey:f,autoRefreshToken:i,persistSession:a,detectSessionInUrl:r,storage:s,userStorage:c,flowType:h,lock:m,debug:g,throwOnError:p,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new Rb(this.realtimeUrl.href,$e($e({},i),{},{params:$e($e({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,a)=>{this._handleTokenChanged(i,"CLIENT",a?.access_token)})}_handleTokenChanged(i,a,r){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Rw=(i,a,r)=>new Aw(i,a,r);function Ow(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const a=i.version;if(a==null)return!1;const r=a.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Ow()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const jw="https://bixyjqbicsglnjhwfeqn.supabase.co",Cw="sb_publishable_4D_1yswNqlmzQ0nD4zrB8A_XsGCR7Cg",Ue=Rw(jw,Cw),Vg=R.createContext(),Nw=({children:i})=>{const[a,r]=R.useState(null),[s,c]=R.useState(null),[f,h]=R.useState(!0);R.useEffect(()=>{(async()=>{try{const{data:{session:_}}=await Ue.auth.getSession(),S=_?.user??null;if(r(S),S){const{data:w}=await Ue.from("profiles").select("*").eq("id",S.id).single();c(w)}}catch(_){console.error("Error checking auth session:",_)}finally{h(!1)}})();const p=setTimeout(()=>{h(!1)},3e3),{data:{subscription:b}}=Ue.auth.onAuthStateChange(async(_,S)=>{const w=S?.user??null;if(r(w),w){const{data:A}=await Ue.from("profiles").select("*").eq("id",w.id).single();c(A)}else c(null);h(!1)});return()=>{clearTimeout(p),b?.unsubscribe()}},[]);const m={signUp:g=>Ue.auth.signUp(g),signIn:g=>Ue.auth.signInWithPassword(g),signOut:()=>Ue.auth.signOut(),user:a,profile:s};return f?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-pink-500 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium",children:"Lade Benutzer..."})]})}):v.jsx(Vg.Provider,{value:m,children:i})},Ft=()=>R.useContext(Vg);function Uw(){const[i,a]=R.useState(!1),{user:r,profile:s,signOut:c}=Ft(),f=[{title:"Staffel",path:"/"},{title:"Kandidaten",path:"/candidates"},{title:"Matching Night",path:"/matching-night"},{title:"Match Box",path:"/matching-box"},{title:"Meine Predictions",path:"/my-predictions"},{title:"Predictions",path:"/predictions"}];return v.jsx("nav",{className:"bg-white/95 backdrop-blur-md w-full border-b border-gray-100 sticky top-0 z-50 shadow-sm transition-all duration-300",children:v.jsxs("div",{className:"items-center px-4 max-w-7xl mx-auto md:flex md:px-8",children:[v.jsxs("div",{className:"flex items-center justify-between py-3 md:py-4 md:block",children:[v.jsx(_n,{to:"/",children:v.jsx("h1",{className:"text-2xl font-extrabold bg-gradient-to-r from-pink-600 to-indigo-600 bg-clip-text text-transparent",children:"AYTO Solver"})}),v.jsx("div",{className:"md:hidden z-50 relative",children:v.jsx("button",{className:"text-gray-500 hover:text-pink-600 outline-none p-2 rounded-md transition-colors",onClick:()=>a(!i),children:i?v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}):v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})})})]}),tb.createPortal(v.jsx("div",{className:`fixed inset-0 bg-white z-[60] transform transition-transform duration-300 ease-in-out md:hidden ${i?"translate-x-0":"translate-x-full"} overflow-y-auto`,children:v.jsxs("div",{className:"flex flex-col items-center justify-start pt-24 min-h-full space-y-8 pb-10",children:[f.map((h,m)=>v.jsx(_n,{to:h.path,className:"text-2xl font-bold text-gray-900 hover:text-pink-600 transition-colors",onClick:()=>a(!1),children:h.title},m)),s?.role==="admin"&&v.jsx(_n,{to:"/admin",className:"text-2xl font-bold text-gray-900 hover:text-indigo-600 transition-colors",onClick:()=>a(!1),children:"Admin"}),v.jsx("div",{className:"pt-8 w-64",children:r?v.jsx("button",{onClick:()=>{c(),a(!1)},className:"block w-full py-4 text-center text-white bg-indigo-600 hover:bg-indigo-700 rounded-xl shadow-lg text-xl font-semibold transform hover:scale-105 transition-all",children:"Logout"}):v.jsx(_n,{to:"/auth",onClick:()=>a(!1),className:"block w-full py-4 text-center text-white bg-indigo-600 hover:bg-indigo-700 rounded-xl shadow-lg text-xl font-semibold transform hover:scale-105 transition-all",children:"Login"})})]})}),document.body),v.jsx("div",{className:"hidden md:flex flex-1 justify-center",children:v.jsxs("ul",{className:"justify-center items-center space-y-8 md:flex md:space-x-8 md:space-y-0",children:[f.map((h,m)=>v.jsx("li",{className:"text-gray-600 hover:text-pink-600 font-medium transition-colors",children:v.jsx(_n,{to:h.path,children:h.title})},m)),s?.role==="admin"&&v.jsx("li",{className:"text-gray-600 hover:text-indigo-600 font-medium transition-colors",children:v.jsx(_n,{to:"/admin",children:"Admin"})})]})}),v.jsx("div",{className:"hidden md:inline-block",children:r?v.jsx("button",{onClick:c,className:"py-2.5 px-6 text-white bg-indigo-600 hover:bg-indigo-700 rounded-full shadow-lg hover:shadow-xl transition-all font-medium",children:"Logout"}):v.jsx(_n,{to:"/auth",className:"py-2.5 px-6 text-white bg-indigo-600 hover:bg-indigo-700 rounded-full shadow-lg hover:shadow-xl transition-all font-medium",children:"Login"})})]})})}const Kg=R.createContext(),xa=()=>R.useContext(Kg),kw=({children:i})=>{const{profile:a}=Ft(),r=a?.role==="admin",[s,c]=R.useState([]),[f,h]=R.useState(null),[m,g]=R.useState(null),[p,b]=R.useState(!0),[_,S]=R.useState(!1),[w,A]=R.useState(null);R.useEffect(()=>{let X=!0;return(async()=>{b(!0);const re=setTimeout(()=>{X&&(b(!1),console.warn("fetchSeasons timed out, forcing loading false"))},15e3);try{const{data:te,error:N}=await Ue.from("seasons").select("*").order("created_at",{ascending:!0});if(X)if(N)console.error("Error fetching seasons:",N),A(N.message),c([]);else{c(te);const K=localStorage.getItem("ayto-currentSeasonId");K&&te.some(Z=>Z.id===parseInt(K))?h(parseInt(K)):te.length>0?h(te[0].id):h(null)}}catch(te){console.error("fetchSeasons exception:",te)}finally{X&&(b(!1),clearTimeout(re))}})(),()=>{X=!1}},[]),R.useEffect(()=>{let X=!0;return(async()=>{if(!f){X&&g(null);return}S(!0),A(null);const re=setTimeout(()=>{X&&(S(!1),console.warn("fetchCurrentSeasonDetails timed out, forcing loading false"))},15e3);try{const[{data:te,error:N},{data:K,error:Z},{data:Ee,error:_e},{data:T,error:G}]=await Promise.all([Ue.from("seasons").select("*").eq("id",f).single(),Ue.from("candidates").select("*").eq("season_id",f).order("name",{ascending:!0}),Ue.from("matching_nights").select("*").eq("season_id",f).order("created_at",{ascending:!0}),Ue.from("matching_boxes").select("*").eq("season_id",f).order("created_at",{ascending:!0})]);if(X){if(N)throw new Error(N.message);if(Z)throw new Error(Z.message);if(_e)throw new Error(_e.message);if(G)throw new Error(G.message);g({...te,candidates:K,matchingNights:Ee,truthBooths:T})}}catch(te){X&&(console.error("Error fetching season details:",te),A(te.message),g(null))}finally{X&&(S(!1),clearTimeout(re))}})(),()=>{X=!1}},[f]),R.useEffect(()=>{f!==null?localStorage.setItem("ayto-currentSeasonId",f.toString()):localStorage.removeItem("ayto-currentSeasonId")},[f]);const j=R.useCallback(async X=>{if(!r)return;const{data:ne,error:re}=await Ue.from("seasons").insert([{name:X}]).select().single();re?(console.error("Error adding season:",re),A(re.message)):(c(te=>[...te,ne]),h(ne.id))},[r]),k=R.useCallback(async X=>{if(!r||!window.confirm("Are you sure you want to delete this season? This action cannot be undone."))return;const{error:ne}=await Ue.from("seasons").delete().eq("id",X);ne?(console.error("Error deleting season:",ne),A(ne.message)):(c(re=>re.filter(te=>te.id!==X)),f===X&&h(null))},[r,f]),L=R.useCallback(X=>{h(X)},[]),z=R.useCallback(async(X,ne)=>{if(!r)return;const{data:re,error:te}=await Ue.from("candidates").insert([{...ne,season_id:X}]).select().single();te?(console.error("Error adding candidate:",te),A(te.message)):g(N=>({...N,candidates:[...N.candidates,re]}))},[r]),M=R.useCallback(async(X,ne)=>{if(!r||!window.confirm("Are you sure you want to delete this candidate?"))return;const{error:re}=await Ue.from("candidates").delete().eq("id",ne);re?(console.error("Error deleting candidate:",re),A(re.message)):g(te=>({...te,candidates:te.candidates.filter(N=>N.id!==ne)}))},[r]),Q=R.useCallback(async(X,ne,re)=>{if(!r)return;const{data:te,error:N}=await Ue.from("candidates").update(re).eq("id",ne).select().single();N?(console.error("Error updating candidate:",N),A(N.message)):g(K=>({...K,candidates:K.candidates.map(Z=>Z.id===ne?te:Z)}))},[r]),Y=R.useCallback(async(X,ne)=>{if(!r)return;const{data:re,error:te}=await Ue.from("matching_nights").insert([{...ne,season_id:X}]).select().single();te?(console.error("Error adding matching night:",te),A(te.message)):g(N=>({...N,matchingNights:[...N.matchingNights,re]}))},[r]),F=R.useCallback(async(X,ne)=>{if(!r||!window.confirm("Are you sure you want to delete this matching night?"))return;const{error:re}=await Ue.from("matching_nights").delete().eq("id",ne);re?(console.error("Error deleting matching night:",re),A(re.message)):g(te=>({...te,matchingNights:te.matchingNights.filter(N=>N.id!==ne)}))},[r]),V=R.useCallback(async(X,ne,re)=>{if(!r)return;const{data:te,error:N}=await Ue.from("matching_nights").update(re).eq("id",ne).select().single();N?(console.error("Error updating matching night:",N),A(N.message)):g(K=>({...K,matchingNights:K.matchingNights.map(Z=>Z.id===ne?te:Z)}))},[r]),le=R.useCallback(async(X,ne)=>{if(!r)return;const{data:re,error:te}=await Ue.from("matching_boxes").insert([{...ne,season_id:X}]).select().single();te?(console.error("Error adding matching box:",te),A(te.message)):g(N=>({...N,truthBooths:[...N.truthBooths,re]}))},[r]),ie=R.useCallback(async(X,ne)=>{if(!r||!window.confirm("Are you sure you want to delete this matching box entry?"))return;const{error:re}=await Ue.from("matching_boxes").delete().eq("id",ne);re?(console.error("Error deleting matching box:",re),A(re.message)):g(te=>({...te,truthBooths:te.truthBooths.filter(N=>N.id!==ne)}))},[r]),Le=R.useCallback(async(X,ne,re)=>{if(!r)return;const{data:te,error:N}=await Ue.from("matching_boxes").update(re).eq("id",ne).select().single();N?(console.error("Error updating matching box:",N),A(N.message)):g(K=>({...K,truthBooths:K.truthBooths.map(Z=>Z.id===ne?te:Z)}))},[r]),st=R.useCallback(async(X,ne)=>{console.warn("updateUserPredictions in SeasonContext might be redundant after full Supabase migration.")},[]);return v.jsx(Kg.Provider,{value:{seasons:s,currentSeason:m,addSeason:j,deleteSeason:k,selectSeason:L,addCandidate:z,deleteCandidate:M,updateCandidate:Q,addMatchingNight:Y,deleteMatchingNight:F,updateMatchingNight:V,addTruthBooth:le,deleteTruthBooth:ie,updateTruthBooth:Le,updateUserPredictions:st,loadingSeasons:p,loadingCurrentSeason:_,error:w,isAdmin:r},children:i})};function Dw(){const{seasons:i,currentSeason:a,addSeason:r,selectSeason:s,deleteSeason:c,loadingSeasons:f,error:h}=xa(),{profile:m}=Ft(),[g,p]=R.useState(""),b=m?.role==="admin",_=w=>{w.preventDefault(),g.trim()&&(r(g),p(""))},S=(w,A)=>{w.stopPropagation(),window.confirm("Are you sure you want to delete this season? This action cannot be undone.")&&c(A)};return f?v.jsx("div",{className:"p-8",children:"Loading seasons..."}):h?v.jsxs("div",{className:"p-8 text-red-500",children:["Error: ",h]}):v.jsxs("div",{className:"p-8",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Staffel Setup"}),b&&v.jsx("div",{className:"mb-8",children:v.jsxs("form",{onSubmit:_,className:"flex items-center gap-4",children:[v.jsx("input",{type:"text",value:g,onChange:w=>p(w.target.value),placeholder:"Neue Staffel erstellen",className:"border p-2 rounded-md w-full"}),v.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded-md",children:"Erstellen"})]})}),i.length>0?v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-xl font-bold mb-2",children:"Bestehende Staffeln"}),v.jsx("ul",{className:"space-y-2",children:i.map(w=>v.jsxs("li",{onClick:()=>s(w.id),className:`cursor-pointer p-2 rounded-md flex justify-between items-center ${a?.id===w.id?"bg-indigo-100":"hover:bg-gray-100"}`,children:[v.jsx("span",{children:w.name}),b&&v.jsx("button",{onClick:A=>S(A,w.id),className:"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600",children:"Lschen"})]},w.id))})]}):v.jsx("div",{className:"mb-8",children:v.jsxs("p",{children:["Keine Staffeln vorhanden. ",b&&"Erstelle eine neue Staffel."]})}),a&&v.jsx("div",{children:v.jsxs("h2",{className:"text-xl font-bold",children:["Aktuelle Staffel: ",a.name]})})]})}function zw(){const{currentSeason:i,addCandidate:a,deleteCandidate:r,updateCandidate:s,loadingCurrentSeason:c,error:f}=xa(),{profile:h}=Ft(),[m,g]=R.useState(""),[p,b]=R.useState(""),[_,S]=R.useState("Mann"),[w,A]=R.useState(null),[j,k]=R.useState(null),[L,z]=R.useState(""),M=h?.role==="admin";R.useEffect(()=>{k(null),g(""),b(""),S("Mann"),A(null),z("")},[i]);const Q=X=>{k(X.id),g(X.name),b(X.age||""),S(X.gender),z(X.profile_picture_url||"")},Y=()=>{k(null),g(""),b(""),S("Mann"),A(null),z("")},F=X=>{X.target.files&&X.target.files[0]?A(X.target.files[0]):A(null)},V=async X=>{if(X.preventDefault(),!m.trim()||!i||!M)return;let ne=L;if(w){const te=w.name.split(".").pop(),N=`${Math.random()}.${te}`,K=`${i.id}/${N}`,{error:Z,data:Ee}=await Ue.storage.from("candidate_pictures").upload(K,w,{cacheControl:"3600",upsert:!1});if(Z){alert("Error uploading profile picture: "+Z.message);return}const{data:{publicUrl:_e}}=Ue.storage.from("candidate_pictures").getPublicUrl(K);ne=_e}const re={name:m,age:p?parseInt(p):null,gender:_,profile_picture_url:ne};j?s(i.id,j,re):a(i.id,re),Y()};if(!i)return v.jsxs("div",{className:"p-8",children:[v.jsx("h1",{className:"text-2xl font-bold",children:"Kandidaten"}),v.jsx("p",{children:"Bitte whle zuerst eine Staffel aus."})]});if(c)return v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-pink-500"})});if(f)return v.jsxs("div",{className:"p-8 text-red-500",children:["Error: ",f]});const ie=i.truthBooths.filter(X=>X.isPerfectMatch).flatMap(X=>[parseInt(X.couple.man),parseInt(X.couple.woman)]),Le=i.candidates.filter(X=>X.gender==="Mann"),st=i.candidates.filter(X=>X.gender==="Frau");return v.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:[v.jsxs("h1",{className:"text-3xl font-extrabold mb-8 bg-gradient-to-r from-pink-600 to-indigo-600 bg-clip-text text-transparent",children:["Kandidaten fr ",i.name]}),M&&v.jsxs("div",{className:"mb-10 p-6 bg-white rounded-xl shadow-lg border border-gray-100",children:[v.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800 border-b pb-2",children:j?"Kandidat bearbeiten":"Neuen Kandidat hinzufgen"}),v.jsxs("form",{onSubmit:V,className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[v.jsxs("div",{className:"md:col-span-5",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),v.jsx("input",{type:"text",value:m,onChange:X=>g(X.target.value),placeholder:"z.B. Max",className:"match-input w-full",required:!0})]}),v.jsxs("div",{className:"md:col-span-3",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alter"}),v.jsx("input",{type:"number",value:p,onChange:X=>b(X.target.value),placeholder:"24",className:"match-input w-full"})]}),v.jsxs("div",{className:"md:col-span-4",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Geschlecht"}),v.jsxs("select",{value:_,onChange:X=>S(X.target.value),className:"match-input w-full",children:[v.jsx("option",{value:"Mann",children:"Mann"}),v.jsx("option",{value:"Frau",children:"Frau"})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profilbild"}),v.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-pink-400 transition-colors",children:v.jsxs("div",{className:"space-y-1 text-center",children:[L&&!w?v.jsxs("div",{className:"mb-2",children:[v.jsx("img",{src:L,alt:"Current",className:"mx-auto h-24 w-24 rounded-full object-cover"}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Aktuelles Bild"})]}):v.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:v.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),v.jsxs("div",{className:"flex text-sm text-gray-600 justify-center",children:[v.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-pink-600 hover:text-pink-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-pink-500",children:[v.jsx("span",{children:"Bild hochladen"}),v.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"image/*",onChange:F})]}),v.jsx("p",{className:"pl-1",children:"oder hierhin ziehen"})]}),v.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG bis zu 5MB"}),w&&v.jsxs("p",{className:"text-sm text-green-600 font-semibold mt-2",children:["Ausgewhlt: ",w.name]})]})})]}),v.jsxs("div",{className:"flex gap-3 pt-2",children:[v.jsx("button",{type:"submit",className:"save-button flex-1 md:flex-none md:w-40 justify-center",children:j?"Speichern":"Hinzufgen"}),j&&v.jsx("button",{type:"button",onClick:Y,className:"px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500",children:"Abbrechen"})]})]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[{title:"Mnner",data:Le,emptyMsg:"Noch keine Mnner hinzugefgt."},{title:"Frauen",data:st,emptyMsg:"Noch keine Frauen hinzugefgt."}].map(X=>v.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 flex flex-col h-full",children:[v.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-white px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-800",children:X.title}),v.jsx("span",{className:"bg-gray-100 text-gray-600 py-1 px-3 rounded-full text-xs font-bold",children:X.data.length})]}),X.data.length===0?v.jsx("div",{className:"p-8 text-center text-gray-400 italic",children:X.emptyMsg}):v.jsx("ul",{className:"divide-y divide-gray-100",children:X.data.map(ne=>{const re=ie.includes(ne.id);return v.jsxs("li",{className:`p-4 hover:bg-gray-50 transition-colors flex justify-between items-center group ${re?"opacity-60 bg-gray-50":""}`,children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:ne.profile_picture_url||`https://ui-avatars.com/api/?name=${ne.name.replace(/\s/g,"+")}&background=random`,alt:ne.name,className:`w-12 h-12 rounded-full object-cover border-2 shadow-sm ${re?"border-gray-300 grayscale":"border-white"}`}),re&&v.jsx("div",{className:"absolute -top-1 -right-1 bg-gray-200 rounded-full p-1 border border-white",children:v.jsx("svg",{className:"w-3 h-3 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})})]}),v.jsxs("div",{children:[v.jsxs("p",{className:`font-bold text-lg ${re?"text-gray-500":"text-gray-900"}`,children:[ne.name," ",ne.age&&v.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-1",children:["(",ne.age,")"]})]}),re&&v.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Perfect Match gefunden"})]})]}),M&&v.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[v.jsx("button",{onClick:()=>Q(ne),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-full",title:"Bearbeiten",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),v.jsx("button",{onClick:()=>r(i.id,ne.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full",title:"Lschen",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},ne.id)})})]},X.title))})]})}function Mw(){const{currentSeason:i,addMatchingNight:a,deleteMatchingNight:r,updateMatchingNight:s,loadingCurrentSeason:c,error:f}=xa(),{profile:h}=Ft(),[m,g]=R.useState([]),[p,b]=R.useState(0),[_,S]=R.useState(null),w=h?.role==="admin";if(R.useEffect(()=>{S(null),g([]),b(0)},[i]),!i)return v.jsxs("div",{className:"p-8",children:[v.jsx("h1",{className:"text-2xl font-bold",children:"Matching Night"}),v.jsx("p",{children:"Bitte whle zuerst eine Staffel aus."})]});if(c)return v.jsx("div",{className:"p-8",children:"Loading matching night data..."});if(f)return v.jsxs("div",{className:"p-8 text-red-500",children:["Error: ",f]});const A=i.candidates.filter(V=>V.gender==="Mann"),j=i.candidates.filter(V=>V.gender==="Frau");if(A.length===0||j.length===0)return v.jsxs("div",{className:"p-8",children:[v.jsx("h1",{className:"text-2xl font-bold",children:"Matching Night"}),v.jsx("p",{children:"Bitte fge zuerst Kandidaten hinzu (Mnner und Frauen)."})]});const k=Math.min(A.length,j.length),L=(V,le,ie)=>{const Le=[...m];Le[V]||(Le[V]={}),Le[V][le]=ie,g(Le)},z=V=>{S(V.id),g(V.couples),b(V.lights)},M=()=>{S(null),g([]),b(0)},Q=V=>{if(V.preventDefault(),!w)return;if(m.length<k||m.some(ie=>!ie.mann||!ie.frau)){alert("Please form all pairs.");return}const le={couples:m,lights:p};_?s(i.id,_,le):a(i.id,le),M()},Y=m.map(V=>V.mann),F=m.map(V=>V.frau);return v.jsxs("div",{className:"p-8",children:[v.jsxs("h1",{className:"text-2xl font-bold mb-4",children:["Matching Night fr ",i.name]}),w&&v.jsxs("form",{onSubmit:Q,className:"mb-8 p-4 border rounded-md",children:[v.jsx("h2",{className:"text-xl font-bold mb-2",children:_?"Matching Night bearbeiten":"Paare bilden"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:Array.from({length:k}).map((V,le)=>v.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-100 rounded-md",children:[v.jsxs("select",{value:m[le]?.mann||"",onChange:ie=>L(le,"mann",ie.target.value),className:"border p-2 rounded-md w-full",children:[v.jsx("option",{value:"",children:"Mann whlen"}),A.map(ie=>v.jsx("option",{value:ie.id,disabled:Y.includes(String(ie.id))&&m[le]?.mann!==String(ie.id),children:ie.name},ie.id))]}),v.jsx("span",{children:"+"}),v.jsxs("select",{value:m[le]?.frau||"",onChange:ie=>L(le,"frau",ie.target.value),className:"border p-2 rounded-md w-full",children:[v.jsx("option",{value:"",children:"Frau whlen"}),j.map(ie=>v.jsx("option",{value:ie.id,disabled:F.includes(String(ie.id))&&m[le]?.frau!==String(ie.id),children:ie.name},ie.id))]})]},le))}),v.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[v.jsx("label",{htmlFor:"lights",className:"font-bold",children:"Anzahl Lichter:"}),v.jsx("input",{type:"number",id:"lights",value:p,onChange:V=>b(parseInt(V.target.value,10)),min:"0",max:k,className:"border p-2 rounded-md w-24"})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded-md",children:_?"nderungen speichern":"Matching Night speichern"}),_&&v.jsx("button",{type:"button",onClick:M,className:"bg-gray-500 text-white px-4 py-2 rounded-md",children:"Abbrechen"})]})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-bold mb-2",children:"Bisherige Matching Nights"}),v.jsx("ul",{className:"space-y-4",children:i.matchingNights.map(V=>v.jsx("li",{className:"p-4 bg-gray-100 rounded-md",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsxs("p",{className:"font-bold",children:["Lichter: ",V.lights]}),v.jsx("ul",{className:"mt-2",children:V.couples.map((le,ie)=>{const Le=A.find(X=>X.id===parseInt(le.mann)),st=j.find(X=>X.id===parseInt(le.frau));return v.jsxs("li",{children:[Le?.name," & ",st?.name]},ie)})})]}),w&&v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>z(V),className:"bg-yellow-500 text-white px-3 py-1 rounded-md",children:"Bearbeiten"}),v.jsx("button",{onClick:()=>r(i.id,V.id),className:"bg-red-500 text-white px-3 py-1 rounded-md",children:"Lschen"})]})]})},V.id))})]})]})}function Bw(){const{currentSeason:i,addTruthBooth:a,deleteTruthBooth:r,updateTruthBooth:s,loadingCurrentSeason:c,error:f}=xa(),{profile:h}=Ft(),m=h?.role==="admin",[g,p]=R.useState(""),[b,_]=R.useState(""),[S,w]=R.useState(!0),[A,j]=R.useState(null);if(R.useEffect(()=>{j(null),p(""),_(""),w(!0)},[i]),!i)return v.jsxs("div",{className:"p-8",children:[v.jsx("h1",{className:"text-2xl font-bold",children:"Match Box"}),v.jsx("p",{children:"Bitte whle zuerst eine Staffel aus."})]});if(c)return v.jsx("div",{className:"p-8",children:"Loading matching box data..."});if(f)return v.jsxs("div",{className:"p-8 text-red-500",children:["Error: ",f]});const k=i.candidates.filter(Y=>Y.gender==="Mann"),L=i.candidates.filter(Y=>Y.gender==="Frau");if(k.length===0||L.length===0)return v.jsxs("div",{className:"p-8",children:[v.jsx("h1",{className:"text-2xl font-bold",children:"Match Box"}),v.jsx("p",{children:"Bitte fge zuerst Kandidaten hinzu (Mnner und Frauen)."})]});const z=Y=>{j(Y.id),p(Y.couple.man),_(Y.couple.woman),w(Y.isPerfectMatch)},M=()=>{j(null),p(""),_(""),w(!0)},Q=Y=>{if(Y.preventDefault(),!m)return;if(!g||!b){alert("Please select a couple.");return}const F={couple:{man:g,woman:b},isPerfectMatch:S};A?s(i.id,A,F):a(i.id,F),M()};return v.jsxs("div",{className:"p-8",children:[v.jsxs("h1",{className:"text-2xl font-bold mb-4",children:["Match Box fr ",i.name]}),m&&v.jsxs("form",{onSubmit:Q,className:"mb-8 p-4 border rounded-md",children:[v.jsx("h2",{className:"text-xl font-bold mb-2",children:A?"Match Box bearbeiten":"Paar in die Match Box schicken"}),v.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[v.jsxs("select",{value:g,onChange:Y=>p(Y.target.value),className:"border p-2 rounded-md w-full",children:[v.jsx("option",{value:"",children:"Mann whlen"}),k.map(Y=>v.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),v.jsx("span",{children:"&"}),v.jsxs("select",{value:b,onChange:Y=>_(Y.target.value),className:"border p-2 rounded-md w-full",children:[v.jsx("option",{value:"",children:"Frau whlen"}),L.map(Y=>v.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),v.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[v.jsx("label",{className:"font-bold",children:"Ergebnis:"}),v.jsxs("label",{className:"mr-4",children:[v.jsx("input",{type:"radio",name:"match",checked:S,onChange:()=>w(!0)}),"Perfect Match"]}),v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:"match",checked:!S,onChange:()=>w(!1)}),"No Match"]})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{type:"submit",className:"bg-pink-600 text-white px-4 py-2 rounded-md",children:A?"nderungen speichern":"Speichern"}),A&&v.jsx("button",{type:"button",onClick:M,className:"bg-gray-500 text-white px-4 py-2 rounded-md",children:"Abbrechen"})]})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-bold mb-2",children:"Bisherige Match Boxen"}),v.jsx("ul",{className:"space-y-2",children:i.truthBooths.map(Y=>{const F=k.find(le=>le.id===parseInt(Y.couple.man)),V=L.find(le=>le.id===parseInt(Y.couple.woman));return v.jsxs("li",{className:`p-2 rounded-md flex justify-between items-center ${Y.isPerfectMatch?"bg-green-100":"bg-red-100"}`,children:[v.jsxs("span",{children:[F?.name," & ",V?.name," - ",Y.isPerfectMatch?"Perfect Match":"No Match"]}),m&&v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>z(Y),className:"bg-yellow-500 text-white px-3 py-1 rounded-md",children:"Bearbeiten"}),v.jsx("button",{onClick:()=>r(i.id,Y.id),className:"bg-red-500 text-white px-3 py-1 rounded-md",children:"Lschen"})]})]},Y.id)})})]})]})}function Yg(i){if(i.length===0)return[[]];const a=i[0],r=i.slice(1),s=Yg(r),c=[];return s.forEach(f=>{for(let h=0;h<=f.length;h++){const m=[...f.slice(0,h),a,...f.slice(h)];c.push(m)}}),c}function Xg(i){let a=i.candidates.filter(h=>h.gender==="Mann"),r=i.candidates.filter(h=>h.gender==="Frau");if(a.length===0||r.length===0)return[];if(a.length!==r.length)return console.error("Solver does not yet support uneven numbers of candidates."),[];const s=r.map(h=>h.id),c=a.map(h=>h.id);let f=Yg(s).map(h=>{const m={};return c.forEach((g,p)=>{m[g]=h[p]}),m});return i.truthBooths.forEach(h=>{const m=parseInt(h.couple.man),g=parseInt(h.couple.woman);f=f.filter(p=>h.isPerfectMatch?p[m]===g:p[m]!==g)}),i.matchingNights.forEach(h=>{f=f.filter(m=>{let g=0;return h.couples.forEach(p=>{const b=parseInt(p.mann),_=parseInt(p.frau);m[b]===_&&g++}),g===h.lights})}),f}function Lw(){const{currentSeason:i,loadingCurrentSeason:a,error:r}=xa(),{user:s}=Ft(),[c,f]=R.useState({}),[h,m]=R.useState(null),[g,p]=R.useState(!0),[b,_]=R.useState(null);if(R.useEffect(()=>{(async()=>{if(!s||!i){p(!1);return}p(!0),_(null);const{data:M,error:Q}=await Ue.from("predictions").select("prediction_data").eq("user_id",s.id).eq("season_id",i.id).single();Q&&Q.code!=="PGRST116"?(console.error("Error fetching predictions:",Q),_(Q.message),f({})):f(M?M.prediction_data:{}),p(!1)})()},[s,i]),!i)return v.jsxs("div",{className:"p-8",children:[v.jsx("h1",{className:"text-2xl font-bold",children:"Meine Predictions"}),v.jsx("p",{children:"Bitte whle zuerst eine Staffel aus."})]});if(a||g)return v.jsx("div",{className:"p-8",children:"Loading your predictions..."});if(r||b)return v.jsxs("div",{className:"p-8 text-red-500",children:["Error: ",r||b]});const S=i.candidates.filter(z=>z.gender==="Mann"),w=i.candidates.filter(z=>z.gender==="Frau"),A=Math.min(S.length,w.length),j=(z,M)=>{f(Q=>({...Q,[z]:M}))},k=async()=>{if(!s){alert("You must be logged in to save predictions.");return}const{error:z}=await Ue.from("predictions").upsert({user_id:s.id,season_id:i.id,prediction_data:c},{onConflict:"user_id,season_id"});alert(z?"Error saving predictions: "+z.message:"Predictions saved!")},L=()=>{const z=Xg(i);if(z.length===1){const M=z[0];let Q=0;for(const Y in c)parseInt(c[Y])===M[Y]&&Q++;m(Q)}else alert(`The solver has ${z.length} possible solutions. A final check is not yet possible.`)};return v.jsxs("div",{className:"p-8",children:[v.jsxs("h1",{className:"text-2xl font-bold mb-4",children:["Meine Predictions fr ",i.name]}),v.jsxs("div",{className:"mb-8 p-4 border rounded-md",children:[v.jsx("h2",{className:"text-xl font-bold mb-2",children:"Meine Perfect Matches"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:S.map(z=>v.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-100 rounded-md",children:[v.jsx("span",{className:"font-bold w-1/3",children:z.name}),v.jsxs("select",{value:c[z.id]||"",onChange:M=>j(z.id,M.target.value),className:"border p-2 rounded-md w-2/3",children:[v.jsx("option",{value:"",children:"Frau whlen"}),w.map(M=>v.jsx("option",{value:M.id,children:M.name},M.id))]})]},z.id))}),v.jsx("button",{onClick:k,className:"bg-indigo-600 text-white px-4 py-2 rounded-md",children:"Predictions speichern"})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-bold mb-2",children:"Resume"}),v.jsx("button",{onClick:L,className:"bg-green-600 text-white px-4 py-2 rounded-md",children:"Predictions berprfen"}),h!==null&&v.jsxs("div",{className:"mt-4",children:[v.jsx("h3",{className:"text-lg font-bold",children:"Dein Ergebnis:"}),v.jsxs("p",{children:["Du hast ",h," von ",A," Perfect Matches richtig vorhergesagt!"]})]})]})]})}function qw(){const{currentSeason:i}=xa(),[a,r]=R.useState(null),[s,c]=R.useState(null);if(!i)return v.jsxs("div",{className:"p-8",children:[v.jsx("h1",{className:"text-2xl font-bold",children:"Predictions"}),v.jsx("p",{children:"Bitte whle zuerst eine Staffel aus."})]});const f=()=>{const g=Xg(i);if(c(g.length),g.length>0){const p={},b=g.length;g.forEach(S=>{for(const w in S){const A=S[w],j=`${w}-${A}`;p[j]=(p[j]||0)+1}});const _=Object.entries(p).map(([S,w])=>{const[A,j]=S.split("-");return{manId:parseInt(A),womanId:parseInt(j),probability:w/b*100}});_.sort((S,w)=>w.probability-S.probability),r(_)}else r([])},h=i.candidates.filter(g=>g.gender==="Mann"),m=i.candidates.filter(g=>g.gender==="Frau");return v.jsxs("div",{className:"p-8",children:[v.jsxs("h1",{className:"text-2xl font-bold mb-4",children:["Predictions for ",i.name]}),v.jsx("button",{onClick:f,className:"bg-indigo-600 text-white px-4 py-2 rounded-md mb-8",children:"Mgliche Matches berechnen"}),s!==null&&v.jsxs("h2",{className:"text-xl font-bold mb-2",children:[s," mgliche Lsung(en) gefunden"]}),a&&v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold mb-2",children:"Match Wahrscheinlichkeiten"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(({manId:g,womanId:p,probability:b})=>{const _=h.find(w=>w.id===g),S=m.find(w=>w.id===p);return v.jsxs("div",{className:"p-4 bg-gray-100 rounded-md",children:[v.jsxs("p",{className:"font-bold",children:[_?.name," & ",S?.name]}),v.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mt-2",children:v.jsx("div",{className:`h-4 rounded-full ${b===100?"bg-green-500":"bg-blue-500"}`,style:{width:`${b}%`}})}),v.jsxs("p",{className:"text-right",children:[b.toFixed(2),"%"]})]},`${g}-${p}`)})})]})]})}const Hw=()=>{const[i,a]=R.useState(""),[r,s]=R.useState(""),[c,f]=R.useState(!1),[h,m]=R.useState(!1),[g,p]=R.useState(""),[b,_]=R.useState(""),{signUp:S,signIn:w}=Ft(),A=async j=>{j.preventDefault(),m(!0),p(""),_("");try{if(c){const{error:k}=await S({email:i,password:r});if(k)throw k;_("Check your email for the confirmation link!")}else{const{error:k}=await w({email:i,password:r});if(k)throw k}}catch(k){p(k.message)}finally{m(!1)}};return v.jsxs("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-pink-500 via-purple-500 to-indigo-500 relative overflow-hidden",children:[v.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[v.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-96 h-96 bg-white opacity-10 rounded-full blur-3xl animate-pulse"}),v.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-pink-300 opacity-20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),v.jsx("div",{className:"max-w-md w-full space-y-8 relative z-10",children:v.jsxs("div",{className:"bg-white/90 backdrop-blur-lg p-10 rounded-3xl shadow-2xl border border-white/50",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"mt-2 text-center text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-pink-600 to-indigo-600 drop-shadow-sm",children:c?"Join the Search":"Welcome Back"}),v.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:c?"Find your perfect match today":"Continue your journey to 100%"})]}),v.jsxs("form",{className:"mt-8 space-y-6",onSubmit:A,children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"relative group",children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 ml-1 mb-1",children:"Email address"}),v.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:j=>a(j.target.value),className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 bg-white/50",placeholder:"you@example.com"})]}),v.jsxs("div",{className:"relative group",children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 ml-1 mb-1",children:"Password"}),v.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:j=>s(j.target.value),className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 bg-white/50",placeholder:""})]})]}),g&&v.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md animate-bounce-in",children:v.jsxs("div",{className:"flex",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-0.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),v.jsx("div",{className:"ml-3",children:v.jsx("p",{className:"text-sm text-red-700",children:g})})]})}),b&&v.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-md",children:v.jsx("div",{className:"flex",children:v.jsx("div",{className:"ml-3",children:v.jsx("p",{className:"text-sm text-green-700",children:b})})})}),v.jsx("div",{children:v.jsxs("button",{type:"submit",disabled:h,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-xl text-white bg-gradient-to-r from-pink-600 to-indigo-600 hover:from-pink-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[h?v.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,h?"Processing...":c?"Start Your Search":"Sign In"]})})]}),v.jsxs("div",{className:"mt-8",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("div",{className:"w-full border-t border-gray-200"})}),v.jsx("div",{className:"relative flex justify-center text-sm",children:v.jsx("span",{className:"px-4 bg-white/0 backdrop-blur-sm text-gray-500 font-medium",children:c?"Already have an account?":"New to AYTO?"})})]}),v.jsx("div",{className:"mt-6",children:v.jsx("button",{onClick:()=>{f(!c),p(""),_("")},className:"w-full flex justify-center py-3 px-4 border-2 border-pink-100 rounded-xl shadow-sm text-sm font-medium text-pink-600 bg-white hover:bg-pink-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 transition-colors duration-200",children:c?"Sign In to Existing Account":"Create New Account"})})]})]})})]})},$w=({children:i})=>{const{user:a}=Ft();return a?i:v.jsx(Fo,{to:"/auth"})},Gw=({children:i})=>{const{user:a,profile:r}=Ft();return a?r?.role!=="admin"?v.jsx(Fo,{to:"/"}):i:v.jsx(Fo,{to:"/auth"})},Vw=()=>v.jsxs("div",{children:[v.jsx("h1",{children:"Admin Page"}),v.jsx("p",{children:"This is where admins can generate general details."})]});function Kw(){const{loadingSeasons:i,loadingCurrentSeason:a,error:r}=xa();return i||a?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-pink-500 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium",children:"Lade Daten..."})]})}):r?v.jsxs("div",{className:"min-h-screen flex items-center justify-center text-xl text-red-500",children:["Error: ",r]}):v.jsxs(v.Fragment,{children:[v.jsx(Uw,{}),v.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:v.jsxs(w0,{children:[v.jsx(bn,{path:"/",element:v.jsx(Dw,{})}),v.jsx(bn,{path:"/candidates",element:v.jsx(zw,{})}),v.jsx(bn,{path:"/matching-night",element:v.jsx(Mw,{})}),v.jsx(bn,{path:"/matching-box",element:v.jsx(Bw,{})}),v.jsx(bn,{path:"/my-predictions",element:v.jsx($w,{children:v.jsx(Lw,{})})}),v.jsx(bn,{path:"/predictions",element:v.jsx(qw,{})}),v.jsx(bn,{path:"/auth",element:v.jsx(Hw,{})}),v.jsx(bn,{path:"/admin",element:v.jsx(Gw,{children:v.jsx(Vw,{})})})]})})]})}xv.createRoot(document.getElementById("root")).render(v.jsx(R.StrictMode,{children:v.jsx(Y0,{basename:"/ayto/",children:v.jsx(Nw,{children:v.jsx(kw,{children:v.jsx(Kw,{})})})})}));
